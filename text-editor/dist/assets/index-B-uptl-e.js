(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ep(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tp={exports:{}},el={},np={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qs=Symbol.for("react.element"),Qv=Symbol.for("react.portal"),Yv=Symbol.for("react.fragment"),qv=Symbol.for("react.strict_mode"),Gv=Symbol.for("react.profiler"),Kv=Symbol.for("react.provider"),Jv=Symbol.for("react.context"),Zv=Symbol.for("react.forward_ref"),Xv=Symbol.for("react.suspense"),e0=Symbol.for("react.memo"),t0=Symbol.for("react.lazy"),Gd=Symbol.iterator;function n0(t){return t===null||typeof t!="object"?null:(t=Gd&&t[Gd]||t["@@iterator"],typeof t=="function"?t:null)}var rp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ip=Object.assign,sp={};function Li(t,e,n){this.props=t,this.context=e,this.refs=sp,this.updater=n||rp}Li.prototype.isReactComponent={};Li.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Li.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function op(){}op.prototype=Li.prototype;function Ic(t,e,n){this.props=t,this.context=e,this.refs=sp,this.updater=n||rp}var Ec=Ic.prototype=new op;Ec.constructor=Ic;ip(Ec,Li.prototype);Ec.isPureReactComponent=!0;var Kd=Array.isArray,ap=Object.prototype.hasOwnProperty,Nc={current:null},lp={key:!0,ref:!0,__self:!0,__source:!0};function up(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ap.call(e,r)&&!lp.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Qs,type:t,key:s,ref:o,props:i,_owner:Nc.current}}function r0(t,e){return{$$typeof:Qs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qs}function i0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jd=/\/+/g;function El(t,e){return typeof t=="object"&&t!==null&&t.key!=null?i0(""+t.key):e.toString(36)}function To(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qs:case Qv:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+El(o,0):r,Kd(i)?(n="",t!=null&&(n=t.replace(Jd,"$&/")+"/"),To(i,e,n,"",function(u){return u})):i!=null&&(Tc(i)&&(i=r0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Jd,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Kd(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+El(s,a);o+=To(s,e,n,l,i)}else if(l=n0(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+El(s,a++),o+=To(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ro(t,e,n){if(t==null)return t;var r=[],i=0;return To(t,r,"","",function(s){return e.call(n,s,i++)}),r}function s0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var it={current:null},ko={transition:null},o0={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:ko,ReactCurrentOwner:Nc};function cp(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:ro,forEach:function(t,e,n){ro(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ro(t,function(){e++}),e},toArray:function(t){return ro(t,function(e){return e})||[]},only:function(t){if(!Tc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=Li;ne.Fragment=Yv;ne.Profiler=Gv;ne.PureComponent=Ic;ne.StrictMode=qv;ne.Suspense=Xv;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o0;ne.act=cp;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ip({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Nc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ap.call(e,l)&&!lp.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Qs,type:t.type,key:i,ref:s,props:r,_owner:o}};ne.createContext=function(t){return t={$$typeof:Jv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kv,_context:t},t.Consumer=t};ne.createElement=up;ne.createFactory=function(t){var e=up.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:Zv,render:t}};ne.isValidElement=Tc;ne.lazy=function(t){return{$$typeof:t0,_payload:{_status:-1,_result:t},_init:s0}};ne.memo=function(t,e){return{$$typeof:e0,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=ko.transition;ko.transition={};try{t()}finally{ko.transition=e}};ne.unstable_act=cp;ne.useCallback=function(t,e){return it.current.useCallback(t,e)};ne.useContext=function(t){return it.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return it.current.useDeferredValue(t)};ne.useEffect=function(t,e){return it.current.useEffect(t,e)};ne.useId=function(){return it.current.useId()};ne.useImperativeHandle=function(t,e,n){return it.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return it.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return it.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return it.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return it.current.useReducer(t,e,n)};ne.useRef=function(t){return it.current.useRef(t)};ne.useState=function(t){return it.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return it.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return it.current.useTransition()};ne.version="18.3.1";np.exports=ne;var O=np.exports;const qn=ep(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0=O,l0=Symbol.for("react.element"),u0=Symbol.for("react.fragment"),c0=Object.prototype.hasOwnProperty,d0=a0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f0={key:!0,ref:!0,__self:!0,__source:!0};function dp(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)c0.call(e,r)&&!f0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:l0,type:t,key:s,ref:o,props:i,_owner:d0.current}}el.Fragment=u0;el.jsx=dp;el.jsxs=dp;tp.exports=el;var c=tp.exports,pu={},fp={exports:{}},Et={},hp={exports:{}},pp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,B){var q=C.length;C.push(B);e:for(;0<q;){var I=q-1>>>1,D=C[I];if(0<i(D,B))C[I]=B,C[q]=D,q=I;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var B=C[0],q=C.pop();if(q!==B){C[0]=q;e:for(var I=0,D=C.length,ie=D>>>1;I<ie;){var Ee=2*(I+1)-1,Re=C[Ee],pn=Ee+1,Lr=C[pn];if(0>i(Re,q))pn<D&&0>i(Lr,Re)?(C[I]=Lr,C[pn]=q,I=pn):(C[I]=Re,C[Ee]=q,I=Ee);else if(pn<D&&0>i(Lr,q))C[I]=Lr,C[pn]=q,I=pn;else break e}}return B}function i(C,B){var q=C.sortIndex-B.sortIndex;return q!==0?q:C.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,g=3,v=!1,w=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(C){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=C)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function x(C){if(S=!1,m(C),!w)if(n(l)!==null)w=!0,A(E);else{var B=n(u);B!==null&&me(x,B.startTime-C)}}function E(C,B){w=!1,S&&(S=!1,p(T),T=-1),v=!0;var q=g;try{for(m(B),h=n(l);h!==null&&(!(h.expirationTime>B)||C&&!L());){var I=h.callback;if(typeof I=="function"){h.callback=null,g=h.priorityLevel;var D=I(h.expirationTime<=B);B=t.unstable_now(),typeof D=="function"?h.callback=D:h===n(l)&&r(l),m(B)}else r(l);h=n(l)}if(h!==null)var ie=!0;else{var Ee=n(u);Ee!==null&&me(x,Ee.startTime-B),ie=!1}return ie}finally{h=null,g=q,v=!1}}var _=!1,N=null,T=-1,R=5,b=-1;function L(){return!(t.unstable_now()-b<R)}function Ie(){if(N!==null){var C=t.unstable_now();b=C;var B=!0;try{B=N(!0,C)}finally{B?je():(_=!1,N=null)}}else _=!1}var je;if(typeof f=="function")je=function(){f(Ie)};else if(typeof MessageChannel<"u"){var Tt=new MessageChannel,G=Tt.port2;Tt.port1.onmessage=Ie,je=function(){G.postMessage(null)}}else je=function(){k(Ie,0)};function A(C){N=C,_||(_=!0,je())}function me(C,B){T=k(function(){C(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,A(E))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(g){case 1:case 2:case 3:var B=3;break;default:B=g}var q=g;g=B;try{return C()}finally{g=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,B){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var q=g;g=C;try{return B()}finally{g=q}},t.unstable_scheduleCallback=function(C,B,q){var I=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?I+q:I):q=I,C){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=q+D,C={id:d++,callback:B,priorityLevel:C,startTime:q,expirationTime:D,sortIndex:-1},q>I?(C.sortIndex=q,e(u,C),n(l)===null&&C===n(u)&&(S?(p(T),T=-1):S=!0,me(x,q-I))):(C.sortIndex=D,e(l,C),w||v||(w=!0,A(E))),C},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(C){var B=g;return function(){var q=g;g=B;try{return C.apply(this,arguments)}finally{g=q}}}})(pp);hp.exports=pp;var h0=hp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0=O,bt=h0;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yp=new Set,_s={};function Cr(t,e){Si(t,e),Si(t+"Capture",e)}function Si(t,e){for(_s[t]=e,t=0;t<e.length;t++)yp.add(e[t])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yu=Object.prototype.hasOwnProperty,y0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zd={},Xd={};function m0(t){return yu.call(Xd,t)?!0:yu.call(Zd,t)?!1:y0.test(t)?Xd[t]=!0:(Zd[t]=!0,!1)}function g0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function v0(t,e,n,r){if(e===null||typeof e>"u"||g0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function st(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){He[t]=new st(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];He[e]=new st(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){He[t]=new st(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){He[t]=new st(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){He[t]=new st(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){He[t]=new st(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){He[t]=new st(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){He[t]=new st(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){He[t]=new st(t,5,!1,t.toLowerCase(),null,!1,!1)});var kc=/[\-:]([a-z])/g;function Oc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kc,Oc);He[e]=new st(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kc,Oc);He[e]=new st(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kc,Oc);He[e]=new st(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){He[t]=new st(t,1,!1,t.toLowerCase(),null,!1,!1)});He.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){He[t]=new st(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fc(t,e,n,r){var i=He.hasOwnProperty(e)?He[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(v0(e,n,i,r)&&(n=null),r||i===null?m0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var An=p0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,io=Symbol.for("react.element"),Jr=Symbol.for("react.portal"),Zr=Symbol.for("react.fragment"),Rc=Symbol.for("react.strict_mode"),mu=Symbol.for("react.profiler"),mp=Symbol.for("react.provider"),gp=Symbol.for("react.context"),Cc=Symbol.for("react.forward_ref"),gu=Symbol.for("react.suspense"),vu=Symbol.for("react.suspense_list"),Ac=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),vp=Symbol.for("react.offscreen"),ef=Symbol.iterator;function Ui(t){return t===null||typeof t!="object"?null:(t=ef&&t[ef]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,Nl;function Gi(t){if(Nl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nl=e&&e[1]||""}return`
`+Nl+t}var Tl=!1;function kl(t,e){if(!t||Tl)return"";Tl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Tl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gi(t):""}function w0(t){switch(t.tag){case 5:return Gi(t.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 2:case 15:return t=kl(t.type,!1),t;case 11:return t=kl(t.type.render,!1),t;case 1:return t=kl(t.type,!0),t;default:return""}}function wu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zr:return"Fragment";case Jr:return"Portal";case mu:return"Profiler";case Rc:return"StrictMode";case gu:return"Suspense";case vu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gp:return(t.displayName||"Context")+".Consumer";case mp:return(t._context.displayName||"Context")+".Provider";case Cc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ac:return e=t.displayName||null,e!==null?e:wu(t.type)||"Memo";case Un:e=t._payload,t=t._init;try{return wu(t(e))}catch{}}return null}function _0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wu(e);case 8:return e===Rc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ir(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function S0(t){var e=wp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function so(t){t._valueTracker||(t._valueTracker=S0(t))}function _p(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _u(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function tf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ir(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sp(t,e){e=e.checked,e!=null&&Fc(t,"checked",e,!1)}function Su(t,e){Sp(t,e);var n=ir(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xu(t,e.type,n):e.hasOwnProperty("defaultValue")&&xu(t,e.type,ir(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xu(t,e,n){(e!=="number"||Zo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ki=Array.isArray;function di(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ir(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Ki(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ir(n)}}function xp(t,e){var n=ir(e.value),r=ir(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var oo,Ip=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(oo=oo||document.createElement("div"),oo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ss(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x0=["Webkit","ms","Moz","O"];Object.keys(ls).forEach(function(t){x0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ls[e]=ls[t]})});function Ep(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ls.hasOwnProperty(t)&&ls[t]?(""+e).trim():e+"px"}function Np(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ep(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var b0=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eu(t,e){if(e){if(b0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Nu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=null;function Dc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ku=null,fi=null,hi=null;function of(t){if(t=Gs(t)){if(typeof ku!="function")throw Error(F(280));var e=t.stateNode;e&&(e=sl(e),ku(t.stateNode,t.type,e))}}function Tp(t){fi?hi?hi.push(t):hi=[t]:fi=t}function kp(){if(fi){var t=fi,e=hi;if(hi=fi=null,of(t),e)for(t=0;t<e.length;t++)of(e[t])}}function Op(t,e){return t(e)}function Fp(){}var Ol=!1;function Rp(t,e,n){if(Ol)return t(e,n);Ol=!0;try{return Op(t,e,n)}finally{Ol=!1,(fi!==null||hi!==null)&&(Fp(),kp())}}function xs(t,e){var n=t.stateNode;if(n===null)return null;var r=sl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Ou=!1;if(kn)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{Ou=!1}function I0(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var us=!1,Xo=null,ea=!1,Fu=null,E0={onError:function(t){us=!0,Xo=t}};function N0(t,e,n,r,i,s,o,a,l){us=!1,Xo=null,I0.apply(E0,arguments)}function T0(t,e,n,r,i,s,o,a,l){if(N0.apply(this,arguments),us){if(us){var u=Xo;us=!1,Xo=null}else throw Error(F(198));ea||(ea=!0,Fu=u)}}function Ar(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Cp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function af(t){if(Ar(t)!==t)throw Error(F(188))}function k0(t){var e=t.alternate;if(!e){if(e=Ar(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return af(i),t;if(s===r)return af(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function Ap(t){return t=k0(t),t!==null?Dp(t):null}function Dp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Dp(t);if(e!==null)return e;t=t.sibling}return null}var Lp=bt.unstable_scheduleCallback,lf=bt.unstable_cancelCallback,O0=bt.unstable_shouldYield,F0=bt.unstable_requestPaint,Ae=bt.unstable_now,R0=bt.unstable_getCurrentPriorityLevel,Lc=bt.unstable_ImmediatePriority,jp=bt.unstable_UserBlockingPriority,ta=bt.unstable_NormalPriority,C0=bt.unstable_LowPriority,Mp=bt.unstable_IdlePriority,tl=null,un=null;function A0(t){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(tl,t,void 0,(t.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:j0,D0=Math.log,L0=Math.LN2;function j0(t){return t>>>=0,t===0?32:31-(D0(t)/L0|0)|0}var ao=64,lo=4194304;function Ji(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function na(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ji(a):(s&=o,s!==0&&(r=Ji(s)))}else o=n&~i,o!==0?r=Ji(o):s!==0&&(r=Ji(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qt(e),i=1<<n,r|=t[n],e&=~i;return r}function M0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Qt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=M0(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ru(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Bp(){var t=ao;return ao<<=1,!(ao&4194240)&&(ao=64),t}function Fl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ys(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qt(e),t[e]=n}function P0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function jc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var pe=0;function Pp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Up,Mc,zp,$p,Vp,Cu=!1,uo=[],Gn=null,Kn=null,Jn=null,bs=new Map,Is=new Map,Wn=[],U0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uf(t,e){switch(t){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":bs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Is.delete(e.pointerId)}}function $i(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Gs(e),e!==null&&Mc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function z0(t,e,n,r,i){switch(e){case"focusin":return Gn=$i(Gn,t,e,n,r,i),!0;case"dragenter":return Kn=$i(Kn,t,e,n,r,i),!0;case"mouseover":return Jn=$i(Jn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return bs.set(s,$i(bs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Is.set(s,$i(Is.get(s)||null,t,e,n,r,i)),!0}return!1}function Wp(t){var e=vr(t.target);if(e!==null){var n=Ar(e);if(n!==null){if(e=n.tag,e===13){if(e=Cp(n),e!==null){t.blockedOn=e,Vp(t.priority,function(){zp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Au(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tu=r,n.target.dispatchEvent(r),Tu=null}else return e=Gs(n),e!==null&&Mc(e),t.blockedOn=n,!1;e.shift()}return!0}function cf(t,e,n){Oo(t)&&n.delete(e)}function $0(){Cu=!1,Gn!==null&&Oo(Gn)&&(Gn=null),Kn!==null&&Oo(Kn)&&(Kn=null),Jn!==null&&Oo(Jn)&&(Jn=null),bs.forEach(cf),Is.forEach(cf)}function Vi(t,e){t.blockedOn===e&&(t.blockedOn=null,Cu||(Cu=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,$0)))}function Es(t){function e(i){return Vi(i,t)}if(0<uo.length){Vi(uo[0],t);for(var n=1;n<uo.length;n++){var r=uo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gn!==null&&Vi(Gn,t),Kn!==null&&Vi(Kn,t),Jn!==null&&Vi(Jn,t),bs.forEach(e),Is.forEach(e),n=0;n<Wn.length;n++)r=Wn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wn.length&&(n=Wn[0],n.blockedOn===null);)Wp(n),n.blockedOn===null&&Wn.shift()}var pi=An.ReactCurrentBatchConfig,ra=!0;function V0(t,e,n,r){var i=pe,s=pi.transition;pi.transition=null;try{pe=1,Bc(t,e,n,r)}finally{pe=i,pi.transition=s}}function W0(t,e,n,r){var i=pe,s=pi.transition;pi.transition=null;try{pe=4,Bc(t,e,n,r)}finally{pe=i,pi.transition=s}}function Bc(t,e,n,r){if(ra){var i=Au(t,e,n,r);if(i===null)Ul(t,e,r,ia,n),uf(t,r);else if(z0(i,t,e,n,r))r.stopPropagation();else if(uf(t,r),e&4&&-1<U0.indexOf(t)){for(;i!==null;){var s=Gs(i);if(s!==null&&Up(s),s=Au(t,e,n,r),s===null&&Ul(t,e,r,ia,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ul(t,e,r,null,n)}}var ia=null;function Au(t,e,n,r){if(ia=null,t=Dc(r),t=vr(t),t!==null)if(e=Ar(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Cp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ia=t,null}function Hp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R0()){case Lc:return 1;case jp:return 4;case ta:case C0:return 16;case Mp:return 536870912;default:return 16}default:return 16}}var Qn=null,Pc=null,Fo=null;function Qp(){if(Fo)return Fo;var t,e=Pc,n=e.length,r,i="value"in Qn?Qn.value:Qn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Fo=i.slice(t,1<r?1-r:void 0)}function Ro(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function co(){return!0}function df(){return!1}function Nt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?co:df,this.isPropagationStopped=df,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=co)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=co)},persist:function(){},isPersistent:co}),e}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=Nt(ji),qs=Oe({},ji,{view:0,detail:0}),H0=Nt(qs),Rl,Cl,Wi,nl=Oe({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wi&&(Wi&&t.type==="mousemove"?(Rl=t.screenX-Wi.screenX,Cl=t.screenY-Wi.screenY):Cl=Rl=0,Wi=t),Rl)},movementY:function(t){return"movementY"in t?t.movementY:Cl}}),ff=Nt(nl),Q0=Oe({},nl,{dataTransfer:0}),Y0=Nt(Q0),q0=Oe({},qs,{relatedTarget:0}),Al=Nt(q0),G0=Oe({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),K0=Nt(G0),J0=Oe({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Z0=Nt(J0),X0=Oe({},ji,{data:0}),hf=Nt(X0),e1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=n1[t])?!!e[t]:!1}function zc(){return r1}var i1=Oe({},qs,{key:function(t){if(t.key){var e=e1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ro(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?t1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zc,charCode:function(t){return t.type==="keypress"?Ro(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ro(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),s1=Nt(i1),o1=Oe({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pf=Nt(o1),a1=Oe({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zc}),l1=Nt(a1),u1=Oe({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),c1=Nt(u1),d1=Oe({},nl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),f1=Nt(d1),h1=[9,13,27,32],$c=kn&&"CompositionEvent"in window,cs=null;kn&&"documentMode"in document&&(cs=document.documentMode);var p1=kn&&"TextEvent"in window&&!cs,Yp=kn&&(!$c||cs&&8<cs&&11>=cs),yf=" ",mf=!1;function qp(t,e){switch(t){case"keyup":return h1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xr=!1;function y1(t,e){switch(t){case"compositionend":return Gp(e);case"keypress":return e.which!==32?null:(mf=!0,yf);case"textInput":return t=e.data,t===yf&&mf?null:t;default:return null}}function m1(t,e){if(Xr)return t==="compositionend"||!$c&&qp(t,e)?(t=Qp(),Fo=Pc=Qn=null,Xr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yp&&e.locale!=="ko"?null:e.data;default:return null}}var g1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!g1[t.type]:e==="textarea"}function Kp(t,e,n,r){Tp(r),e=sa(e,"onChange"),0<e.length&&(n=new Uc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ds=null,Ns=null;function v1(t){ay(t,0)}function rl(t){var e=ni(t);if(_p(e))return t}function w1(t,e){if(t==="change")return e}var Jp=!1;if(kn){var Dl;if(kn){var Ll="oninput"in document;if(!Ll){var vf=document.createElement("div");vf.setAttribute("oninput","return;"),Ll=typeof vf.oninput=="function"}Dl=Ll}else Dl=!1;Jp=Dl&&(!document.documentMode||9<document.documentMode)}function wf(){ds&&(ds.detachEvent("onpropertychange",Zp),Ns=ds=null)}function Zp(t){if(t.propertyName==="value"&&rl(Ns)){var e=[];Kp(e,Ns,t,Dc(t)),Rp(v1,e)}}function _1(t,e,n){t==="focusin"?(wf(),ds=e,Ns=n,ds.attachEvent("onpropertychange",Zp)):t==="focusout"&&wf()}function S1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rl(Ns)}function x1(t,e){if(t==="click")return rl(e)}function b1(t,e){if(t==="input"||t==="change")return rl(e)}function I1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gt=typeof Object.is=="function"?Object.is:I1;function Ts(t,e){if(Gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!yu.call(e,i)||!Gt(t[i],e[i]))return!1}return!0}function _f(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sf(t,e){var n=_f(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_f(n)}}function Xp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ey(){for(var t=window,e=Zo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zo(t.document)}return e}function Vc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function E1(t){var e=ey(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Xp(n.ownerDocument.documentElement,n)){if(r!==null&&Vc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Sf(n,s);var o=Sf(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var N1=kn&&"documentMode"in document&&11>=document.documentMode,ei=null,Du=null,fs=null,Lu=!1;function xf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lu||ei==null||ei!==Zo(r)||(r=ei,"selectionStart"in r&&Vc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fs&&Ts(fs,r)||(fs=r,r=sa(Du,"onSelect"),0<r.length&&(e=new Uc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ei)))}function fo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ti={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionend:fo("Transition","TransitionEnd")},jl={},ty={};kn&&(ty=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function il(t){if(jl[t])return jl[t];if(!ti[t])return t;var e=ti[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ty)return jl[t]=e[n];return t}var ny=il("animationend"),ry=il("animationiteration"),iy=il("animationstart"),sy=il("transitionend"),oy=new Map,bf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(t,e){oy.set(t,e),Cr(e,[t])}for(var Ml=0;Ml<bf.length;Ml++){var Bl=bf[Ml],T1=Bl.toLowerCase(),k1=Bl[0].toUpperCase()+Bl.slice(1);cr(T1,"on"+k1)}cr(ny,"onAnimationEnd");cr(ry,"onAnimationIteration");cr(iy,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(sy,"onTransitionEnd");Si("onMouseEnter",["mouseout","mouseover"]);Si("onMouseLeave",["mouseout","mouseover"]);Si("onPointerEnter",["pointerout","pointerover"]);Si("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zi));function If(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,T0(r,e,void 0,t),t.currentTarget=null}function ay(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;If(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;If(i,a,u),s=l}}}if(ea)throw t=Fu,ea=!1,Fu=null,t}function we(t,e){var n=e[Uu];n===void 0&&(n=e[Uu]=new Set);var r=t+"__bubble";n.has(r)||(ly(e,t,2,!1),n.add(r))}function Pl(t,e,n){var r=0;e&&(r|=4),ly(n,t,r,e)}var ho="_reactListening"+Math.random().toString(36).slice(2);function ks(t){if(!t[ho]){t[ho]=!0,yp.forEach(function(n){n!=="selectionchange"&&(O1.has(n)||Pl(n,!1,t),Pl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ho]||(e[ho]=!0,Pl("selectionchange",!1,e))}}function ly(t,e,n,r){switch(Hp(e)){case 1:var i=V0;break;case 4:i=W0;break;default:i=Bc}n=i.bind(null,e,n,t),i=void 0,!Ou||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ul(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=vr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Rp(function(){var u=s,d=Dc(n),h=[];e:{var g=oy.get(t);if(g!==void 0){var v=Uc,w=t;switch(t){case"keypress":if(Ro(n)===0)break e;case"keydown":case"keyup":v=s1;break;case"focusin":w="focus",v=Al;break;case"focusout":w="blur",v=Al;break;case"beforeblur":case"afterblur":v=Al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ff;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Y0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=l1;break;case ny:case ry:case iy:v=K0;break;case sy:v=c1;break;case"scroll":v=H0;break;case"wheel":v=f1;break;case"copy":case"cut":case"paste":v=Z0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=pf}var S=(e&4)!==0,k=!S&&t==="scroll",p=S?g!==null?g+"Capture":null:g;S=[];for(var f=u,m;f!==null;){m=f;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,p!==null&&(x=xs(f,p),x!=null&&S.push(Os(f,x,m)))),k)break;f=f.return}0<S.length&&(g=new v(g,w,null,n,d),h.push({event:g,listeners:S}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==Tu&&(w=n.relatedTarget||n.fromElement)&&(vr(w)||w[On]))break e;if((v||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?vr(w):null,w!==null&&(k=Ar(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(S=ff,x="onMouseLeave",p="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(S=pf,x="onPointerLeave",p="onPointerEnter",f="pointer"),k=v==null?g:ni(v),m=w==null?g:ni(w),g=new S(x,f+"leave",v,n,d),g.target=k,g.relatedTarget=m,x=null,vr(d)===u&&(S=new S(p,f+"enter",w,n,d),S.target=m,S.relatedTarget=k,x=S),k=x,v&&w)t:{for(S=v,p=w,f=0,m=S;m;m=jr(m))f++;for(m=0,x=p;x;x=jr(x))m++;for(;0<f-m;)S=jr(S),f--;for(;0<m-f;)p=jr(p),m--;for(;f--;){if(S===p||p!==null&&S===p.alternate)break t;S=jr(S),p=jr(p)}S=null}else S=null;v!==null&&Ef(h,g,v,S,!1),w!==null&&k!==null&&Ef(h,k,w,S,!0)}}e:{if(g=u?ni(u):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var E=w1;else if(gf(g))if(Jp)E=b1;else{E=S1;var _=_1}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(E=x1);if(E&&(E=E(t,u))){Kp(h,E,n,d);break e}_&&_(t,g,u),t==="focusout"&&(_=g._wrapperState)&&_.controlled&&g.type==="number"&&xu(g,"number",g.value)}switch(_=u?ni(u):window,t){case"focusin":(gf(_)||_.contentEditable==="true")&&(ei=_,Du=u,fs=null);break;case"focusout":fs=Du=ei=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,xf(h,n,d);break;case"selectionchange":if(N1)break;case"keydown":case"keyup":xf(h,n,d)}var N;if($c)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Xr?qp(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Yp&&n.locale!=="ko"&&(Xr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Xr&&(N=Qp()):(Qn=d,Pc="value"in Qn?Qn.value:Qn.textContent,Xr=!0)),_=sa(u,T),0<_.length&&(T=new hf(T,t,null,n,d),h.push({event:T,listeners:_}),N?T.data=N:(N=Gp(n),N!==null&&(T.data=N)))),(N=p1?y1(t,n):m1(t,n))&&(u=sa(u,"onBeforeInput"),0<u.length&&(d=new hf("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=N))}ay(h,e)})}function Os(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sa(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xs(t,n),s!=null&&r.unshift(Os(t,s,i)),s=xs(t,e),s!=null&&r.push(Os(t,s,i))),t=t.return}return r}function jr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ef(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=xs(n,s),l!=null&&o.unshift(Os(n,l,a))):i||(l=xs(n,s),l!=null&&o.push(Os(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var F1=/\r\n?/g,R1=/\u0000|\uFFFD/g;function Nf(t){return(typeof t=="string"?t:""+t).replace(F1,`
`).replace(R1,"")}function po(t,e,n){if(e=Nf(e),Nf(t)!==e&&n)throw Error(F(425))}function oa(){}var ju=null,Mu=null;function Bu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pu=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,Tf=typeof Promise=="function"?Promise:void 0,A1=typeof queueMicrotask=="function"?queueMicrotask:typeof Tf<"u"?function(t){return Tf.resolve(null).then(t).catch(D1)}:Pu;function D1(t){setTimeout(function(){throw t})}function zl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Es(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Es(e)}function Zn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mi=Math.random().toString(36).slice(2),nn="__reactFiber$"+Mi,Fs="__reactProps$"+Mi,On="__reactContainer$"+Mi,Uu="__reactEvents$"+Mi,L1="__reactListeners$"+Mi,j1="__reactHandles$"+Mi;function vr(t){var e=t[nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[On]||n[nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kf(t);t!==null;){if(n=t[nn])return n;t=kf(t)}return e}t=n,n=t.parentNode}return null}function Gs(t){return t=t[nn]||t[On],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ni(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function sl(t){return t[Fs]||null}var zu=[],ri=-1;function dr(t){return{current:t}}function _e(t){0>ri||(t.current=zu[ri],zu[ri]=null,ri--)}function ve(t,e){ri++,zu[ri]=t.current,t.current=e}var sr={},Ke=dr(sr),ft=dr(!1),Er=sr;function xi(t,e){var n=t.type.contextTypes;if(!n)return sr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ht(t){return t=t.childContextTypes,t!=null}function aa(){_e(ft),_e(Ke)}function Of(t,e,n){if(Ke.current!==sr)throw Error(F(168));ve(Ke,e),ve(ft,n)}function uy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,_0(t)||"Unknown",i));return Oe({},n,r)}function la(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sr,Er=Ke.current,ve(Ke,t),ve(ft,ft.current),!0}function Ff(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=uy(t,e,Er),r.__reactInternalMemoizedMergedChildContext=t,_e(ft),_e(Ke),ve(Ke,t)):_e(ft),ve(ft,n)}var Sn=null,ol=!1,$l=!1;function cy(t){Sn===null?Sn=[t]:Sn.push(t)}function M1(t){ol=!0,cy(t)}function fr(){if(!$l&&Sn!==null){$l=!0;var t=0,e=pe;try{var n=Sn;for(pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sn=null,ol=!1}catch(i){throw Sn!==null&&(Sn=Sn.slice(t+1)),Lp(Lc,fr),i}finally{pe=e,$l=!1}}return null}var ii=[],si=0,ua=null,ca=0,Ft=[],Rt=0,Nr=null,In=1,En="";function yr(t,e){ii[si++]=ca,ii[si++]=ua,ua=t,ca=e}function dy(t,e,n){Ft[Rt++]=In,Ft[Rt++]=En,Ft[Rt++]=Nr,Nr=t;var r=In;t=En;var i=32-Qt(r)-1;r&=~(1<<i),n+=1;var s=32-Qt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,In=1<<32-Qt(e)+i|n<<i|r,En=s+t}else In=1<<s|n<<i|r,En=t}function Wc(t){t.return!==null&&(yr(t,1),dy(t,1,0))}function Hc(t){for(;t===ua;)ua=ii[--si],ii[si]=null,ca=ii[--si],ii[si]=null;for(;t===Nr;)Nr=Ft[--Rt],Ft[Rt]=null,En=Ft[--Rt],Ft[Rt]=null,In=Ft[--Rt],Ft[Rt]=null}var xt=null,St=null,be=!1,Ht=null;function fy(t,e){var n=Dt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xt=t,St=Zn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xt=t,St=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Nr!==null?{id:In,overflow:En}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xt=t,St=null,!0):!1;default:return!1}}function $u(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vu(t){if(be){var e=St;if(e){var n=e;if(!Rf(t,e)){if($u(t))throw Error(F(418));e=Zn(n.nextSibling);var r=xt;e&&Rf(t,e)?fy(r,n):(t.flags=t.flags&-4097|2,be=!1,xt=t)}}else{if($u(t))throw Error(F(418));t.flags=t.flags&-4097|2,be=!1,xt=t}}}function Cf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xt=t}function yo(t){if(t!==xt)return!1;if(!be)return Cf(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bu(t.type,t.memoizedProps)),e&&(e=St)){if($u(t))throw hy(),Error(F(418));for(;e;)fy(t,e),e=Zn(e.nextSibling)}if(Cf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){St=Zn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}St=null}}else St=xt?Zn(t.stateNode.nextSibling):null;return!0}function hy(){for(var t=St;t;)t=Zn(t.nextSibling)}function bi(){St=xt=null,be=!1}function Qc(t){Ht===null?Ht=[t]:Ht.push(t)}var B1=An.ReactCurrentBatchConfig;function Hi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function mo(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Af(t){var e=t._init;return e(t._payload)}function py(t){function e(p,f){if(t){var m=p.deletions;m===null?(p.deletions=[f],p.flags|=16):m.push(f)}}function n(p,f){if(!t)return null;for(;f!==null;)e(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=nr(p,f),p.index=0,p.sibling=null,p}function s(p,f,m){return p.index=m,t?(m=p.alternate,m!==null?(m=m.index,m<f?(p.flags|=2,f):m):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,f,m,x){return f===null||f.tag!==6?(f=Gl(m,p.mode,x),f.return=p,f):(f=i(f,m),f.return=p,f)}function l(p,f,m,x){var E=m.type;return E===Zr?d(p,f,m.props.children,x,m.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Un&&Af(E)===f.type)?(x=i(f,m.props),x.ref=Hi(p,f,m),x.return=p,x):(x=Bo(m.type,m.key,m.props,null,p.mode,x),x.ref=Hi(p,f,m),x.return=p,x)}function u(p,f,m,x){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=Kl(m,p.mode,x),f.return=p,f):(f=i(f,m.children||[]),f.return=p,f)}function d(p,f,m,x,E){return f===null||f.tag!==7?(f=br(m,p.mode,x,E),f.return=p,f):(f=i(f,m),f.return=p,f)}function h(p,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Gl(""+f,p.mode,m),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case io:return m=Bo(f.type,f.key,f.props,null,p.mode,m),m.ref=Hi(p,null,f),m.return=p,m;case Jr:return f=Kl(f,p.mode,m),f.return=p,f;case Un:var x=f._init;return h(p,x(f._payload),m)}if(Ki(f)||Ui(f))return f=br(f,p.mode,m,null),f.return=p,f;mo(p,f)}return null}function g(p,f,m,x){var E=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:a(p,f,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case io:return m.key===E?l(p,f,m,x):null;case Jr:return m.key===E?u(p,f,m,x):null;case Un:return E=m._init,g(p,f,E(m._payload),x)}if(Ki(m)||Ui(m))return E!==null?null:d(p,f,m,x,null);mo(p,m)}return null}function v(p,f,m,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(m)||null,a(f,p,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case io:return p=p.get(x.key===null?m:x.key)||null,l(f,p,x,E);case Jr:return p=p.get(x.key===null?m:x.key)||null,u(f,p,x,E);case Un:var _=x._init;return v(p,f,m,_(x._payload),E)}if(Ki(x)||Ui(x))return p=p.get(m)||null,d(f,p,x,E,null);mo(f,x)}return null}function w(p,f,m,x){for(var E=null,_=null,N=f,T=f=0,R=null;N!==null&&T<m.length;T++){N.index>T?(R=N,N=null):R=N.sibling;var b=g(p,N,m[T],x);if(b===null){N===null&&(N=R);break}t&&N&&b.alternate===null&&e(p,N),f=s(b,f,T),_===null?E=b:_.sibling=b,_=b,N=R}if(T===m.length)return n(p,N),be&&yr(p,T),E;if(N===null){for(;T<m.length;T++)N=h(p,m[T],x),N!==null&&(f=s(N,f,T),_===null?E=N:_.sibling=N,_=N);return be&&yr(p,T),E}for(N=r(p,N);T<m.length;T++)R=v(N,p,T,m[T],x),R!==null&&(t&&R.alternate!==null&&N.delete(R.key===null?T:R.key),f=s(R,f,T),_===null?E=R:_.sibling=R,_=R);return t&&N.forEach(function(L){return e(p,L)}),be&&yr(p,T),E}function S(p,f,m,x){var E=Ui(m);if(typeof E!="function")throw Error(F(150));if(m=E.call(m),m==null)throw Error(F(151));for(var _=E=null,N=f,T=f=0,R=null,b=m.next();N!==null&&!b.done;T++,b=m.next()){N.index>T?(R=N,N=null):R=N.sibling;var L=g(p,N,b.value,x);if(L===null){N===null&&(N=R);break}t&&N&&L.alternate===null&&e(p,N),f=s(L,f,T),_===null?E=L:_.sibling=L,_=L,N=R}if(b.done)return n(p,N),be&&yr(p,T),E;if(N===null){for(;!b.done;T++,b=m.next())b=h(p,b.value,x),b!==null&&(f=s(b,f,T),_===null?E=b:_.sibling=b,_=b);return be&&yr(p,T),E}for(N=r(p,N);!b.done;T++,b=m.next())b=v(N,p,T,b.value,x),b!==null&&(t&&b.alternate!==null&&N.delete(b.key===null?T:b.key),f=s(b,f,T),_===null?E=b:_.sibling=b,_=b);return t&&N.forEach(function(Ie){return e(p,Ie)}),be&&yr(p,T),E}function k(p,f,m,x){if(typeof m=="object"&&m!==null&&m.type===Zr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case io:e:{for(var E=m.key,_=f;_!==null;){if(_.key===E){if(E=m.type,E===Zr){if(_.tag===7){n(p,_.sibling),f=i(_,m.props.children),f.return=p,p=f;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Un&&Af(E)===_.type){n(p,_.sibling),f=i(_,m.props),f.ref=Hi(p,_,m),f.return=p,p=f;break e}n(p,_);break}else e(p,_);_=_.sibling}m.type===Zr?(f=br(m.props.children,p.mode,x,m.key),f.return=p,p=f):(x=Bo(m.type,m.key,m.props,null,p.mode,x),x.ref=Hi(p,f,m),x.return=p,p=x)}return o(p);case Jr:e:{for(_=m.key;f!==null;){if(f.key===_)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(p,f.sibling),f=i(f,m.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else e(p,f);f=f.sibling}f=Kl(m,p.mode,x),f.return=p,p=f}return o(p);case Un:return _=m._init,k(p,f,_(m._payload),x)}if(Ki(m))return w(p,f,m,x);if(Ui(m))return S(p,f,m,x);mo(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,m),f.return=p,p=f):(n(p,f),f=Gl(m,p.mode,x),f.return=p,p=f),o(p)):n(p,f)}return k}var Ii=py(!0),yy=py(!1),da=dr(null),fa=null,oi=null,Yc=null;function qc(){Yc=oi=fa=null}function Gc(t){var e=da.current;_e(da),t._currentValue=e}function Wu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yi(t,e){fa=t,Yc=oi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dt=!0),t.firstContext=null)}function Mt(t){var e=t._currentValue;if(Yc!==t)if(t={context:t,memoizedValue:e,next:null},oi===null){if(fa===null)throw Error(F(308));oi=t,fa.dependencies={lanes:0,firstContext:t}}else oi=oi.next=t;return e}var wr=null;function Kc(t){wr===null?wr=[t]:wr.push(t)}function my(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Kc(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fn(t,r)}function Fn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zn=!1;function Jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fn(t,n)}return i=r.interleaved,i===null?(e.next=e,Kc(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fn(t,n)}function Co(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jc(t,n)}}function Df(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ha(t,e,n,r){var i=t.updateQueue;zn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var g=a.lane,v=a.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,S=a;switch(g=e,v=n,S.tag){case 1:if(w=S.payload,typeof w=="function"){h=w.call(v,h,g);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,g=typeof w=="function"?w.call(v,h,g):w,g==null)break e;h=Oe({},h,g);break e;case 2:zn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else v={eventTime:v,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=h):d=d.next=v,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);kr|=o,t.lanes=o,t.memoizedState=h}}function Lf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var Ks={},cn=dr(Ks),Rs=dr(Ks),Cs=dr(Ks);function _r(t){if(t===Ks)throw Error(F(174));return t}function Zc(t,e){switch(ve(Cs,e),ve(Rs,t),ve(cn,Ks),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Iu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Iu(e,t)}_e(cn),ve(cn,e)}function Ei(){_e(cn),_e(Rs),_e(Cs)}function vy(t){_r(Cs.current);var e=_r(cn.current),n=Iu(e,t.type);e!==n&&(ve(Rs,t),ve(cn,n))}function Xc(t){Rs.current===t&&(_e(cn),_e(Rs))}var Ne=dr(0);function pa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vl=[];function ed(){for(var t=0;t<Vl.length;t++)Vl[t]._workInProgressVersionPrimary=null;Vl.length=0}var Ao=An.ReactCurrentDispatcher,Wl=An.ReactCurrentBatchConfig,Tr=0,ke=null,Me=null,ze=null,ya=!1,hs=!1,As=0,P1=0;function Qe(){throw Error(F(321))}function td(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gt(t[n],e[n]))return!1;return!0}function nd(t,e,n,r,i,s){if(Tr=s,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ao.current=t===null||t.memoizedState===null?V1:W1,t=n(r,i),hs){s=0;do{if(hs=!1,As=0,25<=s)throw Error(F(301));s+=1,ze=Me=null,e.updateQueue=null,Ao.current=H1,t=n(r,i)}while(hs)}if(Ao.current=ma,e=Me!==null&&Me.next!==null,Tr=0,ze=Me=ke=null,ya=!1,e)throw Error(F(300));return t}function rd(){var t=As!==0;return As=0,t}function Xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?ke.memoizedState=ze=t:ze=ze.next=t,ze}function Bt(){if(Me===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=ze===null?ke.memoizedState:ze.next;if(e!==null)ze=e,Me=t;else{if(t===null)throw Error(F(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},ze===null?ke.memoizedState=ze=t:ze=ze.next=t}return ze}function Ds(t,e){return typeof e=="function"?e(t):e}function Hl(t){var e=Bt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=Me,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Tr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ke.lanes|=d,kr|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Gt(r,e.memoizedState)||(dt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ke.lanes|=s,kr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ql(t){var e=Bt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Gt(s,e.memoizedState)||(dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function wy(){}function _y(t,e){var n=ke,r=Bt(),i=e(),s=!Gt(r.memoizedState,i);if(s&&(r.memoizedState=i,dt=!0),r=r.queue,id(by.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,Ls(9,xy.bind(null,n,r,i,e),void 0,null),$e===null)throw Error(F(349));Tr&30||Sy(n,e,i)}return i}function Sy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xy(t,e,n,r){e.value=n,e.getSnapshot=r,Iy(e)&&Ey(t)}function by(t,e,n){return n(function(){Iy(e)&&Ey(t)})}function Iy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gt(t,n)}catch{return!0}}function Ey(t){var e=Fn(t,1);e!==null&&Yt(e,t,1,-1)}function jf(t){var e=Xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:t},e.queue=t,t=t.dispatch=$1.bind(null,ke,t),[e.memoizedState,t]}function Ls(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ny(){return Bt().memoizedState}function Do(t,e,n,r){var i=Xt();ke.flags|=t,i.memoizedState=Ls(1|e,n,void 0,r===void 0?null:r)}function al(t,e,n,r){var i=Bt();r=r===void 0?null:r;var s=void 0;if(Me!==null){var o=Me.memoizedState;if(s=o.destroy,r!==null&&td(r,o.deps)){i.memoizedState=Ls(e,n,s,r);return}}ke.flags|=t,i.memoizedState=Ls(1|e,n,s,r)}function Mf(t,e){return Do(8390656,8,t,e)}function id(t,e){return al(2048,8,t,e)}function Ty(t,e){return al(4,2,t,e)}function ky(t,e){return al(4,4,t,e)}function Oy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fy(t,e,n){return n=n!=null?n.concat([t]):null,al(4,4,Oy.bind(null,e,t),n)}function sd(){}function Ry(t,e){var n=Bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&td(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Cy(t,e){var n=Bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&td(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ay(t,e,n){return Tr&21?(Gt(n,e)||(n=Bp(),ke.lanes|=n,kr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dt=!0),t.memoizedState=n)}function U1(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var r=Wl.transition;Wl.transition={};try{t(!1),e()}finally{pe=n,Wl.transition=r}}function Dy(){return Bt().memoizedState}function z1(t,e,n){var r=tr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ly(t))jy(e,n);else if(n=my(t,e,n,r),n!==null){var i=rt();Yt(n,t,r,i),My(n,e,r)}}function $1(t,e,n){var r=tr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ly(t))jy(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Gt(a,o)){var l=e.interleaved;l===null?(i.next=i,Kc(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=my(t,e,i,r),n!==null&&(i=rt(),Yt(n,t,r,i),My(n,e,r))}}function Ly(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function jy(t,e){hs=ya=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function My(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jc(t,n)}}var ma={readContext:Mt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},V1={readContext:Mt,useCallback:function(t,e){return Xt().memoizedState=[t,e===void 0?null:e],t},useContext:Mt,useEffect:Mf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Do(4194308,4,Oy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Do(4194308,4,t,e)},useInsertionEffect:function(t,e){return Do(4,2,t,e)},useMemo:function(t,e){var n=Xt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=z1.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=Xt();return t={current:t},e.memoizedState=t},useState:jf,useDebugValue:sd,useDeferredValue:function(t){return Xt().memoizedState=t},useTransition:function(){var t=jf(!1),e=t[0];return t=U1.bind(null,t[1]),Xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,i=Xt();if(be){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),$e===null)throw Error(F(349));Tr&30||Sy(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Mf(by.bind(null,r,s,t),[t]),r.flags|=2048,Ls(9,xy.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Xt(),e=$e.identifierPrefix;if(be){var n=En,r=In;n=(r&~(1<<32-Qt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=As++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=P1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},W1={readContext:Mt,useCallback:Ry,useContext:Mt,useEffect:id,useImperativeHandle:Fy,useInsertionEffect:Ty,useLayoutEffect:ky,useMemo:Cy,useReducer:Hl,useRef:Ny,useState:function(){return Hl(Ds)},useDebugValue:sd,useDeferredValue:function(t){var e=Bt();return Ay(e,Me.memoizedState,t)},useTransition:function(){var t=Hl(Ds)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:wy,useSyncExternalStore:_y,useId:Dy,unstable_isNewReconciler:!1},H1={readContext:Mt,useCallback:Ry,useContext:Mt,useEffect:id,useImperativeHandle:Fy,useInsertionEffect:Ty,useLayoutEffect:ky,useMemo:Cy,useReducer:Ql,useRef:Ny,useState:function(){return Ql(Ds)},useDebugValue:sd,useDeferredValue:function(t){var e=Bt();return Me===null?e.memoizedState=t:Ay(e,Me.memoizedState,t)},useTransition:function(){var t=Ql(Ds)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:wy,useSyncExternalStore:_y,useId:Dy,unstable_isNewReconciler:!1};function $t(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ll={isMounted:function(t){return(t=t._reactInternals)?Ar(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rt(),i=tr(t),s=Nn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Xn(t,s,i),e!==null&&(Yt(e,t,i,r),Co(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rt(),i=tr(t),s=Nn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xn(t,s,i),e!==null&&(Yt(e,t,i,r),Co(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rt(),r=tr(t),i=Nn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xn(t,i,r),e!==null&&(Yt(e,t,r,n),Co(e,t,r))}};function Bf(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ts(n,r)||!Ts(i,s):!0}function By(t,e,n){var r=!1,i=sr,s=e.contextType;return typeof s=="object"&&s!==null?s=Mt(s):(i=ht(e)?Er:Ke.current,r=e.contextTypes,s=(r=r!=null)?xi(t,i):sr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ll,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Pf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ll.enqueueReplaceState(e,e.state,null)}function Qu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Jc(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Mt(s):(s=ht(e)?Er:Ke.current,i.context=xi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hu(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ll.enqueueReplaceState(i,i.state,null),ha(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ni(t,e){try{var n="",r=e;do n+=w0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Yl(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function Yu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Q1=typeof WeakMap=="function"?WeakMap:Map;function Py(t,e,n){n=Nn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){va||(va=!0,rc=r),Yu(t,e)},n}function Uy(t,e,n){n=Nn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Yu(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Yu(t,e),typeof r!="function"&&(er===null?er=new Set([this]):er.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Uf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Q1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ow.bind(null,t,e,n),e.then(t,t))}function zf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $f(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Nn(-1,1),e.tag=2,Xn(n,e,1))),n.lanes|=1),t)}var Y1=An.ReactCurrentOwner,dt=!1;function Xe(t,e,n,r){e.child=t===null?yy(e,null,n,r):Ii(e,t.child,n,r)}function Vf(t,e,n,r,i){n=n.render;var s=e.ref;return yi(e,i),r=nd(t,e,n,r,s,i),n=rd(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rn(t,e,i)):(be&&n&&Wc(e),e.flags|=1,Xe(t,e,r,i),e.child)}function Wf(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!hd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,zy(t,e,s,r,i)):(t=Bo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ts,n(o,r)&&t.ref===e.ref)return Rn(t,e,i)}return e.flags|=1,t=nr(s,r),t.ref=e.ref,t.return=e,e.child=t}function zy(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ts(s,r)&&t.ref===e.ref)if(dt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(dt=!0);else return e.lanes=t.lanes,Rn(t,e,i)}return qu(t,e,n,r,i)}function $y(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(li,vt),vt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ve(li,vt),vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ve(li,vt),vt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ve(li,vt),vt|=r;return Xe(t,e,i,n),e.child}function Vy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qu(t,e,n,r,i){var s=ht(n)?Er:Ke.current;return s=xi(e,s),yi(e,i),n=nd(t,e,n,r,s,i),r=rd(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rn(t,e,i)):(be&&r&&Wc(e),e.flags|=1,Xe(t,e,n,i),e.child)}function Hf(t,e,n,r,i){if(ht(n)){var s=!0;la(e)}else s=!1;if(yi(e,i),e.stateNode===null)Lo(t,e),By(e,n,r),Qu(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Mt(u):(u=ht(n)?Er:Ke.current,u=xi(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Pf(e,o,r,u),zn=!1;var g=e.memoizedState;o.state=g,ha(e,r,o,i),l=e.memoizedState,a!==r||g!==l||ft.current||zn?(typeof d=="function"&&(Hu(e,n,d,r),l=e.memoizedState),(a=zn||Bf(e,n,a,r,g,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,gy(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:$t(e.type,a),o.props=u,h=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mt(l):(l=ht(n)?Er:Ke.current,l=xi(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||g!==l)&&Pf(e,o,r,l),zn=!1,g=e.memoizedState,o.state=g,ha(e,r,o,i);var w=e.memoizedState;a!==h||g!==w||ft.current||zn?(typeof v=="function"&&(Hu(e,n,v,r),w=e.memoizedState),(u=zn||Bf(e,n,u,r,g,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Gu(t,e,n,r,s,i)}function Gu(t,e,n,r,i,s){Vy(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ff(e,n,!1),Rn(t,e,s);r=e.stateNode,Y1.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ii(e,t.child,null,s),e.child=Ii(e,null,a,s)):Xe(t,e,a,s),e.memoizedState=r.state,i&&Ff(e,n,!0),e.child}function Wy(t){var e=t.stateNode;e.pendingContext?Of(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Of(t,e.context,!1),Zc(t,e.containerInfo)}function Qf(t,e,n,r,i){return bi(),Qc(i),e.flags|=256,Xe(t,e,n,r),e.child}var Ku={dehydrated:null,treeContext:null,retryLane:0};function Ju(t){return{baseLanes:t,cachePool:null,transitions:null}}function Hy(t,e,n){var r=e.pendingProps,i=Ne.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ve(Ne,i&1),t===null)return Vu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dl(o,r,0,null),t=br(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ju(n),e.memoizedState=Ku,t):od(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return q1(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=nr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=nr(a,s):(s=br(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ju(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ku,r}return s=t.child,t=s.sibling,r=nr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function od(t,e){return e=dl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function go(t,e,n,r){return r!==null&&Qc(r),Ii(e,t.child,null,n),t=od(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function q1(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Yl(Error(F(422))),go(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=dl({mode:"visible",children:r.children},i,0,null),s=br(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ii(e,t.child,null,o),e.child.memoizedState=Ju(o),e.memoizedState=Ku,s);if(!(e.mode&1))return go(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(F(419)),r=Yl(s,r,void 0),go(t,e,o,r)}if(a=(o&t.childLanes)!==0,dt||a){if(r=$e,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fn(t,i),Yt(r,t,i,-1))}return fd(),r=Yl(Error(F(421))),go(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=aw.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,St=Zn(i.nextSibling),xt=e,be=!0,Ht=null,t!==null&&(Ft[Rt++]=In,Ft[Rt++]=En,Ft[Rt++]=Nr,In=t.id,En=t.overflow,Nr=e),e=od(e,r.children),e.flags|=4096,e)}function Yf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wu(t.return,e,n)}function ql(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Qy(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xe(t,e,r.children,n),r=Ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yf(t,n,e);else if(t.tag===19)Yf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ve(Ne,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&pa(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ql(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pa(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ql(e,!0,n,null,s);break;case"together":ql(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),kr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=nr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=nr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function G1(t,e,n){switch(e.tag){case 3:Wy(e),bi();break;case 5:vy(e);break;case 1:ht(e.type)&&la(e);break;case 4:Zc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ve(da,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ve(Ne,Ne.current&1),e.flags|=128,null):n&e.child.childLanes?Hy(t,e,n):(ve(Ne,Ne.current&1),t=Rn(t,e,n),t!==null?t.sibling:null);ve(Ne,Ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Qy(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ve(Ne,Ne.current),r)break;return null;case 22:case 23:return e.lanes=0,$y(t,e,n)}return Rn(t,e,n)}var Yy,Zu,qy,Gy;Yy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zu=function(){};qy=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_r(cn.current);var s=null;switch(n){case"input":i=_u(t,i),r=_u(t,r),s=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),s=[];break;case"textarea":i=bu(t,i),r=bu(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=oa)}Eu(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_s.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_s.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&we("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Gy=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qi(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function K1(t,e,n){var r=e.pendingProps;switch(Hc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return ht(e.type)&&aa(),Ye(e),null;case 3:return r=e.stateNode,Ei(),_e(ft),_e(Ke),ed(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ht!==null&&(oc(Ht),Ht=null))),Zu(t,e),Ye(e),null;case 5:Xc(e);var i=_r(Cs.current);if(n=e.type,t!==null&&e.stateNode!=null)qy(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Ye(e),null}if(t=_r(cn.current),yo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[nn]=e,r[Fs]=s,t=(e.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<Zi.length;i++)we(Zi[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":tf(r,s),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},we("invalid",r);break;case"textarea":rf(r,s),we("invalid",r)}Eu(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&po(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&po(r.textContent,a,t),i=["children",""+a]):_s.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":so(r),nf(r,s,!0);break;case"textarea":so(r),sf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=oa)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[nn]=e,t[Fs]=r,Yy(t,e,!1,!1),e.stateNode=t;e:{switch(o=Nu(n,r),n){case"dialog":we("cancel",t),we("close",t),i=r;break;case"iframe":case"object":case"embed":we("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zi.length;i++)we(Zi[i],t);i=r;break;case"source":we("error",t),i=r;break;case"img":case"image":case"link":we("error",t),we("load",t),i=r;break;case"details":we("toggle",t),i=r;break;case"input":tf(t,r),i=_u(t,r),we("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),we("invalid",t);break;case"textarea":rf(t,r),i=bu(t,r),we("invalid",t);break;default:i=r}Eu(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Np(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ip(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ss(t,l):typeof l=="number"&&Ss(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_s.hasOwnProperty(s)?l!=null&&s==="onScroll"&&we("scroll",t):l!=null&&Fc(t,s,l,o))}switch(n){case"input":so(t),nf(t,r,!1);break;case"textarea":so(t),sf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ir(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?di(t,!!r.multiple,s,!1):r.defaultValue!=null&&di(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=oa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ye(e),null;case 6:if(t&&e.stateNode!=null)Gy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=_r(Cs.current),_r(cn.current),yo(e)){if(r=e.stateNode,n=e.memoizedProps,r[nn]=e,(s=r.nodeValue!==n)&&(t=xt,t!==null))switch(t.tag){case 3:po(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&po(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nn]=e,e.stateNode=r}return Ye(e),null;case 13:if(_e(Ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&St!==null&&e.mode&1&&!(e.flags&128))hy(),bi(),e.flags|=98560,s=!1;else if(s=yo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[nn]=e}else bi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),s=!1}else Ht!==null&&(oc(Ht),Ht=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?Ue===0&&(Ue=3):fd())),e.updateQueue!==null&&(e.flags|=4),Ye(e),null);case 4:return Ei(),Zu(t,e),t===null&&ks(e.stateNode.containerInfo),Ye(e),null;case 10:return Gc(e.type._context),Ye(e),null;case 17:return ht(e.type)&&aa(),Ye(e),null;case 19:if(_e(Ne),s=e.memoizedState,s===null)return Ye(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Qi(s,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=pa(t),o!==null){for(e.flags|=128,Qi(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ve(Ne,Ne.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ae()>Ti&&(e.flags|=128,r=!0,Qi(s,!1),e.lanes=4194304)}else{if(!r)if(t=pa(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return Ye(e),null}else 2*Ae()-s.renderingStartTime>Ti&&n!==1073741824&&(e.flags|=128,r=!0,Qi(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ae(),e.sibling=null,n=Ne.current,ve(Ne,r?n&1|2:n&1),e):(Ye(e),null);case 22:case 23:return dd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vt&1073741824&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function J1(t,e){switch(Hc(e),e.tag){case 1:return ht(e.type)&&aa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ei(),_e(ft),_e(Ke),ed(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xc(e),null;case 13:if(_e(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));bi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(Ne),null;case 4:return Ei(),null;case 10:return Gc(e.type._context),null;case 22:case 23:return dd(),null;case 24:return null;default:return null}}var vo=!1,qe=!1,Z1=typeof WeakSet=="function"?WeakSet:Set,j=null;function ai(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(t,e,r)}else n.current=null}function Xu(t,e,n){try{n()}catch(r){Ce(t,e,r)}}var qf=!1;function X1(t,e){if(ju=ra,t=ey(),Vc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,g=null;t:for(;;){for(var v;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)g=h,h=v;for(;;){if(h===t)break t;if(g===n&&++u===i&&(a=o),g===s&&++d===r&&(l=o),(v=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mu={focusedElem:t,selectionRange:n},ra=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,k=w.memoizedState,p=e.stateNode,f=p.getSnapshotBeforeUpdate(e.elementType===e.type?S:$t(e.type,S),k);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(x){Ce(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return w=qf,qf=!1,w}function ps(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Xu(e,n,s)}i=i.next}while(i!==r)}}function ul(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ec(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ky(t){var e=t.alternate;e!==null&&(t.alternate=null,Ky(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nn],delete e[Fs],delete e[Uu],delete e[L1],delete e[j1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jy(t){return t.tag===5||t.tag===3||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=oa));else if(r!==4&&(t=t.child,t!==null))for(tc(t,e,n),t=t.sibling;t!==null;)tc(t,e,n),t=t.sibling}function nc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nc(t,e,n),t=t.sibling;t!==null;)nc(t,e,n),t=t.sibling}var Ve=null,Vt=!1;function Mn(t,e,n){for(n=n.child;n!==null;)Zy(t,e,n),n=n.sibling}function Zy(t,e,n){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(tl,n)}catch{}switch(n.tag){case 5:qe||ai(n,e);case 6:var r=Ve,i=Vt;Ve=null,Mn(t,e,n),Ve=r,Vt=i,Ve!==null&&(Vt?(t=Ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Vt?(t=Ve,n=n.stateNode,t.nodeType===8?zl(t.parentNode,n):t.nodeType===1&&zl(t,n),Es(t)):zl(Ve,n.stateNode));break;case 4:r=Ve,i=Vt,Ve=n.stateNode.containerInfo,Vt=!0,Mn(t,e,n),Ve=r,Vt=i;break;case 0:case 11:case 14:case 15:if(!qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Xu(n,e,o),i=i.next}while(i!==r)}Mn(t,e,n);break;case 1:if(!qe&&(ai(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ce(n,e,a)}Mn(t,e,n);break;case 21:Mn(t,e,n);break;case 22:n.mode&1?(qe=(r=qe)||n.memoizedState!==null,Mn(t,e,n),qe=r):Mn(t,e,n);break;default:Mn(t,e,n)}}function Kf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Z1),e.forEach(function(r){var i=lw.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,Vt=!1;break e;case 3:Ve=a.stateNode.containerInfo,Vt=!0;break e;case 4:Ve=a.stateNode.containerInfo,Vt=!0;break e}a=a.return}if(Ve===null)throw Error(F(160));Zy(s,o,i),Ve=null,Vt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ce(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xy(e,t),e=e.sibling}function Xy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zt(e,t),Jt(t),r&4){try{ps(3,t,t.return),ul(3,t)}catch(S){Ce(t,t.return,S)}try{ps(5,t,t.return)}catch(S){Ce(t,t.return,S)}}break;case 1:zt(e,t),Jt(t),r&512&&n!==null&&ai(n,n.return);break;case 5:if(zt(e,t),Jt(t),r&512&&n!==null&&ai(n,n.return),t.flags&32){var i=t.stateNode;try{Ss(i,"")}catch(S){Ce(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Sp(i,s),Nu(a,o);var u=Nu(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Np(i,h):d==="dangerouslySetInnerHTML"?Ip(i,h):d==="children"?Ss(i,h):Fc(i,d,h,u)}switch(a){case"input":Su(i,s);break;case"textarea":xp(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?di(i,!!s.multiple,v,!1):g!==!!s.multiple&&(s.defaultValue!=null?di(i,!!s.multiple,s.defaultValue,!0):di(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fs]=s}catch(S){Ce(t,t.return,S)}}break;case 6:if(zt(e,t),Jt(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){Ce(t,t.return,S)}}break;case 3:if(zt(e,t),Jt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Es(e.containerInfo)}catch(S){Ce(t,t.return,S)}break;case 4:zt(e,t),Jt(t);break;case 13:zt(e,t),Jt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ud=Ae())),r&4&&Kf(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(qe=(u=qe)||d,zt(e,t),qe=u):zt(e,t),Jt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(j=t,d=t.child;d!==null;){for(h=j=d;j!==null;){switch(g=j,v=g.child,g.tag){case 0:case 11:case 14:case 15:ps(4,g,g.return);break;case 1:ai(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(S){Ce(r,n,S)}}break;case 5:ai(g,g.return);break;case 22:if(g.memoizedState!==null){Zf(h);continue}}v!==null?(v.return=g,j=v):Zf(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ep("display",o))}catch(S){Ce(t,t.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(S){Ce(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zt(e,t),Jt(t),r&4&&Kf(t);break;case 21:break;default:zt(e,t),Jt(t)}}function Jt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Jy(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ss(i,""),r.flags&=-33);var s=Gf(t);nc(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Gf(t);tc(t,a,o);break;default:throw Error(F(161))}}catch(l){Ce(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ew(t,e,n){j=t,em(t)}function em(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var i=j,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vo;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||qe;a=vo;var u=qe;if(vo=o,(qe=l)&&!u)for(j=i;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?Xf(i):l!==null?(l.return=o,j=l):Xf(i);for(;s!==null;)j=s,em(s),s=s.sibling;j=i,vo=a,qe=u}Jf(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,j=s):Jf(t)}}function Jf(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qe||ul(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$t(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Lf(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Lf(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Es(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}qe||e.flags&512&&ec(e)}catch(g){Ce(e,e.return,g)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function Zf(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function Xf(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ul(4,e)}catch(l){Ce(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ce(e,i,l)}}var s=e.return;try{ec(e)}catch(l){Ce(e,s,l)}break;case 5:var o=e.return;try{ec(e)}catch(l){Ce(e,o,l)}}}catch(l){Ce(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var tw=Math.ceil,ga=An.ReactCurrentDispatcher,ad=An.ReactCurrentOwner,Lt=An.ReactCurrentBatchConfig,oe=0,$e=null,Le=null,We=0,vt=0,li=dr(0),Ue=0,js=null,kr=0,cl=0,ld=0,ys=null,lt=null,ud=0,Ti=1/0,mn=null,va=!1,rc=null,er=null,wo=!1,Yn=null,wa=0,ms=0,ic=null,jo=-1,Mo=0;function rt(){return oe&6?Ae():jo!==-1?jo:jo=Ae()}function tr(t){return t.mode&1?oe&2&&We!==0?We&-We:B1.transition!==null?(Mo===0&&(Mo=Bp()),Mo):(t=pe,t!==0||(t=window.event,t=t===void 0?16:Hp(t.type)),t):1}function Yt(t,e,n,r){if(50<ms)throw ms=0,ic=null,Error(F(185));Ys(t,n,r),(!(oe&2)||t!==$e)&&(t===$e&&(!(oe&2)&&(cl|=n),Ue===4&&Hn(t,We)),pt(t,r),n===1&&oe===0&&!(e.mode&1)&&(Ti=Ae()+500,ol&&fr()))}function pt(t,e){var n=t.callbackNode;B0(t,e);var r=na(t,t===$e?We:0);if(r===0)n!==null&&lf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&lf(n),e===1)t.tag===0?M1(eh.bind(null,t)):cy(eh.bind(null,t)),A1(function(){!(oe&6)&&fr()}),n=null;else{switch(Pp(r)){case 1:n=Lc;break;case 4:n=jp;break;case 16:n=ta;break;case 536870912:n=Mp;break;default:n=ta}n=lm(n,tm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tm(t,e){if(jo=-1,Mo=0,oe&6)throw Error(F(327));var n=t.callbackNode;if(mi()&&t.callbackNode!==n)return null;var r=na(t,t===$e?We:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_a(t,r);else{e=r;var i=oe;oe|=2;var s=rm();($e!==t||We!==e)&&(mn=null,Ti=Ae()+500,xr(t,e));do try{iw();break}catch(a){nm(t,a)}while(!0);qc(),ga.current=s,oe=i,Le!==null?e=0:($e=null,We=0,e=Ue)}if(e!==0){if(e===2&&(i=Ru(t),i!==0&&(r=i,e=sc(t,i))),e===1)throw n=js,xr(t,0),Hn(t,r),pt(t,Ae()),n;if(e===6)Hn(t,r);else{if(i=t.current.alternate,!(r&30)&&!nw(i)&&(e=_a(t,r),e===2&&(s=Ru(t),s!==0&&(r=s,e=sc(t,s))),e===1))throw n=js,xr(t,0),Hn(t,r),pt(t,Ae()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:mr(t,lt,mn);break;case 3:if(Hn(t,r),(r&130023424)===r&&(e=ud+500-Ae(),10<e)){if(na(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Pu(mr.bind(null,t,lt,mn),e);break}mr(t,lt,mn);break;case 4:if(Hn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Qt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tw(r/1960))-r,10<r){t.timeoutHandle=Pu(mr.bind(null,t,lt,mn),r);break}mr(t,lt,mn);break;case 5:mr(t,lt,mn);break;default:throw Error(F(329))}}}return pt(t,Ae()),t.callbackNode===n?tm.bind(null,t):null}function sc(t,e){var n=ys;return t.current.memoizedState.isDehydrated&&(xr(t,e).flags|=256),t=_a(t,e),t!==2&&(e=lt,lt=n,e!==null&&oc(e)),t}function oc(t){lt===null?lt=t:lt.push.apply(lt,t)}function nw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hn(t,e){for(e&=~ld,e&=~cl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qt(e),r=1<<n;t[n]=-1,e&=~r}}function eh(t){if(oe&6)throw Error(F(327));mi();var e=na(t,0);if(!(e&1))return pt(t,Ae()),null;var n=_a(t,e);if(t.tag!==0&&n===2){var r=Ru(t);r!==0&&(e=r,n=sc(t,r))}if(n===1)throw n=js,xr(t,0),Hn(t,e),pt(t,Ae()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mr(t,lt,mn),pt(t,Ae()),null}function cd(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(Ti=Ae()+500,ol&&fr())}}function Or(t){Yn!==null&&Yn.tag===0&&!(oe&6)&&mi();var e=oe;oe|=1;var n=Lt.transition,r=pe;try{if(Lt.transition=null,pe=1,t)return t()}finally{pe=r,Lt.transition=n,oe=e,!(oe&6)&&fr()}}function dd(){vt=li.current,_e(li)}function xr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,C1(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Hc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&aa();break;case 3:Ei(),_e(ft),_e(Ke),ed();break;case 5:Xc(r);break;case 4:Ei();break;case 13:_e(Ne);break;case 19:_e(Ne);break;case 10:Gc(r.type._context);break;case 22:case 23:dd()}n=n.return}if($e=t,Le=t=nr(t.current,null),We=vt=e,Ue=0,js=null,ld=cl=kr=0,lt=ys=null,wr!==null){for(e=0;e<wr.length;e++)if(n=wr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}wr=null}return t}function nm(t,e){do{var n=Le;try{if(qc(),Ao.current=ma,ya){for(var r=ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ya=!1}if(Tr=0,ze=Me=ke=null,hs=!1,As=0,ad.current=null,n===null||n.return===null){Ue=1,js=e,Le=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=We,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=zf(o);if(v!==null){v.flags&=-257,$f(v,o,a,s,e),v.mode&1&&Uf(s,u,e),e=v,l=u;var w=e.updateQueue;if(w===null){var S=new Set;S.add(l),e.updateQueue=S}else w.add(l);break e}else{if(!(e&1)){Uf(s,u,e),fd();break e}l=Error(F(426))}}else if(be&&a.mode&1){var k=zf(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),$f(k,o,a,s,e),Qc(Ni(l,a));break e}}s=l=Ni(l,a),Ue!==4&&(Ue=2),ys===null?ys=[s]:ys.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=Py(s,l,e);Df(s,p);break e;case 1:a=l;var f=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(er===null||!er.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=Uy(s,a,e);Df(s,x);break e}}s=s.return}while(s!==null)}sm(n)}catch(E){e=E,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function rm(){var t=ga.current;return ga.current=ma,t===null?ma:t}function fd(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),$e===null||!(kr&268435455)&&!(cl&268435455)||Hn($e,We)}function _a(t,e){var n=oe;oe|=2;var r=rm();($e!==t||We!==e)&&(mn=null,xr(t,e));do try{rw();break}catch(i){nm(t,i)}while(!0);if(qc(),oe=n,ga.current=r,Le!==null)throw Error(F(261));return $e=null,We=0,Ue}function rw(){for(;Le!==null;)im(Le)}function iw(){for(;Le!==null&&!O0();)im(Le)}function im(t){var e=am(t.alternate,t,vt);t.memoizedProps=t.pendingProps,e===null?sm(t):Le=e,ad.current=null}function sm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=J1(n,e),n!==null){n.flags&=32767,Le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,Le=null;return}}else if(n=K1(n,e,vt),n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);Ue===0&&(Ue=5)}function mr(t,e,n){var r=pe,i=Lt.transition;try{Lt.transition=null,pe=1,sw(t,e,n,r)}finally{Lt.transition=i,pe=r}return null}function sw(t,e,n,r){do mi();while(Yn!==null);if(oe&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(P0(t,s),t===$e&&(Le=$e=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wo||(wo=!0,lm(ta,function(){return mi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Lt.transition,Lt.transition=null;var o=pe;pe=1;var a=oe;oe|=4,ad.current=null,X1(t,n),Xy(n,t),E1(Mu),ra=!!ju,Mu=ju=null,t.current=n,ew(n),F0(),oe=a,pe=o,Lt.transition=s}else t.current=n;if(wo&&(wo=!1,Yn=t,wa=i),s=t.pendingLanes,s===0&&(er=null),A0(n.stateNode),pt(t,Ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(va)throw va=!1,t=rc,rc=null,t;return wa&1&&t.tag!==0&&mi(),s=t.pendingLanes,s&1?t===ic?ms++:(ms=0,ic=t):ms=0,fr(),null}function mi(){if(Yn!==null){var t=Pp(wa),e=Lt.transition,n=pe;try{if(Lt.transition=null,pe=16>t?16:t,Yn===null)var r=!1;else{if(t=Yn,Yn=null,wa=0,oe&6)throw Error(F(331));var i=oe;for(oe|=4,j=t.current;j!==null;){var s=j,o=s.child;if(j.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var d=j;switch(d.tag){case 0:case 11:case 15:ps(8,d,s)}var h=d.child;if(h!==null)h.return=d,j=h;else for(;j!==null;){d=j;var g=d.sibling,v=d.return;if(Ky(d),d===u){j=null;break}if(g!==null){g.return=v,j=g;break}j=v}}}var w=s.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}j=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ps(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,j=p;break e}j=s.return}}var f=t.current;for(j=f;j!==null;){o=j;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,j=m;else e:for(o=f;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ul(9,a)}}catch(E){Ce(a,a.return,E)}if(a===o){j=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,j=x;break e}j=a.return}}if(oe=i,fr(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(tl,t)}catch{}r=!0}return r}finally{pe=n,Lt.transition=e}}return!1}function th(t,e,n){e=Ni(n,e),e=Py(t,e,1),t=Xn(t,e,1),e=rt(),t!==null&&(Ys(t,1,e),pt(t,e))}function Ce(t,e,n){if(t.tag===3)th(t,t,n);else for(;e!==null;){if(e.tag===3){th(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(er===null||!er.has(r))){t=Ni(n,t),t=Uy(e,t,1),e=Xn(e,t,1),t=rt(),e!==null&&(Ys(e,1,t),pt(e,t));break}}e=e.return}}function ow(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rt(),t.pingedLanes|=t.suspendedLanes&n,$e===t&&(We&n)===n&&(Ue===4||Ue===3&&(We&130023424)===We&&500>Ae()-ud?xr(t,0):ld|=n),pt(t,e)}function om(t,e){e===0&&(t.mode&1?(e=lo,lo<<=1,!(lo&130023424)&&(lo=4194304)):e=1);var n=rt();t=Fn(t,e),t!==null&&(Ys(t,e,n),pt(t,n))}function aw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),om(t,n)}function lw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),om(t,n)}var am;am=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ft.current)dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dt=!1,G1(t,e,n);dt=!!(t.flags&131072)}else dt=!1,be&&e.flags&1048576&&dy(e,ca,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Lo(t,e),t=e.pendingProps;var i=xi(e,Ke.current);yi(e,n),i=nd(null,e,r,t,i,n);var s=rd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ht(r)?(s=!0,la(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jc(e),i.updater=ll,e.stateNode=i,i._reactInternals=e,Qu(e,r,t,n),e=Gu(null,e,r,!0,s,n)):(e.tag=0,be&&s&&Wc(e),Xe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Lo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=cw(r),t=$t(r,t),i){case 0:e=qu(null,e,r,t,n);break e;case 1:e=Hf(null,e,r,t,n);break e;case 11:e=Vf(null,e,r,t,n);break e;case 14:e=Wf(null,e,r,$t(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$t(r,i),qu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$t(r,i),Hf(t,e,r,i,n);case 3:e:{if(Wy(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,gy(t,e),ha(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ni(Error(F(423)),e),e=Qf(t,e,r,n,i);break e}else if(r!==i){i=Ni(Error(F(424)),e),e=Qf(t,e,r,n,i);break e}else for(St=Zn(e.stateNode.containerInfo.firstChild),xt=e,be=!0,Ht=null,n=yy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bi(),r===i){e=Rn(t,e,n);break e}Xe(t,e,r,n)}e=e.child}return e;case 5:return vy(e),t===null&&Vu(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Bu(r,i)?o=null:s!==null&&Bu(r,s)&&(e.flags|=32),Vy(t,e),Xe(t,e,o,n),e.child;case 6:return t===null&&Vu(e),null;case 13:return Hy(t,e,n);case 4:return Zc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ii(e,null,r,n):Xe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$t(r,i),Vf(t,e,r,i,n);case 7:return Xe(t,e,e.pendingProps,n),e.child;case 8:return Xe(t,e,e.pendingProps.children,n),e.child;case 12:return Xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ve(da,r._currentValue),r._currentValue=o,s!==null)if(Gt(s.value,o)){if(s.children===i.children&&!ft.current){e=Rn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Nn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Wu(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wu(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yi(e,n),i=Mt(i),r=r(i),e.flags|=1,Xe(t,e,r,n),e.child;case 14:return r=e.type,i=$t(r,e.pendingProps),i=$t(r.type,i),Wf(t,e,r,i,n);case 15:return zy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$t(r,i),Lo(t,e),e.tag=1,ht(r)?(t=!0,la(e)):t=!1,yi(e,n),By(e,r,i),Qu(e,r,i,n),Gu(null,e,r,!0,t,n);case 19:return Qy(t,e,n);case 22:return $y(t,e,n)}throw Error(F(156,e.tag))};function lm(t,e){return Lp(t,e)}function uw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(t,e,n,r){return new uw(t,e,n,r)}function hd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cw(t){if(typeof t=="function")return hd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cc)return 11;if(t===Ac)return 14}return 2}function nr(t,e){var n=t.alternate;return n===null?(n=Dt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bo(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")hd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zr:return br(n.children,i,s,e);case Rc:o=8,i|=8;break;case mu:return t=Dt(12,n,e,i|2),t.elementType=mu,t.lanes=s,t;case gu:return t=Dt(13,n,e,i),t.elementType=gu,t.lanes=s,t;case vu:return t=Dt(19,n,e,i),t.elementType=vu,t.lanes=s,t;case vp:return dl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mp:o=10;break e;case gp:o=9;break e;case Cc:o=11;break e;case Ac:o=14;break e;case Un:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=Dt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function br(t,e,n,r){return t=Dt(7,t,r,e),t.lanes=n,t}function dl(t,e,n,r){return t=Dt(22,t,r,e),t.elementType=vp,t.lanes=n,t.stateNode={isHidden:!1},t}function Gl(t,e,n){return t=Dt(6,t,null,e),t.lanes=n,t}function Kl(t,e,n){return e=Dt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dw(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pd(t,e,n,r,i,s,o,a,l){return t=new dw(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Dt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jc(s),t}function fw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function um(t){if(!t)return sr;t=t._reactInternals;e:{if(Ar(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(ht(n))return uy(t,n,e)}return e}function cm(t,e,n,r,i,s,o,a,l){return t=pd(n,r,!0,t,i,s,o,a,l),t.context=um(null),n=t.current,r=rt(),i=tr(n),s=Nn(r,i),s.callback=e!=null?e:null,Xn(n,s,i),t.current.lanes=i,Ys(t,i,r),pt(t,r),t}function fl(t,e,n,r){var i=e.current,s=rt(),o=tr(i);return n=um(n),e.context===null?e.context=n:e.pendingContext=n,e=Nn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xn(i,e,o),t!==null&&(Yt(t,i,o,s),Co(t,i,o)),o}function Sa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yd(t,e){nh(t,e),(t=t.alternate)&&nh(t,e)}function hw(){return null}var dm=typeof reportError=="function"?reportError:function(t){console.error(t)};function md(t){this._internalRoot=t}hl.prototype.render=md.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));fl(t,e,null,null)};hl.prototype.unmount=md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Or(function(){fl(null,t,null,null)}),e[On]=null}};function hl(t){this._internalRoot=t}hl.prototype.unstable_scheduleHydration=function(t){if(t){var e=$p();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wn.length&&e!==0&&e<Wn[n].priority;n++);Wn.splice(n,0,t),n===0&&Wp(t)}};function gd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rh(){}function pw(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Sa(o);s.call(u)}}var o=cm(e,r,t,0,null,!1,!1,"",rh);return t._reactRootContainer=o,t[On]=o.current,ks(t.nodeType===8?t.parentNode:t),Or(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Sa(l);a.call(u)}}var l=pd(t,0,!1,null,null,!1,!1,"",rh);return t._reactRootContainer=l,t[On]=l.current,ks(t.nodeType===8?t.parentNode:t),Or(function(){fl(e,l,n,r)}),l}function yl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Sa(o);a.call(l)}}fl(e,o,t,i)}else o=pw(n,e,t,i,r);return Sa(o)}Up=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ji(e.pendingLanes);n!==0&&(jc(e,n|1),pt(e,Ae()),!(oe&6)&&(Ti=Ae()+500,fr()))}break;case 13:Or(function(){var r=Fn(t,1);if(r!==null){var i=rt();Yt(r,t,1,i)}}),yd(t,1)}};Mc=function(t){if(t.tag===13){var e=Fn(t,134217728);if(e!==null){var n=rt();Yt(e,t,134217728,n)}yd(t,134217728)}};zp=function(t){if(t.tag===13){var e=tr(t),n=Fn(t,e);if(n!==null){var r=rt();Yt(n,t,e,r)}yd(t,e)}};$p=function(){return pe};Vp=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};ku=function(t,e,n){switch(e){case"input":if(Su(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sl(r);if(!i)throw Error(F(90));_p(r),Su(r,i)}}}break;case"textarea":xp(t,n);break;case"select":e=n.value,e!=null&&di(t,!!n.multiple,e,!1)}};Op=cd;Fp=Or;var yw={usingClientEntryPoint:!1,Events:[Gs,ni,sl,Tp,kp,cd]},Yi={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mw={bundleType:Yi.bundleType,version:Yi.version,rendererPackageName:Yi.rendererPackageName,rendererConfig:Yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ap(t),t===null?null:t.stateNode},findFiberByHostInstance:Yi.findFiberByHostInstance||hw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{tl=_o.inject(mw),un=_o}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yw;Et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gd(e))throw Error(F(200));return fw(t,e,null,n)};Et.createRoot=function(t,e){if(!gd(t))throw Error(F(299));var n=!1,r="",i=dm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=pd(t,1,!1,null,null,n,!1,r,i),t[On]=e.current,ks(t.nodeType===8?t.parentNode:t),new md(e)};Et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=Ap(e),t=t===null?null:t.stateNode,t};Et.flushSync=function(t){return Or(t)};Et.hydrate=function(t,e,n){if(!pl(e))throw Error(F(200));return yl(null,t,e,!0,n)};Et.hydrateRoot=function(t,e,n){if(!gd(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=dm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=cm(e,null,t,1,n!=null?n:null,i,!1,s,o),t[On]=e.current,ks(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hl(e)};Et.render=function(t,e,n){if(!pl(e))throw Error(F(200));return yl(null,t,e,!1,n)};Et.unmountComponentAtNode=function(t){if(!pl(t))throw Error(F(40));return t._reactRootContainer?(Or(function(){yl(null,null,t,!1,function(){t._reactRootContainer=null,t[On]=null})}),!0):!1};Et.unstable_batchedUpdates=cd;Et.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pl(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return yl(t,e,n,!1,r)};Et.version="18.3.1-next-f1338f8080-20240426";function fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fm)}catch(t){console.error(t)}}fm(),fp.exports=Et;var gw=fp.exports,ih=gw;pu.createRoot=ih.createRoot,pu.hydrateRoot=ih.hydrateRoot;const vw="modulepreload",ww=function(t){return"/"+t},sh={},ki=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=ww(l),l in sh)return;sh[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":vw,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((g,v)=>{h.addEventListener("load",g),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},_w={},oh=t=>{let e;const n=new Set,r=(d,h)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const v=e;e=(h!=null?h:typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(w=>w(e,v))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(_w?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},Sw=t=>t?oh(t):oh;var hm={exports:{}},pm={},ym={exports:{}},mm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oi=O;function xw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bw=typeof Object.is=="function"?Object.is:xw,Iw=Oi.useState,Ew=Oi.useEffect,Nw=Oi.useLayoutEffect,Tw=Oi.useDebugValue;function kw(t,e){var n=e(),r=Iw({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Nw(function(){i.value=n,i.getSnapshot=e,Jl(i)&&s({inst:i})},[t,n,e]),Ew(function(){return Jl(i)&&s({inst:i}),t(function(){Jl(i)&&s({inst:i})})},[t]),Tw(n),n}function Jl(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bw(t,n)}catch{return!0}}function Ow(t,e){return e()}var Fw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ow:kw;mm.useSyncExternalStore=Oi.useSyncExternalStore!==void 0?Oi.useSyncExternalStore:Fw;ym.exports=mm;var Rw=ym.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ml=O,Cw=Rw;function Aw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dw=typeof Object.is=="function"?Object.is:Aw,Lw=Cw.useSyncExternalStore,jw=ml.useRef,Mw=ml.useEffect,Bw=ml.useMemo,Pw=ml.useDebugValue;pm.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=jw(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Bw(function(){function l(v){if(!u){if(u=!0,d=v,v=r(v),i!==void 0&&o.hasValue){var w=o.value;if(i(w,v))return h=w}return h=v}if(w=h,Dw(d,v))return w;var S=r(v);return i!==void 0&&i(w,S)?(d=v,w):(d=v,h=S)}var u=!1,d,h,g=n===void 0?null:n;return[function(){return l(e())},g===null?void 0:function(){return l(g())}]},[e,n,r,i]);var a=Lw(t,s[0],s[1]);return Mw(function(){o.hasValue=!0,o.value=a},[a]),Pw(a),a};hm.exports=pm;var Uw=hm.exports;const zw=ep(Uw),gm={},{useDebugValue:$w}=qn,{useSyncExternalStoreWithSelector:Vw}=zw;let ah=!1;const Ww=t=>t;function Hw(t,e=Ww,n){(gm?"production":void 0)!=="production"&&n&&!ah&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ah=!0);const r=Vw(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return $w(r),r}const lh=t=>{(gm?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Sw(t):t,n=(r,i)=>Hw(e,r,i);return Object.assign(n,e),n},vm=t=>t?lh(t):lh,Qw={};function Yw(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Ms=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Ms(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Ms(r)(n)}}}},qw=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,p)=>({...p,...k}),...e},o=!1;const a=new Set,l=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return t((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...k)},r,i);const d=Ms(s.serialize),h=()=>{const k=s.partialize({...r()});let p;const f=d({state:k,version:s.version}).then(m=>u.setItem(s.name,m)).catch(m=>{p=m});if(p)throw p;return f},g=i.setState;i.setState=(k,p)=>{g(k,p),h()};const v=t((...k)=>{n(...k),h()},r,i);let w;const S=()=>{var k;if(!u)return;o=!1,a.forEach(f=>f(r()));const p=((k=s.onRehydrateStorage)==null?void 0:k.call(s,r()))||void 0;return Ms(u.getItem.bind(u))(s.name).then(f=>{if(f)return s.deserialize(f)}).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==s.version){if(s.migrate)return s.migrate(f.state,f.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return f.state}).then(f=>{var m;return w=s.merge(f,(m=r())!=null?m:v),n(w,!0),h()}).then(()=>{p==null||p(w,void 0),o=!0,l.forEach(f=>f(w))}).catch(f=>{p==null||p(void 0,f)})};return i.persist={setOptions:k=>{s={...s,...k},k.getStorage&&(u=k.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>S(),hasHydrated:()=>o,onHydrate:k=>(a.add(k),()=>{a.delete(k)}),onFinishHydration:k=>(l.add(k),()=>{l.delete(k)})},S(),w||v},Gw=(t,e)=>(n,r,i)=>{let s={storage:Yw(()=>localStorage),partialize:S=>S,version:0,merge:(S,k)=>({...k,...S}),...e},o=!1;const a=new Set,l=new Set;let u=s.storage;if(!u)return t((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...S)},r,i);const d=()=>{const S=s.partialize({...r()});return u.setItem(s.name,{state:S,version:s.version})},h=i.setState;i.setState=(S,k)=>{h(S,k),d()};const g=t((...S)=>{n(...S),d()},r,i);i.getInitialState=()=>g;let v;const w=()=>{var S,k;if(!u)return;o=!1,a.forEach(f=>{var m;return f((m=r())!=null?m:g)});const p=((k=s.onRehydrateStorage)==null?void 0:k.call(s,(S=r())!=null?S:g))||void 0;return Ms(u.getItem.bind(u))(s.name).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==s.version){if(s.migrate)return[!0,s.migrate(f.state,f.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,f.state];return[!1,void 0]}).then(f=>{var m;const[x,E]=f;if(v=s.merge(E,(m=r())!=null?m:g),n(v,!0),x)return d()}).then(()=>{p==null||p(v,void 0),v=r(),o=!0,l.forEach(f=>f(v))}).catch(f=>{p==null||p(void 0,f)})};return i.persist={setOptions:S=>{s={...s,...S},S.storage&&(u=S.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:S=>(a.add(S),()=>{a.delete(S)}),onFinishHydration:S=>(l.add(S),()=>{l.delete(S)})},s.skipHydration||w(),v||g},Kw=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((Qw?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),qw(t,e)):Gw(t,e),Jw=Kw,Zw=()=>Math.random().toString(36).substr(2,9),Se=vm()(Jw((t,e)=>({tabs:[],activeTabId:null,splitMode:"none",activeSplitTabId:null,isSidebarOpen:!0,sidebarView:"explorer",isCommandPaletteOpen:!1,isSettingsOpen:!1,isZenMode:!1,searchQuery:"",searchResults:[],isSearching:!1,theme:"dark",fontSize:14,fontFamily:'Menlo, Monaco, "Courier New", monospace',wordWrap:"on",tabSize:2,insertSpaces:!0,autoSave:!1,autoSaveDelay:1e3,minimap:!0,lineNumbers:!0,renderWhitespace:"selection",recentFiles:[],recentFolders:[],lastSession:null,queryPanelOpen:!1,queryLanguage:"sql",queryPanelHeight:300,isQueryRunning:!1,addTab:n=>{const{tabs:r}=e(),i=r.find(o=>o.path===n.path);if(i){t({activeTabId:i.id});return}const s={...n,id:Zw()};t({tabs:[...r,s],activeTabId:s.id})},closeTab:n=>{const{tabs:r,activeTabId:i}=e(),s=r.filter(o=>o.id!==n);if(i===n){const o=r.findIndex(l=>l.id===n),a=s[o]||s[o-1];t({tabs:s,activeTabId:(a==null?void 0:a.id)||null})}else t({tabs:s})},closeAllTabs:()=>t({tabs:[],activeTabId:null}),closeOtherTabs:n=>{const{tabs:r}=e(),i=r.find(s=>s.id===n);t({tabs:i?[i]:[],activeTabId:n})},setActiveTab:n=>t({activeTabId:n}),updateTabContent:(n,r)=>{const{tabs:i}=e();t({tabs:i.map(s=>s.id===n?{...s,content:r,isDirty:!0}:s)})},markTabClean:n=>{const{tabs:r}=e();t({tabs:r.map(i=>i.id===n?{...i,isDirty:!1}:i)})},markTabDirty:n=>{const{tabs:r}=e();t({tabs:r.map(i=>i.id===n?{...i,isDirty:!0}:i)})},updateTabPosition:(n,r)=>{const{tabs:i}=e();t({tabs:i.map(s=>s.id===n?{...s,cursorPosition:r}:s)})},updateTabScroll:(n,r)=>{const{tabs:i}=e();t({tabs:i.map(s=>s.id===n?{...s,scrollPosition:r}:s)})},toggleJsonView:n=>{const{tabs:r}=e();t({tabs:r.map(i=>i.id===n?{...i,isJsonView:!i.isJsonView}:i)})},setSplitMode:n=>t({splitMode:n}),setActiveSplitTab:n=>t({activeSplitTabId:n}),toggleSidebar:()=>t(n=>({isSidebarOpen:!n.isSidebarOpen})),setSidebarView:n=>t({sidebarView:n,isSidebarOpen:!0}),openCommandPalette:()=>t({isCommandPaletteOpen:!0}),closeCommandPalette:()=>t({isCommandPaletteOpen:!1}),toggleSettings:()=>t(n=>({isSettingsOpen:!n.isSettingsOpen})),toggleZenMode:()=>t(n=>({isZenMode:!n.isZenMode})),setSearchQuery:n=>t({searchQuery:n,isSearching:!!n}),setSearchResults:n=>t({searchResults:n}),clearSearch:()=>t({searchQuery:"",searchResults:[],isSearching:!1}),setTheme:n=>t({theme:n}),setFontSize:n=>t({fontSize:n}),setFontFamily:n=>t({fontFamily:n}),setWordWrap:n=>t({wordWrap:n}),setTabSize:n=>t({tabSize:n}),setInsertSpaces:n=>t({insertSpaces:n}),setAutoSave:n=>t({autoSave:n}),setMinimap:n=>t({minimap:n}),setLineNumbers:n=>t({lineNumbers:n}),addRecentFile:n=>{const{recentFiles:r}=e(),i=r.filter(s=>s!==n);t({recentFiles:[n,...i].slice(0,20)})},addRecentFolder:n=>{const{recentFolders:r}=e(),i=r.filter(s=>s!==n);t({recentFolders:[n,...i].slice(0,10)})},clearRecentFiles:()=>t({recentFiles:[],recentFolders:[]}),saveSession:()=>{const{tabs:n,activeTabId:r}=e();t({lastSession:{openFiles:n.map(i=>i.path),activeFile:r,openFolder:null}})},restoreSession:()=>{},toggleQueryPanel:()=>t(n=>({queryPanelOpen:!n.queryPanelOpen})),setQueryPanelOpen:n=>t({queryPanelOpen:n}),setQueryLanguage:n=>t({queryLanguage:n}),setQueryPanelHeight:n=>t({queryPanelHeight:n}),setIsQueryRunning:n=>t({isQueryRunning:n})}),{name:"opentext-storage",partialize:t=>({theme:t.theme,fontSize:t.fontSize,fontFamily:t.fontFamily,wordWrap:t.wordWrap,tabSize:t.tabSize,insertSpaces:t.insertSpaces,autoSave:t.autoSave,autoSaveDelay:t.autoSaveDelay,minimap:t.minimap,lineNumbers:t.lineNumbers,renderWhitespace:t.renderWhitespace,recentFiles:t.recentFiles,recentFolders:t.recentFolders,lastSession:t.lastSession})}));function Xw(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function uh(t,e=!1){const n=Xw(),r=`_${n}`;return Object.defineProperty(window,r,{value:i=>(e&&Reflect.deleteProperty(window,r),t==null?void 0:t(i)),writable:!1,configurable:!0}),n}async function e_(t,e={}){return new Promise((n,r)=>{const i=uh(o=>{n(o),Reflect.deleteProperty(window,`_${s}`)},!0),s=uh(o=>{r(o),Reflect.deleteProperty(window,`_${i}`)},!0);window.__TAURI_IPC__({cmd:t,callback:i,error:s,...e})})}async function Ze(t){return e_("tauri",t)}var Bs;(function(t){t[t.Audio=1]="Audio",t[t.Cache=2]="Cache",t[t.Config=3]="Config",t[t.Data=4]="Data",t[t.LocalData=5]="LocalData",t[t.Desktop=6]="Desktop",t[t.Document=7]="Document",t[t.Download=8]="Download",t[t.Executable=9]="Executable",t[t.Font=10]="Font",t[t.Home=11]="Home",t[t.Picture=12]="Picture",t[t.Public=13]="Public",t[t.Runtime=14]="Runtime",t[t.Template=15]="Template",t[t.Video=16]="Video",t[t.Resource=17]="Resource",t[t.App=18]="App",t[t.Log=19]="Log",t[t.Temp=20]="Temp",t[t.AppConfig=21]="AppConfig",t[t.AppData=22]="AppData",t[t.AppLocalData=23]="AppLocalData",t[t.AppCache=24]="AppCache",t[t.AppLog=25]="AppLog"})(Bs||(Bs={}));async function wm(t,e={}){return Ze({__tauriModule:"Fs",message:{cmd:"readTextFile",path:t,options:e}})}async function t_(t,e={}){const n=await Ze({__tauriModule:"Fs",message:{cmd:"readFile",path:t,options:e}});return Uint8Array.from(n)}async function gs(t,e,n){typeof n=="object"&&Object.freeze(n),typeof t=="object"&&Object.freeze(t);const r={path:"",contents:""};let i=n;return typeof t=="string"?r.path=t:(r.path=t.path,r.contents=t.contents),typeof e=="string"?r.contents=e!=null?e:"":i=e,Ze({__tauriModule:"Fs",message:{cmd:"writeFile",path:r.path,contents:Array.from(new TextEncoder().encode(r.contents)),options:i}})}async function n_(t,e,n){typeof n=="object"&&Object.freeze(n),typeof t=="object"&&Object.freeze(t);const r={path:"",contents:[]};let i=n;return typeof t=="string"?r.path=t:(r.path=t.path,r.contents=t.contents),e&&"dir"in e?i=e:typeof t=="string"&&(r.contents=e!=null?e:[]),Ze({__tauriModule:"Fs",message:{cmd:"writeFile",path:r.path,contents:Array.from(r.contents instanceof ArrayBuffer?new Uint8Array(r.contents):r.contents),options:i}})}async function Po(t,e={}){return Ze({__tauriModule:"Fs",message:{cmd:"readDir",path:t,options:e}})}async function _m(t,e={}){return Ze({__tauriModule:"Fs",message:{cmd:"createDir",path:t,options:e}})}async function Sm(t,e={}){return Ze({__tauriModule:"Fs",message:{cmd:"removeDir",path:t,options:e}})}async function r_(t,e,n={}){return Ze({__tauriModule:"Fs",message:{cmd:"copyFile",source:t,destination:e,options:n}})}async function xm(t,e={}){return Ze({__tauriModule:"Fs",message:{cmd:"removeFile",path:t,options:e}})}async function bm(t,e,n={}){return Ze({__tauriModule:"Fs",message:{cmd:"renameFile",oldPath:t,newPath:e,options:n}})}async function i_(t,e={}){return Ze({__tauriModule:"Fs",message:{cmd:"exists",path:t,options:e}})}const vd=Object.freeze(Object.defineProperty({__proto__:null,get BaseDirectory(){return Bs},get Dir(){return Bs},copyFile:r_,createDir:_m,exists:i_,readBinaryFile:t_,readDir:Po,readTextFile:wm,removeDir:Sm,removeFile:xm,renameFile:bm,writeBinaryFile:n_,writeFile:gs,writeTextFile:gs},Symbol.toStringTag,{value:"Module"}));async function ch(t={}){return typeof t=="object"&&Object.freeze(t),Ze({__tauriModule:"Dialog",message:{cmd:"openDialog",options:t}})}async function s_(t={}){return typeof t=="object"&&Object.freeze(t),Ze({__tauriModule:"Dialog",message:{cmd:"saveDialog",options:t}})}function Im(){return navigator.appVersion.includes("Win")}Im();Im();async function Ur(...t){return Ze({__tauriModule:"Path",message:{cmd:"join",paths:t}})}async function Em(t){return Ze({__tauriModule:"Path",message:{cmd:"dirname",path:t}})}async function o_(t,e){return Ze({__tauriModule:"Path",message:{cmd:"basename",path:t,ext:e}})}const a_=Object.freeze(Object.defineProperty({__proto__:null,get BaseDirectory(){return Bs},basename:o_,dirname:Em,join:Ur},Symbol.toStringTag,{value:"Module"})),l_=t=>({js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",py:"python",html:"html",htm:"html",css:"css",scss:"scss",sass:"sass",less:"less",json:"json",xml:"xml",md:"markdown",java:"java",c:"c",cpp:"cpp",cc:"cpp",cxx:"cpp",h:"c",hpp:"cpp",cs:"csharp",go:"go",rs:"rust",rb:"ruby",php:"php",sql:"sql",sh:"shell",bash:"shell",zsh:"shell",ps1:"powershell",yaml:"yaml",yml:"yaml",toml:"toml",lua:"lua",r:"r",swift:"swift",kt:"kotlin",dart:"dart",vue:"vue",svelte:"svelte",graphql:"graphql",gql:"graphql",dockerfile:"dockerfile",makefile:"makefile",vim:"vim",elm:"elm",erl:"erlang",ex:"elixir",fs:"fsharp",hs:"haskell",jl:"julia",ml:"ocaml",nim:"nim",scala:"scala",clj:"clojure",cljs:"clojure",coffee:"coffeescript",pl:"perl",pm:"perl"})[t.toLowerCase()]||"plaintext",dh=t=>![".git",".svn",".hg","node_modules",".DS_Store","Thumbs.db"].some(n=>t.startsWith(n)),Cn=vm((t,e)=>({currentFolder:null,fileTree:[],isLoading:!1,expandedFolders:new Set,selectedPath:null,openFolder:async()=>{try{const n=await ch({directory:!0,multiple:!1,title:"Open Folder"});n&&typeof n=="string"&&await e().loadFolder(n)}catch(n){console.error("Error opening folder:",n)}},loadFolder:async n=>{t({isLoading:!0,currentFolder:n});try{const r=await Po(n),i=[];for(const s of r){if(!dh(s.name||""))continue;const o=await Ur(n,s.name||"");s.children?i.push({name:s.name||"",path:o,type:"directory",children:[],isExpanded:!1}):i.push({name:s.name||"",path:o,type:"file"})}i.sort((s,o)=>s.type!==o.type?s.type==="directory"?-1:1:s.name.localeCompare(o.name)),t({fileTree:i,isLoading:!1})}catch(r){console.error("Error loading folder:",r),t({isLoading:!1})}},refreshFolder:async()=>{const{currentFolder:n}=e();n&&await e().loadFolder(n)},toggleFolder:async n=>{const{expandedFolders:r,fileTree:i}=e(),s=new Set(r);if(s.has(n))s.delete(n);else{s.add(n);const o=async l=>Promise.all(l.map(async u=>{if(u.path===n&&u.type==="directory"&&(!u.children||u.children.length===0))try{const d=await Po(n),h=[];for(const g of d){if(!dh(g.name||""))continue;const v=await Ur(n,g.name||"");g.children?h.push({name:g.name||"",path:v,type:"directory",children:[],isExpanded:!1}):h.push({name:g.name||"",path:v,type:"file"})}return h.sort((g,v)=>g.type!==v.type?g.type==="directory"?-1:1:g.name.localeCompare(v.name)),{...u,children:h,isExpanded:!0}}catch{return{...u,isExpanded:!0}}return u.children?{...u,children:await o(u.children)}:u})),a=await o(i);t({fileTree:a})}t({expandedFolders:s})},selectPath:n=>t({selectedPath:n}),createNewFile:async(n,r)=>{try{const i=await Ur(n,r);await gs(i,""),await e().refreshFolder()}catch(i){throw console.error("Error creating file:",i),i}},createNewFolder:async(n,r)=>{try{const i=await Ur(n,r);await _m(i),await e().refreshFolder()}catch(i){throw console.error("Error creating folder:",i),i}},deleteItem:async n=>{try{try{await Po(n),await Sm(n,{recursive:!0})}catch{await xm(n)}await e().refreshFolder()}catch(r){throw console.error("Error deleting item:",r),r}},renameItem:async(n,r)=>{try{const i=await Em(n),s=await Ur(i,r);await bm(n,s),await e().refreshFolder()}catch(i){throw console.error("Error renaming item:",i),i}},openFile:async()=>{try{const n=await ch({multiple:!1,title:"Open File",filters:[{name:"All Files",extensions:["*"]},{name:"Text Files",extensions:["txt","md","json","xml","yaml","yml"]},{name:"Code Files",extensions:["js","ts","jsx","tsx","py","html","css","java","cpp","c","h","go","rs","rb","php"]}]});if(n&&typeof n=="string"){const r=await wm(n),i=n.split("/").pop()||n;return{path:n,content:r,name:i}}return null}catch(n){return console.error("Error opening file:",n),null}},saveFile:async(n,r)=>{try{await gs(n,r)}catch(i){throw console.error("Error saving file:",i),i}},saveFileAs:async(n,r)=>{try{const i=await s_({defaultPath:r||"untitled",filters:[{name:"All Files",extensions:["*"]},{name:"Text",extensions:["txt"]},{name:"JavaScript",extensions:["js"]},{name:"TypeScript",extensions:["ts"]},{name:"JSON",extensions:["json"]},{name:"HTML",extensions:["html","htm"]},{name:"CSS",extensions:["css"]},{name:"Python",extensions:["py"]},{name:"Markdown",extensions:["md"]}]});if(i&&typeof i=="string"){await gs(i,n);const s=i.split("/").pop()||i;return{path:i,name:s}}return null}catch(i){return console.error("Error saving file:",i),null}},getFileLanguage:n=>{const r=n.split(".").pop()||"";return l_(r)}})),u_=Object.freeze(Object.defineProperty({__proto__:null,useFileSystemStore:Cn},Symbol.toStringTag,{value:"Module"})),Mr=(t,e,n=!0)=>{const r=O.useRef(e);O.useEffect(()=>{r.current=e},[e]),O.useEffect(()=>{if(!n)return;const i=s=>{const o=t.toLowerCase().split("+"),a=o.pop()||"",l={ctrl:o.includes("ctrl")||o.includes("mod"),alt:o.includes("alt"),shift:o.includes("shift"),meta:o.includes("cmd")||o.includes("mod")};s.key.toLowerCase()===a&&s.ctrlKey===l.ctrl&&s.altKey===l.alt&&s.shiftKey===l.shift&&s.metaKey===l.meta&&(s.preventDefault(),r.current())};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[t,n])};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),X=(t,e)=>{const n=O.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>O.createElement("svg",{ref:d,...c_,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${d_(t)}`,a].join(" "),...u},[...e.map(([h,g])=>O.createElement(h,g)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=X("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=X("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=X("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=X("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=X("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=X("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=X("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=X("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=X("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=X("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=X("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=X("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=X("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=X("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=X("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=X("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=X("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=X("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=X("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=X("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=X("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=X("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=X("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=X("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=X("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=X("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=X("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=X("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=X("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=X("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=X("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),j_=(t,e)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>t(...r),e)}},M_=t=>t.trim().split(/\s+/).filter(e=>e.length>0).length,B_=t=>t.split(`
`).length,P_=(t,e=2)=>{try{const n=JSON.parse(t);return JSON.stringify(n,null,e)}catch{return t}},lc=t=>{var r;const e=(r=t.split(".").pop())==null?void 0:r.toLowerCase();return{js:"",jsx:"",ts:"",tsx:"",py:"",html:"",css:"",scss:"",json:"",md:"",java:"",c:"",cpp:"",go:"",rs:"",rb:"",php:"",sql:"",sh:"",yml:"",yaml:"",dockerfile:"",gitignore:""}[e||""]||""},U_=({width:t=250})=>{const{sidebarView:e,setSidebarView:n}=Se(),r=[{id:"explorer",icon:S_,label:"Explorer"},{id:"search",icon:gl,label:"Search"},{id:"json-viewer",icon:Nm,label:"JSON"},{id:"git",icon:Tm,label:"Source Control"}];return c.jsxs("div",{className:"flex h-full",style:{width:t},children:[c.jsxs("div",{className:"w-12 bg-secondary border-r border-border-color flex flex-col items-center py-2 gap-1",children:[r.map(i=>c.jsx("button",{onClick:()=>n(i.id),className:`p-2 rounded transition-colors ${e===i.id?"text-white border-l-2 border-accent bg-active":"text-text-secondary hover:text-text-primary hover:bg-hover"}`,title:i.label,children:c.jsx(i.icon,{size:24})},i.id)),c.jsx("div",{className:"flex-1"}),c.jsx("button",{onClick:()=>Se.getState().toggleSettings(),className:"p-2 rounded text-text-secondary hover:text-text-primary hover:bg-hover transition-colors",title:"Settings",children:c.jsx(Rm,{size:24})})]}),c.jsxs("div",{className:"flex-1 bg-secondary flex flex-col min-w-0",children:[e==="explorer"&&c.jsx(z_,{}),e==="search"&&c.jsx($_,{}),e==="json-viewer"&&c.jsx(V_,{}),e==="git"&&c.jsx(W_,{})]})]})},z_=()=>{const{currentFolder:t,fileTree:e,isLoading:n,expandedFolders:r,selectedPath:i,openFolder:s,loadFolder:o,refreshFolder:a,toggleFolder:l,selectPath:u,createNewFile:d,createNewFolder:h,deleteItem:g,renameItem:v}=Cn(),{addTab:w,recentFolders:S}=Se(),[k,p]=O.useState(null),[f,m]=O.useState(null),[x,E]=O.useState(""),[_,N]=O.useState(null),[T,R]=O.useState(""),b=async A=>{if(A.type==="directory")l(A.path);else{u(A.path);try{const{readTextFile:me}=await ki(async()=>{const{readTextFile:D}=await Promise.resolve().then(()=>vd);return{readTextFile:D}},void 0),C=await me(A.path),B=A.path.split("/").pop()||A.path,{useFileSystemStore:q}=await ki(async()=>{const{useFileSystemStore:D}=await Promise.resolve().then(()=>u_);return{useFileSystemStore:D}},void 0),I=q.getState().getFileLanguage(A.path);w({path:A.path,name:B,content:C,isDirty:!1,language:I})}catch(me){console.error("Error opening file:",me)}}},L=(A,me)=>{A.preventDefault(),A.stopPropagation(),p({x:A.clientX,y:A.clientY,node:me})},Ie=async A=>{var me;if(x.trim())try{const C=((me=k==null?void 0:k.node)==null?void 0:me.type)==="directory"?k.node.path:t;A==="file"?await d(C,x):await h(C,x),m(null),E(""),p(null)}catch(C){console.error("Error creating item:",C)}},je=async()=>{if(!(!_||!T.trim()))try{await v(_.path,T),N(null),R("")}catch(A){console.error("Error renaming item:",A)}},Tt=async()=>{if(k!=null&&k.node&&confirm(`Are you sure you want to delete "${k.node.name}"?`))try{await g(k.node.path),p(null)}catch(A){console.error("Error deleting item:",A)}},G=(A,me=0)=>{const C=r.has(A.path),B=i===A.path,q=me*12+8;return(_==null?void 0:_.path)===A.path?c.jsxs("div",{className:"flex items-center py-1 px-2",style:{paddingLeft:q},children:[c.jsx("span",{className:"mr-1",children:A.type==="directory"?"":lc(A.name)}),c.jsx("input",{type:"text",value:T,onChange:I=>R(I.target.value),onBlur:je,onKeyDown:I=>I.key==="Enter"&&je(),autoFocus:!0,className:"flex-1 bg-primary text-text-primary text-sm px-2 py-0.5 rounded outline-none border border-accent"})]},A.path):c.jsxs("div",{children:[c.jsxs("div",{className:`flex items-center py-1 px-2 cursor-pointer text-sm ${B?"bg-accent text-white":"hover:bg-hover text-text-primary"}`,style:{paddingLeft:q},onClick:()=>b(A),onContextMenu:I=>L(I,A),children:[A.type==="directory"&&c.jsx("span",{className:"mr-1 text-text-secondary",children:C?c.jsx(wd,{size:14}):c.jsx(y_,{size:14})}),c.jsx("span",{className:"mr-2",children:A.type==="directory"?C?"":"":lc(A.name)}),c.jsx("span",{className:"truncate",children:A.name})]}),A.type==="directory"&&C&&A.children&&c.jsx("div",{children:A.children.map(I=>G(I,me+1))})]},A.path)};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-border-color",children:[c.jsx("span",{className:"text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Explorer"}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>m("file"),className:"p-1 hover:bg-hover rounded text-text-secondary",title:"New File",children:c.jsx(C_,{size:16})}),c.jsx("button",{onClick:a,className:"p-1 hover:bg-hover rounded text-text-secondary",title:"Refresh",children:c.jsx(yh,{size:16})})]})]}),t?c.jsxs("div",{className:"flex-1 overflow-y-auto",children:[c.jsx("div",{className:"px-3 py-2 text-sm font-medium text-text-secondary uppercase truncate",children:t.split("/").pop()}),n?c.jsxs("div",{className:"flex items-center justify-center py-8 text-text-secondary",children:[c.jsx(yh,{className:"animate-spin mr-2",size:16}),"Loading..."]}):c.jsx("div",{children:e.map(A=>G(A))})]}):c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 text-center",children:[c.jsx("p",{className:"text-text-secondary mb-4 text-sm",children:"You have not yet opened a folder."}),c.jsx("button",{onClick:s,className:"px-4 py-2 bg-accent hover:bg-accent-hover text-white rounded text-sm transition-colors",children:"Open Folder"}),S.length>0&&c.jsxs("div",{className:"mt-4 w-full",children:[c.jsx("p",{className:"text-text-secondary text-xs mb-2",children:"Recent Folders:"}),S.slice(0,5).map(A=>c.jsx("button",{onClick:()=>o(A),className:"block w-full text-left px-2 py-1 text-xs text-text-secondary hover:text-text-primary hover:bg-hover rounded truncate",children:A},A))]})]}),f&&c.jsx("div",{className:"px-3 py-2 border-t border-border-color bg-tertiary",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{children:f==="file"?"":""}),c.jsx("input",{type:"text",placeholder:`New ${f} name...`,value:x,onChange:A=>E(A.target.value),onKeyDown:A=>{A.key==="Enter"&&Ie(f),A.key==="Escape"&&(m(null),E(""))},autoFocus:!0,className:"flex-1 bg-primary text-text-primary text-sm px-2 py-1 rounded outline-none border border-border-color"})]})}),k&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>p(null)}),c.jsxs("div",{className:"fixed z-50 bg-tertiary border border-border-color rounded shadow-lg py-1 min-w-[150px]",style:{top:k.y,left:k.x},children:[c.jsx("button",{onClick:()=>{m("file"),p(null)},className:"w-full text-left px-3 py-1.5 text-sm hover:bg-hover text-text-primary",children:"New File"}),c.jsx("button",{onClick:()=>{m("folder"),p(null)},className:"w-full text-left px-3 py-1.5 text-sm hover:bg-hover text-text-primary",children:"New Folder"}),c.jsx("div",{className:"border-t border-border-color my-1"}),c.jsx("button",{onClick:()=>{k.node&&(N(k.node),R(k.node.name),p(null))},className:"w-full text-left px-3 py-1.5 text-sm hover:bg-hover text-text-primary",children:"Rename"}),c.jsx("button",{onClick:Tt,className:"w-full text-left px-3 py-1.5 text-sm hover:bg-hover text-red-400",children:"Delete"})]})]})]})},$_=()=>{const{searchQuery:t,setSearchQuery:e,searchResults:n,clearSearch:r}=Se(),[i,s]=O.useState(""),[o,a]=O.useState(!1),[l,u]=O.useState(!1),[d,h]=O.useState(!1),g=async()=>{t&&console.log("Searching for:",t)};return c.jsxs("div",{className:"flex flex-col h-full p-3",children:[c.jsx("div",{className:"text-xs font-semibold text-text-secondary uppercase tracking-wider mb-3",children:"Search"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(gl,{className:"absolute left-2 top-2 text-text-secondary",size:14}),c.jsx("input",{type:"text",placeholder:"Search",value:t,onChange:v=>e(v.target.value),onKeyDown:v=>v.key==="Enter"&&g(),className:"w-full bg-primary text-text-primary text-sm pl-8 pr-2 py-1.5 rounded outline-none border border-border-color focus:border-accent"})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"text",placeholder:"Replace",value:i,onChange:v=>s(v.target.value),className:"w-full bg-primary text-text-primary text-sm px-2 py-1.5 rounded outline-none border border-border-color focus:border-accent"})}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[c.jsx("button",{onClick:()=>a(!o),className:`px-2 py-1 text-xs rounded ${o?"bg-accent text-white":"bg-tertiary text-text-secondary"}`,title:"Match Case",children:"Aa"}),c.jsx("button",{onClick:()=>u(!l),className:`px-2 py-1 text-xs rounded ${l?"bg-accent text-white":"bg-tertiary text-text-secondary"}`,title:"Match Whole Word",children:"ab"}),c.jsx("button",{onClick:()=>h(!d),className:`px-2 py-1 text-xs rounded ${d?"bg-accent text-white":"bg-tertiary text-text-secondary"}`,title:"Use Regular Expression",children:".*"})]}),c.jsxs("div",{className:"flex gap-2 pt-2",children:[c.jsx("button",{onClick:g,className:"flex-1 px-3 py-1.5 bg-accent hover:bg-accent-hover text-white text-sm rounded transition-colors",children:"Find All"}),c.jsx("button",{onClick:()=>{r(),s("")},className:"px-3 py-1.5 bg-tertiary hover:bg-hover text-text-primary text-sm rounded transition-colors",children:"Clear"})]})]}),n.length>0&&c.jsxs("div",{className:"flex-1 mt-4 overflow-y-auto",children:[c.jsxs("div",{className:"text-xs text-text-secondary mb-2",children:[n.length," results"]}),n.map((v,w)=>c.jsxs("div",{className:"p-2 hover:bg-hover cursor-pointer text-sm border-l-2 border-transparent hover:border-accent",children:[c.jsx("div",{className:"text-text-secondary text-xs truncate",children:v.filePath}),c.jsx("div",{className:"text-text-primary truncate",children:v.preview})]},w))]})]})},V_=()=>c.jsxs("div",{className:"flex flex-col h-full p-3",children:[c.jsx("div",{className:"text-xs font-semibold text-text-secondary uppercase tracking-wider mb-3",children:"JSON Viewer"}),c.jsxs("p",{className:"text-sm text-text-secondary",children:["Open a JSON file and press ",c.jsx("kbd",{className:"px-1 py-0.5 bg-tertiary rounded",children:"Ctrl+Shift+J"})," to toggle JSON view mode."]})]}),W_=()=>c.jsxs("div",{className:"flex flex-col h-full p-3",children:[c.jsx("div",{className:"text-xs font-semibold text-text-secondary uppercase tracking-wider mb-3",children:"Source Control"}),c.jsx("p",{className:"text-sm text-text-secondary",children:"Git integration coming soon. Open a folder with a Git repository to see changes."})]}),H_=()=>{const{tabs:t,activeTabId:e,splitMode:n,setActiveTab:r,closeTab:i,setSplitMode:s}=Se(),{saveFile:o}=Cn(),a=d=>{r(d)},l=async(d,h)=>{d.stopPropagation();const g=t.find(v=>v.id===h);if(g!=null&&g.isDirty&&confirm(`Do you want to save changes to ${g.name}?`))try{await o(g.path,g.content)}catch(w){console.error("Error saving file:",w);return}i(h)},u=(d,h)=>{d.preventDefault()};return t.length===0?null:c.jsxs("div",{className:"flex items-center bg-secondary border-b border-border-color",children:[c.jsx("div",{className:"flex-1 flex overflow-x-auto",children:t.map(d=>c.jsxs("div",{onClick:()=>a(d.id),onContextMenu:h=>u(h,d.id),className:`group flex items-center gap-2 px-3 py-2 min-w-[120px] max-w-[200px] cursor-pointer border-r border-border-color transition-colors ${e===d.id?"bg-primary border-t-2 border-t-accent":"bg-secondary hover:bg-hover border-t-2 border-t-transparent"}`,children:[c.jsx("span",{className:"text-sm",children:lc(d.name)}),c.jsx("span",{className:`flex-1 text-sm truncate ${d.isDirty?"italic":""}`,children:d.name}),d.isDirty&&c.jsx(g_,{size:8,className:"fill-text-secondary text-text-secondary"}),c.jsx("button",{onClick:h=>l(h,d.id),className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-tertiary rounded transition-all",children:c.jsx(vl,{size:14})})]},d.id))}),c.jsxs("div",{className:"flex items-center gap-1 px-2 border-l border-border-color",children:[c.jsx("button",{onClick:()=>s(n==="vertical"?"none":"vertical"),className:`p-1.5 rounded transition-colors ${n==="vertical"?"bg-accent text-white":"hover:bg-hover text-text-secondary"}`,title:"Split Editor Right",children:c.jsx(mh,{size:16,className:"rotate-90"})}),c.jsx("button",{onClick:()=>s(n==="horizontal"?"none":"horizontal"),className:`p-1.5 rounded transition-colors ${n==="horizontal"?"bg-accent text-white":"hover:bg-hover text-text-secondary"}`,title:"Split Editor Down",children:c.jsx(mh,{size:16})})]})]})};function wh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Q_(t){if(Array.isArray(t))return t}function Y_(t,e,n){return(e=eS(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q_(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function G_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_h(Object(n),!0).forEach(function(r){Y_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_h(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K_(t,e){if(t==null)return{};var n,r,i=J_(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function J_(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Z_(t,e){return Q_(t)||q_(t,e)||tS(t,e)||G_()}function X_(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eS(t){var e=X_(t,"string");return typeof e=="symbol"?e:e+""}function tS(t,e){if(t){if(typeof t=="string")return wh(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wh(t,e):void 0}}function nS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xh(Object(n),!0).forEach(function(r){nS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(i,s){return s(i)},r)}}function Xi(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return e.apply(n,[].concat(i,a))}}}function xa(t){return{}.toString.call(t).includes("Object")}function iS(t){return!Object.keys(t).length}function Ps(t){return typeof t=="function"}function sS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function oS(t,e){return xa(e)||rr("changeType"),Object.keys(e).some(function(n){return!sS(t,n)})&&rr("changeField"),e}function aS(t){Ps(t)||rr("selectorType")}function lS(t){Ps(t)||xa(t)||rr("handlerType"),xa(t)&&Object.values(t).some(function(e){return!Ps(e)})&&rr("handlersType")}function uS(t){t||rr("initialIsRequired"),xa(t)||rr("initialType"),iS(t)&&rr("initialContent")}function cS(t,e){throw new Error(t[e]||t.default)}var dS={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},rr=Xi(cS)(dS),So={changes:oS,selector:aS,handler:lS,initial:uS};function fS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};So.initial(t),So.handler(e);var n={current:t},r=Xi(yS)(n,e),i=Xi(pS)(n),s=Xi(So.changes)(t),o=Xi(hS)(n);function a(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return So.selector(u),u(n.current)}function l(u){rS(r,i,s,o)(u)}return[a,l]}function hS(t,e){return Ps(e)?e(t.current):e}function pS(t,e){return t.current=bh(bh({},t.current),e),e}function yS(t,e,n){return Ps(e)?e(t.current):Object.keys(n).forEach(function(r){var i;return(i=e[r])===null||i===void 0?void 0:i.call(e,t.current[r])}),n}var mS={create:fS},gS={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function vS(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return e.apply(n,[].concat(i,a))}}}function wS(t){return{}.toString.call(t).includes("Object")}function _S(t){return t||Ih("configIsRequired"),wS(t)||Ih("configType"),t.urls?(SS(),{paths:{vs:t.urls.monacoBase}}):t}function SS(){console.warn(Cm.deprecation)}function xS(t,e){throw new Error(t[e]||t.default)}var Cm={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Ih=vS(xS)(Cm),bS={config:_S},IS=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(s,o){return o(s)},i)}};function Am(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],Am(t[n],e[n]))}),Sh(Sh({},t),e)}var ES={type:"cancelation",msg:"operation is manually canceled"};function Zl(t){var e=!1,n=new Promise(function(r,i){t.then(function(s){return e?i(ES):r(s)}),t.catch(i)});return n.cancel=function(){return e=!0},n}var NS=["monaco"],TS=mS.create({config:gS,isInitialized:!1,resolve:null,reject:null,monaco:null}),Dm=Z_(TS,2),Js=Dm[0],wl=Dm[1];function kS(t){var e=bS.config(t),n=e.monaco,r=K_(e,NS);wl(function(i){return{config:Am(i.config,r),monaco:n}})}function OS(){var t=Js(function(e){var n=e.monaco,r=e.isInitialized,i=e.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!t.isInitialized){if(wl({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),Zl(Xl);if(window.monaco&&window.monaco.editor)return Lm(window.monaco),t.resolve(window.monaco),Zl(Xl);IS(FS,CS)(AS)}return Zl(Xl)}function FS(t){return document.body.appendChild(t)}function RS(t){var e=document.createElement("script");return t&&(e.src=t),e}function CS(t){var e=Js(function(r){var i=r.config,s=r.reject;return{config:i,reject:s}}),n=RS("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function AS(){var t=Js(function(n){var r=n.config,i=n.resolve,s=n.reject;return{config:r,resolve:i,reject:s}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){var r=n.m||n;Lm(r),t.resolve(r)},function(n){t.reject(n)})}function Lm(t){Js().monaco||wl({monaco:t})}function DS(){return Js(function(t){var e=t.monaco;return e})}var Xl=new Promise(function(t,e){return wl({resolve:t,reject:e})}),jm={config:kS,init:OS,__getMonacoInstance:DS},LS={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},eu=LS,jS={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},MS=jS;function BS({children:t}){return qn.createElement("div",{style:MS.container},t)}var PS=BS,US=PS;function zS({width:t,height:e,isEditorReady:n,loading:r,_ref:i,className:s,wrapperProps:o}){return qn.createElement("section",{style:{...eu.wrapper,width:t,height:e},...o},!n&&qn.createElement(US,null,r),qn.createElement("div",{ref:i,style:{...eu.fullWidth,...!n&&eu.hide},className:s}))}var $S=zS,Mm=O.memo($S);function VS(t){O.useEffect(t,[])}var Bm=VS;function WS(t,e,n=!0){let r=O.useRef(!0);O.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var wt=WS;function vs(){}function ui(t,e,n,r){return HS(t,r)||QS(t,e,n,r)}function HS(t,e){return t.editor.getModel(Pm(t,e))}function QS(t,e,n,r){return t.editor.createModel(e,n,r?Pm(t,r):void 0)}function Pm(t,e){return t.Uri.parse(e)}function YS({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:s,modifiedModelPath:o,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:d="Loading...",options:h={},height:g="100%",width:v="100%",className:w,wrapperProps:S={},beforeMount:k=vs,onMount:p=vs}){let[f,m]=O.useState(!1),[x,E]=O.useState(!0),_=O.useRef(null),N=O.useRef(null),T=O.useRef(null),R=O.useRef(p),b=O.useRef(k),L=O.useRef(!1);Bm(()=>{let G=jm.init();return G.then(A=>(N.current=A)&&E(!1)).catch(A=>(A==null?void 0:A.type)!=="cancelation"&&console.error("Monaco initialization: error:",A)),()=>_.current?Tt():G.cancel()}),wt(()=>{if(_.current&&N.current){let G=_.current.getOriginalEditor(),A=ui(N.current,t||"",r||n||"text",s||"");A!==G.getModel()&&G.setModel(A)}},[s],f),wt(()=>{if(_.current&&N.current){let G=_.current.getModifiedEditor(),A=ui(N.current,e||"",i||n||"text",o||"");A!==G.getModel()&&G.setModel(A)}},[o],f),wt(()=>{let G=_.current.getModifiedEditor();G.getOption(N.current.editor.EditorOption.readOnly)?G.setValue(e||""):e!==G.getValue()&&(G.executeEdits("",[{range:G.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),G.pushUndoStop())},[e],f),wt(()=>{var G,A;(A=(G=_.current)==null?void 0:G.getModel())==null||A.original.setValue(t||"")},[t],f),wt(()=>{let{original:G,modified:A}=_.current.getModel();N.current.editor.setModelLanguage(G,r||n||"text"),N.current.editor.setModelLanguage(A,i||n||"text")},[n,r,i],f),wt(()=>{var G;(G=N.current)==null||G.editor.setTheme(u)},[u],f),wt(()=>{var G;(G=_.current)==null||G.updateOptions(h)},[h],f);let Ie=O.useCallback(()=>{var me;if(!N.current)return;b.current(N.current);let G=ui(N.current,t||"",r||n||"text",s||""),A=ui(N.current,e||"",i||n||"text",o||"");(me=_.current)==null||me.setModel({original:G,modified:A})},[n,e,i,t,r,s,o]),je=O.useCallback(()=>{var G;!L.current&&T.current&&(_.current=N.current.editor.createDiffEditor(T.current,{automaticLayout:!0,...h}),Ie(),(G=N.current)==null||G.editor.setTheme(u),m(!0),L.current=!0)},[h,u,Ie]);O.useEffect(()=>{f&&R.current(_.current,N.current)},[f]),O.useEffect(()=>{!x&&!f&&je()},[x,f,je]);function Tt(){var A,me,C,B;let G=(A=_.current)==null?void 0:A.getModel();a||((me=G==null?void 0:G.original)==null||me.dispose()),l||((C=G==null?void 0:G.modified)==null||C.dispose()),(B=_.current)==null||B.dispose()}return qn.createElement(Mm,{width:v,height:g,isEditorReady:f,loading:d,_ref:T,className:w,wrapperProps:S})}var qS=YS;O.memo(qS);function GS(t){let e=O.useRef();return O.useEffect(()=>{e.current=t},[t]),e.current}var KS=GS,xo=new Map;function JS({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:i,path:s,theme:o="light",line:a,loading:l="Loading...",options:u={},overrideServices:d={},saveViewState:h=!0,keepCurrentModel:g=!1,width:v="100%",height:w="100%",className:S,wrapperProps:k={},beforeMount:p=vs,onMount:f=vs,onChange:m,onValidate:x=vs}){let[E,_]=O.useState(!1),[N,T]=O.useState(!0),R=O.useRef(null),b=O.useRef(null),L=O.useRef(null),Ie=O.useRef(f),je=O.useRef(p),Tt=O.useRef(),G=O.useRef(r),A=KS(s),me=O.useRef(!1),C=O.useRef(!1);Bm(()=>{let I=jm.init();return I.then(D=>(R.current=D)&&T(!1)).catch(D=>(D==null?void 0:D.type)!=="cancelation"&&console.error("Monaco initialization: error:",D)),()=>b.current?q():I.cancel()}),wt(()=>{var D,ie,Ee,Re;let I=ui(R.current,t||r||"",e||i||"",s||n||"");I!==((D=b.current)==null?void 0:D.getModel())&&(h&&xo.set(A,(ie=b.current)==null?void 0:ie.saveViewState()),(Ee=b.current)==null||Ee.setModel(I),h&&((Re=b.current)==null||Re.restoreViewState(xo.get(s))))},[s],E),wt(()=>{var I;(I=b.current)==null||I.updateOptions(u)},[u],E),wt(()=>{!b.current||r===void 0||(b.current.getOption(R.current.editor.EditorOption.readOnly)?b.current.setValue(r):r!==b.current.getValue()&&(C.current=!0,b.current.executeEdits("",[{range:b.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),b.current.pushUndoStop(),C.current=!1))},[r],E),wt(()=>{var D,ie;let I=(D=b.current)==null?void 0:D.getModel();I&&i&&((ie=R.current)==null||ie.editor.setModelLanguage(I,i))},[i],E),wt(()=>{var I;a!==void 0&&((I=b.current)==null||I.revealLine(a))},[a],E),wt(()=>{var I;(I=R.current)==null||I.editor.setTheme(o)},[o],E);let B=O.useCallback(()=>{var I;if(!(!L.current||!R.current)&&!me.current){je.current(R.current);let D=s||n,ie=ui(R.current,r||t||"",e||i||"",D||"");b.current=(I=R.current)==null?void 0:I.editor.create(L.current,{model:ie,automaticLayout:!0,...u},d),h&&b.current.restoreViewState(xo.get(D)),R.current.editor.setTheme(o),a!==void 0&&b.current.revealLine(a),_(!0),me.current=!0}},[t,e,n,r,i,s,u,d,h,o,a]);O.useEffect(()=>{E&&Ie.current(b.current,R.current)},[E]),O.useEffect(()=>{!N&&!E&&B()},[N,E,B]),G.current=r,O.useEffect(()=>{var I,D;E&&m&&((I=Tt.current)==null||I.dispose(),Tt.current=(D=b.current)==null?void 0:D.onDidChangeModelContent(ie=>{C.current||m(b.current.getValue(),ie)}))},[E,m]),O.useEffect(()=>{if(E){let I=R.current.editor.onDidChangeMarkers(D=>{var Ee;let ie=(Ee=b.current.getModel())==null?void 0:Ee.uri;if(ie&&D.find(Re=>Re.path===ie.path)){let Re=R.current.editor.getModelMarkers({resource:ie});x==null||x(Re)}});return()=>{I==null||I.dispose()}}return()=>{}},[E,x]);function q(){var I,D;(I=Tt.current)==null||I.dispose(),g?h&&xo.set(s,b.current.saveViewState()):(D=b.current.getModel())==null||D.dispose(),b.current.dispose()}return qn.createElement(Mm,{width:v,height:w,isEditorReady:E,loading:l,_ref:L,className:S,wrapperProps:k})}var ZS=JS,XS=O.memo(ZS),_d=XS;const ex=()=>{const{tabs:t,activeTabId:e,splitMode:n,activeSplitTabId:r,fontSize:i,fontFamily:s,wordWrap:o,tabSize:a,insertSpaces:l,minimap:u,lineNumbers:d,renderWhitespace:h,updateTabContent:g,markTabClean:v,updateTabPosition:w,updateTabScroll:S,toggleJsonView:k}=Se(),{saveFile:p}=Cn(),f=O.useRef(null),m=t.find(T=>T.id===e),x=O.useCallback(j_(async(T,R,b)=>{try{await p(b,R),v(T)}catch(L){console.error("Auto-save failed:",L)}},1e3),[]),E=T=>{!m||T===void 0||(g(m.id,T),Se.getState().autoSave&&x(m.id,T,m.path))},_=(T,R)=>{f.current=T,R.editor.defineTheme("opentext-dark",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#1e1e1e","editor.lineHighlightBackground":"#2d2d30","editorLineNumber.foreground":"#858585","editorLineNumber.activeForeground":"#cccccc"}}),R.editor.defineTheme("opentext-light",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#ffffff","editor.lineHighlightBackground":"#f0f0f0","editorLineNumber.foreground":"#237893","editorLineNumber.activeForeground":"#0b216f"}});const b=Se.getState().theme;R.editor.setTheme(b==="light"?"opentext-light":"opentext-dark"),T.onDidChangeCursorPosition(()=>{const L=T.getPosition();L&&m&&w(m.id,{line:L.lineNumber,column:L.column})}),T.onDidScrollChange(()=>{const L=T.getScrollTop(),Ie=T.getScrollLeft();m&&S(m.id,{top:L,left:Ie})}),T.addCommand(R.KeyMod.CtrlCmd|R.KeyMod.Shift|R.KeyCode.KeyJ,()=>{m&&m.language==="json"&&k(m.id)})};if(O.useEffect(()=>{f.current&&(m!=null&&m.cursorPosition)&&(f.current.setPosition({lineNumber:m.cursorPosition.line,column:m.cursorPosition.column}),f.current.revealPositionInCenterIfOutsideViewport({lineNumber:m.cursorPosition.line,column:m.cursorPosition.column}))},[e]),O.useEffect(()=>{},[]),!m)return c.jsx("div",{className:"flex items-center justify-center h-full bg-primary text-text-secondary",children:c.jsx("p",{children:"No file open"})});const N={fontSize:i,fontFamily:s,wordWrap:o,tabSize:a,insertSpaces:l,minimap:{enabled:u},lineNumbers:d?"on":"off",renderWhitespace:h,automaticLayout:!0,scrollBeyondLastLine:!1,smoothScrolling:!0,cursorBlinking:"smooth",cursorSmoothCaretAnimation:"on",bracketPairColorization:{enabled:!0},guides:{bracketPairs:!0,indentation:!0},folding:!0,foldingHighlight:!0,foldingImportsByDefault:!1,showFoldingControls:"always",unfoldOnClickAfterEndOfLine:!0,dragAndDrop:!0,links:!0,quickSuggestions:!0,suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",snippetSuggestions:"inline",formatOnPaste:!0,formatOnType:!0,autoIndent:"full",detectIndentation:!0,trimAutoWhitespace:!0};return c.jsxs("div",{className:"h-full w-full flex",children:[c.jsx("div",{className:`flex-1 ${n!=="none"?"border-r border-border-color":""}`,children:c.jsx(_d,{height:"100%",language:m.language,value:m.content,theme:Se.getState().theme==="light"?"opentext-light":"opentext-dark",options:N,onChange:E,onMount:_,loading:c.jsx("div",{className:"flex items-center justify-center h-full bg-primary text-text-secondary",children:c.jsx("span",{className:"animate-pulse",children:"Loading editor..."})})})}),n!=="none"&&r&&c.jsx("div",{className:"flex-1",children:c.jsx(tx,{tabId:r,options:N})})]})},tx=({tabId:t,options:e})=>{const{tabs:n,updateTabContent:r}=Se(),i=n.find(a=>a.id===t),s=O.useRef(null);if(!i)return null;const o=a=>{a!==void 0&&r(t,a)};return c.jsx(_d,{height:"100%",language:i.language,value:i.content,theme:Se.getState().theme==="light"?"opentext-light":"opentext-dark",options:e,onChange:o,onMount:a=>{s.current=a}})},nx=()=>{const{activeTabId:t,tabs:e,toggleZenMode:n,isZenMode:r,theme:i,setTheme:s,lineNumbers:o,setLineNumbers:a,wordWrap:l,setWordWrap:u,queryPanelOpen:d,toggleQueryPanel:h}=Se(),{currentFolder:g}=Cn(),[v,w]=O.useState({line:1,column:1}),[S,k]=O.useState(null),p=e.find(E=>E.id===t);O.useEffect(()=>{const _=setInterval(()=>{var T,R,b;const N=((b=(R=(T=window.monaco)==null?void 0:T.editor)==null?void 0:R.getEditors)==null?void 0:b.call(R))||[];N.length>0&&N[0]!==S&&(k(N[0]),N[0].onDidChangeCursorPosition(L=>{w({line:L.position.lineNumber,column:L.position.column})}))},500);return()=>clearInterval(_)},[S,t]);const f=p?M_(p.content):0,m=p?B_(p.content):0,x=async()=>{if(p&&p.language==="json")try{const E=P_(p.content),{updateTabContent:_}=Se.getState();_(p.id,E);const{saveFile:N}=Cn.getState();await N(p.path,E)}catch(E){console.error("Error formatting JSON:",E)}};return c.jsxs("div",{className:"h-[22px] bg-accent text-white flex items-center justify-between text-xs px-2 select-none",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[g&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(Tm,{size:12}),c.jsx("span",{className:"truncate max-w-[150px]",children:g.split("/").pop()})]}),(p==null?void 0:p.isDirty)&&c.jsxs("div",{className:"flex items-center gap-1.5 text-yellow-300",children:[c.jsx(f_,{size:12}),c.jsx("span",{children:"Unsaved"})]}),(p==null?void 0:p.language)==="json"&&c.jsxs("button",{onClick:x,className:"flex items-center gap-1.5 hover:bg-white hover:bg-opacity-20 px-2 py-0.5 rounded transition-colors",children:[c.jsx(L_,{size:12}),c.jsx("span",{children:"Format JSON"})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[p&&c.jsxs("div",{className:"px-2 py-0.5 hover:bg-white hover:bg-opacity-20 rounded cursor-pointer",children:["Ln ",v.line,", Col ",v.column]}),p&&c.jsx("div",{className:"px-2 py-0.5 hover:bg-white hover:bg-opacity-20 rounded cursor-pointer",children:"UTF-8"}),p&&c.jsx("div",{className:"px-2 py-0.5 hover:bg-white hover:bg-opacity-20 rounded cursor-pointer uppercase",children:p.language}),p&&c.jsxs("div",{className:"px-2 py-0.5 hover:bg-white hover:bg-opacity-20 rounded cursor-pointer",title:`${f} words, ${m} lines`,children:[f," words"]}),p&&c.jsx("div",{className:"px-2 py-0.5 hover:bg-white hover:bg-opacity-20 rounded cursor-pointer",children:"LF"}),c.jsx("button",{onClick:()=>u(l==="on"?"off":"on"),className:`px-2 py-0.5 rounded transition-colors ${l==="on"?"bg-white bg-opacity-20":"hover:bg-white hover:bg-opacity-20"}`,title:"Toggle Word Wrap",children:l==="on"?"Wrap":"No Wrap"}),c.jsx("button",{onClick:()=>a(!o),className:`px-2 py-0.5 rounded transition-colors ${o?"bg-white bg-opacity-20":"hover:bg-white hover:bg-opacity-20"}`,title:"Toggle Line Numbers",children:o?"Lines":"No Lines"}),c.jsx("button",{onClick:()=>s(i==="dark"?"light":"dark"),className:"px-2 py-0.5 hover:bg-white hover:bg-opacity-20 rounded transition-colors",title:"Toggle Theme",children:i==="dark"?"Dark":"Light"}),c.jsxs("button",{onClick:h,className:`px-2 py-0.5 rounded transition-colors flex items-center gap-1 ${d?"bg-white bg-opacity-20":"hover:bg-white hover:bg-opacity-20"}`,title:"Toggle Query Panel (Q)",children:[c.jsx(ac,{size:12}),"Query"]}),c.jsx("button",{onClick:n,className:"px-2 py-0.5 hover:bg-white hover:bg-opacity-20 rounded transition-colors",title:"Toggle Zen Mode",children:r?c.jsx(k_,{size:12}):c.jsx(km,{size:12})}),c.jsx("button",{className:"px-2 py-0.5 hover:bg-white hover:bg-opacity-20 rounded transition-colors",children:c.jsx(h_,{size:12})})]})]})},rx=()=>{const{isCommandPaletteOpen:t,closeCommandPalette:e,tabs:n,activeTabId:r,setActiveTab:i,setTheme:s,theme:o,toggleZenMode:a,toggleSettings:l,toggleQueryPanel:u,setQueryLanguage:d,queryPanelOpen:h,addTab:g}=Se(),{openFile:v,openFolder:w,getFileLanguage:S}=Cn(),[k,p]=O.useState(""),[f,m]=O.useState(0),x=O.useRef(null),E=O.useMemo(()=>[{id:"open-file",label:"Open File...",icon:c.jsx(hh,{size:18}),shortcut:"O",category:"File",action:async()=>{e();const b=await v();b&&g({path:b.path,name:b.name,content:b.content,isDirty:!1,language:S(b.path)})}},{id:"open-folder",label:"Open Folder...",icon:c.jsx(x_,{size:18}),shortcut:"O",category:"File",action:()=>{e(),w()}},{id:"new-file",label:"New File",icon:c.jsx(w_,{size:18}),shortcut:"N",category:"File",action:()=>{e(),g({path:`untitled-${Date.now()}`,name:"Untitled",content:"",isDirty:!1,language:"plaintext"})}},{id:"save",label:"Save",icon:c.jsx(Fm,{size:18}),shortcut:"S",category:"File",action:async()=>{e();const b=n.find(L=>L.id===r);if(b){const{writeTextFile:L}=await ki(async()=>{const{writeTextFile:Ie}=await Promise.resolve().then(()=>vd);return{writeTextFile:Ie}},void 0);await L(b.path,b.content)}}},{id:"toggle-sidebar",label:"Toggle Sidebar",icon:c.jsx(Om,{size:18}),shortcut:"B",category:"View",action:()=>{Se.getState().toggleSidebar(),e()}},{id:"zen-mode",label:"Toggle Zen Mode",icon:c.jsx(km,{size:18}),shortcut:"K Z",category:"View",action:()=>{a(),e()}},{id:"toggle-query-panel",label:h?"Close Query Panel":"Open Query Panel",icon:c.jsx(ac,{size:18}),shortcut:"Q",category:"Query",action:()=>{u(),e()}},{id:"query-sql",label:"Query with SQL",icon:c.jsx(ac,{size:18}),category:"Query",action:()=>{d("sql"),h||u(),e()}},{id:"query-python",label:"Query with Python",icon:c.jsx(v_,{size:18}),category:"Query",action:()=>{d("python"),h||u(),e()}},{id:"settings",label:"Settings",icon:c.jsx(Rm,{size:18}),shortcut:",",category:"Preferences",action:()=>{l(),e()}},{id:"toggle-theme",label:`Switch to ${o==="dark"?"Light":"Dark"} Theme`,icon:o==="dark"?c.jsx(A_,{size:18}):c.jsx(O_,{size:18}),category:"Preferences",action:()=>{s(o==="dark"?"light":"dark"),e()}},...n.map((b,L)=>({id:`tab-${b.id}`,label:`Open: ${b.name}${b.isDirty?" (modified)":""}`,icon:c.jsx(hh,{size:18}),shortcut:L<9?`${L+1}`:void 0,category:"Open Editors",action:()=>{i(b.id),e()}}))],[n,r,o,h,e,v,w,g,S,i,s,a,l,u,d]),_=O.useMemo(()=>{if(!k)return E;const R=k.toLowerCase();return E.filter(b=>b.label.toLowerCase().includes(R)||b.category.toLowerCase().includes(R))},[E,k]),N=O.useMemo(()=>{const R={};return _.forEach(b=>{R[b.category]||(R[b.category]=[]),R[b.category].push(b)}),R},[_]);if(O.useEffect(()=>{t&&(p(""),m(0),setTimeout(()=>{var R;return(R=x.current)==null?void 0:R.focus()},100))},[t]),O.useEffect(()=>{const R=b=>{if(t)switch(b.key){case"Escape":e();break;case"ArrowDown":b.preventDefault(),m(L=>L<_.length-1?L+1:L);break;case"ArrowUp":b.preventDefault(),m(L=>L>0?L-1:0);break;case"Enter":b.preventDefault(),_[f]&&_[f].action();break}};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[t,_,f,e]),!t)return null;let T=0;return c.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[100px] bg-black bg-opacity-50",children:c.jsxs("div",{className:"w-[600px] bg-secondary rounded-lg shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-border-color",children:[c.jsx(gl,{size:20,className:"text-text-secondary"}),c.jsx("input",{ref:x,type:"text",placeholder:"Type a command or search...",value:k,onChange:R=>{p(R.target.value),m(0)},className:"flex-1 bg-transparent text-text-primary text-lg outline-none placeholder-text-secondary"}),c.jsx("kbd",{className:"px-2 py-1 bg-tertiary rounded text-xs text-text-secondary",children:"ESC"})]}),c.jsx("div",{className:"max-h-[400px] overflow-y-auto py-2",children:_.length===0?c.jsx("div",{className:"px-4 py-8 text-center text-text-secondary",children:"No commands found"}):Object.entries(N).map(([R,b])=>c.jsxs("div",{children:[c.jsx("div",{className:"px-4 py-1.5 text-xs font-semibold text-text-secondary uppercase tracking-wider",children:R}),b.map(L=>{const Ie=T++,je=Ie===f;return c.jsxs("button",{onClick:()=>L.action(),onMouseEnter:()=>m(Ie),className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${je?"bg-accent text-white":"text-text-primary hover:bg-hover"}`,children:[c.jsx("span",{className:je?"text-white":"text-text-secondary",children:L.icon}),c.jsx("span",{className:"flex-1",children:L.label}),L.shortcut&&c.jsx("kbd",{className:`px-2 py-0.5 rounded text-xs ${je?"bg-white bg-opacity-20":"bg-tertiary"}`,children:L.shortcut})]},L.id)})]},R))}),c.jsxs("div",{className:"px-4 py-2 bg-tertiary border-t border-border-color flex items-center justify-between text-xs text-text-secondary",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1.5 py-0.5 bg-secondary rounded",children:""}),c.jsx("span",{children:"Navigate"})]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1.5 py-0.5 bg-secondary rounded",children:""}),c.jsx("span",{children:"Select"})]})]}),c.jsxs("span",{children:[_.length," commands"]})]})]})})},ix=({onClose:t})=>{var i;const[e,n]=O.useState("editor"),r=[{id:"editor",label:"Text Editor",icon:__},{id:"appearance",label:"Appearance",icon:F_},{id:"files",label:"Files",icon:Om},{id:"keyboard",label:"Keyboard",icon:T_},{id:"about",label:"About",icon:N_}];return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:c.jsxs("div",{className:"w-[800px] h-[600px] bg-secondary rounded-lg shadow-xl flex overflow-hidden",children:[c.jsxs("div",{className:"w-48 bg-tertiary border-r border-border-color flex flex-col",children:[c.jsx("div",{className:"p-4 border-b border-border-color",children:c.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Settings"})}),c.jsx("nav",{className:"flex-1 py-2",children:r.map(s=>c.jsxs("button",{onClick:()=>n(s.id),className:`w-full flex items-center gap-3 px-4 py-2.5 text-sm transition-colors ${e===s.id?"bg-accent text-white":"text-text-secondary hover:text-text-primary hover:bg-hover"}`,children:[c.jsx(s.icon,{size:18}),s.label]},s.id))})]}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border-color",children:[c.jsx("h3",{className:"text-xl font-medium text-text-primary",children:(i=r.find(s=>s.id===e))==null?void 0:i.label}),c.jsx("button",{onClick:t,className:"p-1 hover:bg-hover rounded text-text-secondary hover:text-text-primary",children:c.jsx(vl,{size:20})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e==="editor"&&c.jsx(sx,{}),e==="appearance"&&c.jsx(ox,{}),e==="files"&&c.jsx(ax,{}),e==="keyboard"&&c.jsx(lx,{}),e==="about"&&c.jsx(ux,{})]})]})]})})},sx=()=>{const{fontSize:t,setFontSize:e,fontFamily:n,setFontFamily:r,tabSize:i,setTabSize:s,insertSpaces:o,setInsertSpaces:a,wordWrap:l,setWordWrap:u,minimap:d,setMinimap:h,lineNumbers:g,setLineNumbers:v}=Se();return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Tn,{title:"Font",children:[c.jsx(gn,{label:"Font Size",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"range",min:"8",max:"32",value:t,onChange:w=>e(Number(w.target.value)),className:"w-32"}),c.jsxs("span",{className:"text-text-secondary w-8",children:[t,"px"]})]})}),c.jsx(gn,{label:"Font Family",children:c.jsxs("select",{value:n,onChange:w=>r(w.target.value),className:"bg-primary border border-border-color rounded px-3 py-1.5 text-sm",children:[c.jsx("option",{value:"Menlo, Monaco, 'Courier New', monospace",children:"Menlo (Default)"}),c.jsx("option",{value:"'Fira Code', monospace",children:"Fira Code"}),c.jsx("option",{value:"'JetBrains Mono', monospace",children:"JetBrains Mono"}),c.jsx("option",{value:"'Source Code Pro', monospace",children:"Source Code Pro"}),c.jsx("option",{value:"Consolas, monospace",children:"Consolas"})]})})]}),c.jsxs(Tn,{title:"Editing",children:[c.jsx(gn,{label:"Tab Size",children:c.jsx("div",{className:"flex items-center gap-2",children:[2,4,8].map(w=>c.jsx("button",{onClick:()=>s(w),className:`px-3 py-1.5 rounded text-sm ${i===w?"bg-accent text-white":"bg-tertiary text-text-primary hover:bg-hover"}`,children:w},w))})}),c.jsx(gn,{label:"Insert Spaces",children:c.jsx(Uo,{checked:o,onChange:a})}),c.jsx(gn,{label:"Word Wrap",children:c.jsxs("select",{value:l,onChange:w=>u(w.target.value),className:"bg-primary border border-border-color rounded px-3 py-1.5 text-sm",children:[c.jsx("option",{value:"on",children:"On"}),c.jsx("option",{value:"off",children:"Off"}),c.jsx("option",{value:"wordWrapColumn",children:"Column"})]})})]}),c.jsxs(Tn,{title:"Display",children:[c.jsx(gn,{label:"Minimap",children:c.jsx(Uo,{checked:d,onChange:h})}),c.jsx(gn,{label:"Line Numbers",children:c.jsx(Uo,{checked:g,onChange:v})})]})]})},ox=()=>{const{theme:t,setTheme:e}=Se();return c.jsx("div",{className:"space-y-6",children:c.jsx(Tn,{title:"Color Theme",children:c.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{id:"dark",label:"Dark",color:"#1e1e1e"},{id:"light",label:"Light",color:"#ffffff"},{id:"system",label:"System",color:"linear-gradient(135deg, #1e1e1e 50%, #ffffff 50%)"}].map(n=>c.jsxs("button",{onClick:()=>e(n.id),className:`p-4 rounded-lg border-2 transition-all ${t===n.id?"border-accent bg-accent bg-opacity-10":"border-border-color hover:border-text-secondary"}`,children:[c.jsx("div",{className:"w-full h-16 rounded mb-2 border border-border-color",style:{background:n.color}}),c.jsx("span",{className:"text-sm text-text-primary",children:n.label})]},n.id))})})})},ax=()=>{const{autoSave:t,setAutoSave:e,recentFiles:n,clearRecentFiles:r}=Se();return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Tn,{title:"Auto Save",children:[c.jsx(gn,{label:"Auto Save",children:c.jsx(Uo,{checked:t,onChange:e})}),c.jsx("p",{className:"text-sm text-text-secondary",children:"Automatically save files after 1 second of inactivity."})]}),c.jsxs(Tn,{title:"Recent Files",children:[c.jsx(gn,{label:"Recent Files History",children:c.jsxs("span",{className:"text-text-secondary",children:[n.length," files"]})}),c.jsx("button",{onClick:r,className:"px-4 py-2 bg-tertiary hover:bg-hover text-text-primary text-sm rounded transition-colors",children:"Clear Recent Files"})]})]})},lx=()=>{const t=[{key:"Open File",binding:"O / Ctrl+O"},{key:"Open Folder",binding:"O / Ctrl+Shift+O"},{key:"Save",binding:"S / Ctrl+S"},{key:"Save As",binding:"S / Ctrl+Shift+S"},{key:"Close Tab",binding:"W / Ctrl+W"},{key:"Toggle Sidebar",binding:"B / Ctrl+B"},{key:"Command Palette",binding:"P / Ctrl+Shift+P"},{key:"Find",binding:"F / Ctrl+F"},{key:"Find and Replace",binding:"H / Ctrl+H"},{key:"Find in Files",binding:"F / Ctrl+Shift+F"},{key:"Settings",binding:", / Ctrl+,"},{key:"Zen Mode",binding:"K Z / Ctrl+K Z"}];return c.jsx("div",{className:"space-y-6",children:c.jsx(Tn,{title:"Keyboard Shortcuts",children:c.jsx("div",{className:"space-y-1",children:t.map(e=>c.jsxs("div",{className:"flex items-center justify-between py-2 px-3 hover:bg-hover rounded",children:[c.jsx("span",{className:"text-text-primary",children:e.key}),c.jsx("kbd",{className:"px-2 py-1 bg-tertiary rounded text-sm text-text-secondary font-mono",children:e.binding})]},e.key))})})})},ux=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center py-8",children:[c.jsx("h2",{className:"text-4xl font-light text-accent mb-2",children:"OpenText"}),c.jsx("p",{className:"text-text-secondary mb-4",children:"Version 1.0.0"}),c.jsx("p",{className:"text-sm text-text-secondary max-w-md mx-auto",children:"A modern, cross-platform text editor built with Tauri and React. Designed for speed, extensibility, and developer productivity."})]}),c.jsx(Tn,{title:"Links",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("a",{href:"https://github.com/opentext/editor",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 py-2 px-3 hover:bg-hover rounded text-text-primary",children:[c.jsx(b_,{size:18}),"GitHub Repository"]}),c.jsxs("a",{href:"https://opentext.dev",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 py-2 px-3 hover:bg-hover rounded text-text-primary",children:[c.jsx(I_,{size:18}),"Website"]})]})}),c.jsxs(Tn,{title:"Credits",children:[c.jsx("p",{className:"text-sm text-text-secondary",children:"Built with  using:"}),c.jsxs("ul",{className:"text-sm text-text-secondary list-disc list-inside mt-2 space-y-1",children:[c.jsx("li",{children:"Tauri - Native desktop framework"}),c.jsx("li",{children:"React - UI library"}),c.jsx("li",{children:"Monaco Editor - VS Code's powerful editor"}),c.jsx("li",{children:"Zustand - State management"}),c.jsx("li",{children:"Lucide - Beautiful icons"})]})]})]}),Tn=({title:t,children:e})=>c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-sm font-semibold text-text-secondary uppercase tracking-wider border-b border-border-color pb-2",children:t}),e]}),gn=({label:t,children:e})=>c.jsxs("div",{className:"flex items-center justify-between py-2",children:[c.jsx("span",{className:"text-text-primary",children:t}),e]}),Uo=({checked:t,onChange:e})=>c.jsx("button",{onClick:()=>e(!t),className:`relative w-11 h-6 rounded-full transition-colors ${t?"bg-accent":"bg-tertiary"}`,children:c.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${t?"translate-x-5":"translate-x-0"}`})});function J(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function Eh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(t){return this instanceof Z?(this.v=t,this):new Z(t)}function an(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(w){return Promise.resolve(w).then(v,h)}}function a(v,w){r[v]&&(i[v]=function(S){return new Promise(function(k,p){s.push([v,S,k,p])>1||l(v,S)})},w&&(i[v]=w(i[v])))}function l(v,w){try{u(r[v](w))}catch(S){g(s[0][3],S)}}function u(v){v.value instanceof Z?Promise.resolve(v.value.v).then(d,h):g(s[0][2],v)}function d(v){l("next",v)}function h(v){l("throw",v)}function g(v,w){v(w),s.shift(),s.length&&l(s[0][0],s[0][1])}}function zo(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Z(t[i](o)),done:!1}:s?s(o):o}:s}}function Ir(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Eh=="function"?Eh(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}const cx=new TextDecoder("utf-8"),uc=t=>cx.decode(t),dx=new TextEncoder,Sd=t=>dx.encode(t),fx=t=>typeof t=="number",Um=t=>typeof t=="boolean",Be=t=>typeof t=="function",yt=t=>t!=null&&Object(t)===t,Fr=t=>yt(t)&&Be(t.then),Zs=t=>yt(t)&&Be(t[Symbol.iterator]),Bi=t=>yt(t)&&Be(t[Symbol.asyncIterator]),cc=t=>yt(t)&&yt(t.schema),zm=t=>yt(t)&&"done"in t&&"value"in t,$m=t=>yt(t)&&Be(t.stat)&&fx(t.fd),Vm=t=>yt(t)&&xd(t.body),_l=t=>"_getDOMStream"in t&&"_getNodeStream"in t,hx=t=>yt(t)&&Be(t.abort)&&Be(t.getWriter)&&!_l(t),xd=t=>yt(t)&&Be(t.cancel)&&Be(t.getReader)&&!_l(t),px=t=>yt(t)&&Be(t.end)&&Be(t.write)&&Um(t.writable)&&!_l(t),Wm=t=>yt(t)&&Be(t.read)&&Be(t.pipe)&&Um(t.readable)&&!_l(t),yx=t=>yt(t)&&Be(t.clear)&&Be(t.bytes)&&Be(t.position)&&Be(t.setPosition)&&Be(t.capacity)&&Be(t.getBufferIdentifier)&&Be(t.createLong),bd=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function mx(t){const e=t[0]?[t[0]]:[];let n,r,i,s;for(let o,a,l=0,u=0,d=t.length;++l<d;){if(o=e[u],a=t[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(e[++u]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(e[++u]=a);continue}e[u]=new Uint8Array(o.buffer,n,r-n+s)}return e}function Nh(t,e,n=0,r=e.byteLength){const i=t.byteLength,s=new Uint8Array(t.buffer,t.byteOffset,i),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,i));return s.set(o,n),t}function dn(t,e){const n=mx(t),r=n.reduce((d,h)=>d+h.byteLength,0);let i,s,o,a=0,l=-1;const u=Math.min(e||Number.POSITIVE_INFINITY,r);for(const d=n.length;++l<d;){if(i=n[l],s=i.subarray(0,Math.min(i.length,u-a)),u<=a+s.length){s.length<i.length?n[l]=i.subarray(s.length):s.length===i.length&&l++,o?Nh(o,s,a):o=s;break}Nh(o||(o=new Uint8Array(u)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(l),r-(o?o.byteLength:0)]}function he(t,e){let n=zm(e)?e.value:e;return n instanceof t?t===Uint8Array?new t(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=Sd(n)),n instanceof ArrayBuffer?new t(n):n instanceof bd?new t(n):yx(n)?he(t,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new t(0):new t(n.buffer,n.byteOffset,n.byteLength/t.BYTES_PER_ELEMENT):t.from(n)):new t(0)}const qi=t=>he(Int32Array,t),Th=t=>he(BigInt64Array,t),re=t=>he(Uint8Array,t),dc=t=>(t.next(),t);function*gx(t,e){const n=function*(i){yield i},r=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof bd?n(e):Zs(e)?e:n(e);return yield*dc(function*(i){let s=null;do s=i.next(yield he(t,s));while(!s.done)}(r[Symbol.iterator]())),new t}const vx=t=>gx(Uint8Array,t);function Hm(t,e){return an(this,arguments,function*(){if(Fr(e))return yield Z(yield Z(yield*zo(Ir(Hm(t,yield Z(e))))));const r=function(o){return an(this,arguments,function*(){yield yield Z(yield Z(o))})},i=function(o){return an(this,arguments,function*(){yield Z(yield*zo(Ir(dc(function*(a){let l=null;do l=a.next(yield l==null?void 0:l.value);while(!l.done)}(o[Symbol.iterator]())))))})},s=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof bd?r(e):Zs(e)?i(e):Bi(e)?e:r(e);return yield Z(yield*zo(Ir(dc(function(o){return an(this,arguments,function*(){let a=null;do a=yield Z(o.next(yield yield Z(he(t,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield Z(new t)})}const wx=t=>Hm(Uint8Array,t);function Qm(t,e,n){if(t!==0){n=n.slice(0,e);for(let r=-1,i=n.length;++r<i;)n[r]+=t}return n.subarray(0,e)}function _x(t,e){let n=0;const r=t.length;if(r!==e.length)return!1;if(r>0)do if(t[n]!==e[n])return!1;while(++n<r);return!0}const Ot={fromIterable(t){return bo(Sx(t))},fromAsyncIterable(t){return bo(xx(t))},fromDOMStream(t){return bo(bx(t))},fromNodeStream(t){return bo(Ex(t))},toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},bo=t=>(t.next(),t);function*Sx(t){let e,n=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?dn(r,o)[0]:([i,r,a]=dn(r,o),i)}({cmd:s,size:o}=(yield null)||{cmd:"read",size:0});const u=vx(t)[Symbol.iterator]();try{do if({done:e,value:i}=Number.isNaN(o-a)?u.next():u.next(o-a),!e&&i.byteLength>0&&(r.push(i),a+=i.byteLength),e||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!e)}catch(d){(n=!0)&&typeof u.throw=="function"&&u.throw(d)}finally{n===!1&&typeof u.return=="function"&&u.return(null)}return null}function xx(t){return an(this,arguments,function*(){let n,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?dn(i,a)[0]:([s,i,l]=dn(i,a),s)}({cmd:o,size:a}=(yield yield Z(null))||{cmd:"read",size:0});const d=wx(t)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-l)?yield Z(d.next()):yield Z(d.next(a-l)),!n&&s.byteLength>0&&(i.push(s),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield Z(u()));while(a<l);while(!n)}catch(h){(r=!0)&&typeof d.throw=="function"&&(yield Z(d.throw(h)))}finally{r===!1&&typeof d.return=="function"&&(yield Z(d.return(new Uint8Array(0))))}return yield Z(null)})}function bx(t){return an(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?dn(i,a)[0]:([s,i,l]=dn(i,a),s)}({cmd:o,size:a}=(yield yield Z(null))||{cmd:"read",size:0});const d=new Ix(t);try{do if({done:n,value:s}=Number.isNaN(a-l)?yield Z(d.read()):yield Z(d.read(a-l)),!n&&s.byteLength>0&&(i.push(re(s)),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield Z(u()));while(a<l);while(!n)}catch(h){(r=!0)&&(yield Z(d.cancel(h)))}finally{r===!1?yield Z(d.cancel()):t.locked&&d.releaseLock()}return yield Z(null)})}class Ix{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return J(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(e).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(e){return J(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=re(n)),n})}}const tu=(t,e)=>{const n=i=>r([e,i]);let r;return[e,n,new Promise(i=>(r=i)&&t.once(e,n))]};function Ex(t){return an(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,l=0,u=[],d;function h(){return o==="peek"?dn(u,a)[0]:([d,u,l]=dn(u,a),d)}if({cmd:o,size:a}=(yield yield Z(null))||{cmd:"read",size:0},t.isTTY)return yield yield Z(new Uint8Array(0)),yield Z(null);try{n[0]=tu(t,"end"),n[1]=tu(t,"error");do{if(n[2]=tu(t,"readable"),[r,s]=yield Z(Promise.race(n.map(v=>v[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-l)?(d=re(t.read(a-l)),d.byteLength<a-l&&(d=re(t.read()))):d=re(t.read()),d.byteLength>0&&(u.push(d),l+=d.byteLength)),i||a<=l)do({cmd:o,size:a}=yield yield Z(h()));while(a<l)}while(!i)}finally{yield Z(g(n,r==="error"?s:null))}return yield Z(null);function g(v,w){return d=u=null,new Promise((S,k)=>{for(const[p,f]of v)t.off(p,f);try{const p=t.destroy;p&&p.call(t,w),w=void 0}catch(p){w=p||w}finally{w!=null?k(w):S()}})}})}var De;(function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"})(De||(De={}));var Je;(function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"})(Je||(Je={}));var Ge;(function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"})(Ge||(Ge={}));var Pt;(function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"})(Pt||(Pt={}));var V;(function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"})(V||(V={}));var fn;(function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(fn||(fn={}));const nu=2,rn=4,xn=4,ce=4,$n=new Int32Array(2),kh=new Float32Array($n.buffer),Oh=new Float64Array($n.buffer),Io=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var fc;(function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"})(fc||(fc={}));let Fi=class Ym{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new Ym(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return $n[0]=this.readInt32(e),kh[0]}readFloat64(e){return $n[Io?0:1]=this.readInt32(e),$n[Io?1:0]=this.readInt32(e+4),Oh[0]}writeInt8(e,n){this.bytes_[e]=n}writeUint8(e,n){this.bytes_[e]=n}writeInt16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeUint16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeInt32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeUint32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeInt64(e,n){this.writeInt32(e,Number(BigInt.asIntN(32,n))),this.writeInt32(e+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(e,n){this.writeUint32(e,Number(BigInt.asUintN(32,n))),this.writeUint32(e+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(e,n){kh[0]=n,this.writeInt32(e,$n[0])}writeFloat64(e,n){Oh[0]=n,this.writeInt32(e,$n[Io?0:1]),this.writeInt32(e+4,$n[Io?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+rn+xn)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let n=0;n<xn;n++)e+=String.fromCharCode(this.readInt8(this.position_+rn+n));return e}__offset(e,n){const r=e-this.readInt32(e);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(e,n){return e.bb_pos=n+this.readInt32(n),e.bb=this,e}__string(e,n){e+=this.readInt32(e);const r=this.readInt32(e);e+=rn;const i=this.bytes_.subarray(e,e+r);return n===fc.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(e,n){return typeof e=="string"?this.__string(n):this.__union(e,n)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+rn}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=xn)throw new Error("FlatBuffers: file identifier must be length "+xn);for(let n=0;n<xn;n++)if(e.charCodeAt(n)!=this.readInt8(this.position()+rn+n))return!1;return!0}createScalarList(e,n){const r=[];for(let i=0;i<n;++i){const s=e(i);s!==null&&r.push(s)}return r}createObjList(e,n){const r=[];for(let i=0;i<n;++i){const s=e(i);s!==null&&r.push(s.unpack())}return r}},qm=class Gm{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;e?n=e:n=1024,this.bb=Fi.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,n){e>this.minalign&&(this.minalign=e);const r=~(this.bb.capacity()-this.space+n)+1&e-1;for(;this.space<r+e+n;){const i=this.bb.capacity();this.bb=Gm.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(e){for(let n=0;n<e;n++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(e))}addFieldInt16(e,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(e))}addFieldInt32(e,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(e))}addFieldInt64(e,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(e))}addFieldFloat32(e,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(e))}addFieldFloat64(e,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(e))}addFieldOffset(e,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(e))}addFieldStruct(e,n,r){n!=r&&(this.nested(n),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const n=e.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=Fi.allocate(r);return i.setPosition(r-n),i.bytes().set(e.bytes(),r-n),i}addOffset(e){this.prep(rn,0),this.writeInt32(this.offset()-e+rn)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let n=0;n<e;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?e-this.vtable[n]:0);const i=2;this.addInt16(e-this.object_start);const s=(r+i)*nu;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const l=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(l)){for(let u=nu;u<s;u+=nu)if(this.bb.readInt16(a+u)!=this.bb.readInt16(l+u))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,o-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,n,r){const i=r?ce:0;if(n){const s=n;if(this.prep(this.minalign,rn+xn+i),s.length!=xn)throw new TypeError("FlatBuffers: file identifier must be length "+xn);for(let o=xn-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,rn+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,n){this.finish(e,n,!0)}requiredField(e,n){const r=this.bb.capacity()-e,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(e,n,r){this.notNested(),this.vector_num_elems=n,this.prep(rn,e*n),this.prep(r,e*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const n=this.createString(e);return this.string_maps.set(e,n),n}createString(e){if(e==null)return 0;let n;return e instanceof Uint8Array?n=e:n=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const n=[];for(let r=0;r<e.length;++r){const i=e[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(e,n){return n(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}};var ba;(function(t){t[t.BUFFER=0]="BUFFER"})(ba||(ba={}));var Ia;(function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"})(Ia||(Ia={}));class Vn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBodyCompression(e,n){return(n||new Vn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,n){return e.setPosition(e.position()+ce),(n||new Vn).__init(e.readInt32(e.position())+e.position(),e)}codec(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):Ia.LZ4_FRAME}method(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):ba.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,n){e.addFieldInt8(0,n,Ia.LZ4_FRAME)}static addMethod(e,n){e.addFieldInt8(1,n,ba.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,n,r){return Vn.startBodyCompression(e),Vn.addCodec(e,n),Vn.addMethod(e,r),Vn.endBodyCompression(e)}}class Km{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,n,r){return e.prep(8,16),e.writeInt64(BigInt(r!=null?r:0)),e.writeInt64(BigInt(n!=null?n:0)),e.offset()}}let Jm=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,n,r){return e.prep(8,16),e.writeInt64(BigInt(r!=null?r:0)),e.writeInt64(BigInt(n!=null?n:0)),e.offset()}},vn=class hc{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsRecordBatch(e,n){return(n||new hc).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,n){return e.setPosition(e.position()+ce),(n||new hc).__init(e.readInt32(e.position())+e.position(),e)}length(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}nodes(e,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Jm).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}nodesLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Km).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}buffersLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new Vn).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addNodes(e,n){e.addFieldOffset(1,n,0)}static startNodesVector(e,n){e.startVector(16,n,8)}static addBuffers(e,n){e.addFieldOffset(2,n,0)}static startBuffersVector(e,n){e.startVector(16,n,8)}static addCompression(e,n){e.addFieldOffset(3,n,0)}static endRecordBatch(e){return e.endObject()}},zr=class pc{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryBatch(e,n){return(n||new pc).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,n){return e.setPosition(e.position()+ce),(n||new pc).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}data(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new vn).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addData(e,n){e.addFieldOffset(1,n,0)}static addIsDelta(e,n){e.addFieldInt8(2,+n,0)}static endDictionaryBatch(e){return e.endObject()}};var Ri;(function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"})(Ri||(Ri={}));var Ea;(function(t){t[t.DenseArray=0]="DenseArray"})(Ea||(Ea={}));class _t{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInt(e,n){return(n||new _t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,n){return e.setPosition(e.position()+ce),(n||new _t).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,n){e.addFieldInt32(0,n,0)}static addIsSigned(e,n){e.addFieldInt8(1,+n,0)}static endInt(e){return e.endObject()}static createInt(e,n,r){return _t.startInt(e),_t.addBitWidth(e,n),_t.addIsSigned(e,r),_t.endInt(e)}}class bn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryEncoding(e,n){return(n||new bn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,n){return e.setPosition(e.position()+ce),(n||new bn).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}indexType(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new _t).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):Ea.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addIndexType(e,n){e.addFieldOffset(1,n,0)}static addIsOrdered(e,n){e.addFieldInt8(2,+n,0)}static addDictionaryKind(e,n){e.addFieldInt16(3,n,Ea.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}}class Pe{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsKeyValue(e,n){return(n||new Pe).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,n){return e.setPosition(e.position()+ce),(n||new Pe).__init(e.readInt32(e.position())+e.position(),e)}key(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}value(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,n){e.addFieldOffset(0,n,0)}static addValue(e,n){e.addFieldOffset(1,n,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,n,r){return Pe.startKeyValue(e),Pe.addKey(e,n),Pe.addValue(e,r),Pe.endKeyValue(e)}}let Fh=class es{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBinary(e,n){return(n||new es).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,n){return e.setPosition(e.position()+ce),(n||new es).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return es.startBinary(e),es.endBinary(e)}},Rh=class ts{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBool(e,n){return(n||new ts).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,n){return e.setPosition(e.position()+ce),(n||new ts).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return ts.startBool(e),ts.endBool(e)}},$o=class $r{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDate(e,n){return(n||new $r).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,n){return e.setPosition(e.position()+ce),(n||new $r).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Pt.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,Pt.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,n){return $r.startDate(e),$r.addUnit(e,n),$r.endDate(e)}},Vr=class Pn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDecimal(e,n){return(n||new Pn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,n){return e.setPosition(e.position()+ce),(n||new Pn).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,n){e.addFieldInt32(0,n,0)}static addScale(e,n){e.addFieldInt32(1,n,0)}static addBitWidth(e,n){e.addFieldInt32(2,n,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,n,r,i){return Pn.startDecimal(e),Pn.addPrecision(e,n),Pn.addScale(e,r),Pn.addBitWidth(e,i),Pn.endDecimal(e)}},Vo=class Wr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDuration(e,n){return(n||new Wr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,n){return e.setPosition(e.position()+ce),(n||new Wr).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):V.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,V.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,n){return Wr.startDuration(e),Wr.addUnit(e,n),Wr.endDuration(e)}},Wo=class Hr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeBinary(e,n){return(n||new Hr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,n){return e.setPosition(e.position()+ce),(n||new Hr).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,n){return Hr.startFixedSizeBinary(e),Hr.addByteWidth(e,n),Hr.endFixedSizeBinary(e)}},Ho=class Qr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeList(e,n){return(n||new Qr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,n){return e.setPosition(e.position()+ce),(n||new Qr).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,n){return Qr.startFixedSizeList(e),Qr.addListSize(e,n),Qr.endFixedSizeList(e)}};class sn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFloatingPoint(e,n){return(n||new sn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,n){return e.setPosition(e.position()+ce),(n||new sn).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ge.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,n){e.addFieldInt16(0,n,Ge.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,n){return sn.startFloatingPoint(e),sn.addPrecision(e,n),sn.endFloatingPoint(e)}}class on{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInterval(e,n){return(n||new on).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,n){return e.setPosition(e.position()+ce),(n||new on).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):fn.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,fn.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,n){return on.startInterval(e),on.addUnit(e,n),on.endInterval(e)}}let Ch=class ns{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsLargeBinary(e,n){return(n||new ns).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,n){return e.setPosition(e.position()+ce),(n||new ns).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return ns.startLargeBinary(e),ns.endLargeBinary(e)}},Ah=class rs{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsLargeUtf8(e,n){return(n||new rs).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,n){return e.setPosition(e.position()+ce),(n||new rs).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return rs.startLargeUtf8(e),rs.endLargeUtf8(e)}},Dh=class is{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsList(e,n){return(n||new is).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,n){return e.setPosition(e.position()+ce),(n||new is).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return is.startList(e),is.endList(e)}},Qo=class Yr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMap(e,n){return(n||new Yr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,n){return e.setPosition(e.position()+ce),(n||new Yr).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,n){e.addFieldInt8(0,+n,0)}static endMap(e){return e.endObject()}static createMap(e,n){return Yr.startMap(e),Yr.addKeysSorted(e,n),Yr.endMap(e)}},Lh=class ss{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsNull(e,n){return(n||new ss).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,n){return e.setPosition(e.position()+ce),(n||new ss).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return ss.startNull(e),ss.endNull(e)}};class Sr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsStruct_(e,n){return(n||new Sr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,n){return e.setPosition(e.position()+ce),(n||new Sr).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return Sr.startStruct_(e),Sr.endStruct_(e)}}class Ct{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTime(e,n){return(n||new Ct).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,n){return e.setPosition(e.position()+ce),(n||new Ct).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):V.MILLISECOND}bitWidth(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,V.MILLISECOND)}static addBitWidth(e,n){e.addFieldInt32(1,n,32)}static endTime(e){return e.endObject()}static createTime(e,n,r){return Ct.startTime(e),Ct.addUnit(e,n),Ct.addBitWidth(e,r),Ct.endTime(e)}}class At{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTimestamp(e,n){return(n||new At).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,n){return e.setPosition(e.position()+ce),(n||new At).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):V.SECOND}timezone(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,V.SECOND)}static addTimezone(e,n){e.addFieldOffset(1,n,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,n,r){return At.startTimestamp(e),At.addUnit(e,n),At.addTimezone(e,r),At.endTimestamp(e)}}class ut{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUnion(e,n){return(n||new ut).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,n){return e.setPosition(e.position()+ce),(n||new ut).__init(e.readInt32(e.position())+e.position(),e)}mode(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Je.Sparse}typeIds(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+e*4):0}typeIdsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){const e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,n){e.addFieldInt16(0,n,Je.Sparse)}static addTypeIds(e,n){e.addFieldOffset(1,n,0)}static createTypeIdsVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addInt32(n[r]);return e.endVector()}static startTypeIdsVector(e,n){e.startVector(4,n,4)}static endUnion(e){return e.endObject()}static createUnion(e,n,r){return ut.startUnion(e),ut.addMode(e,n),ut.addTypeIds(e,r),ut.endUnion(e)}}let jh=class os{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUtf8(e,n){return(n||new os).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,n){return e.setPosition(e.position()+ce),(n||new os).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return os.startUtf8(e),os.endUtf8(e)}};var ge;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList",t[t.RunEndEncoded=22]="RunEndEncoded"})(ge||(ge={}));let kt=class Yo{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsField(e,n){return(n||new Yo).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,n){return e.setPosition(e.position()+ce),(n||new Yo).__init(e.readInt32(e.position())+e.position(),e)}name(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}nullable(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):ge.NONE}type(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(e,this.bb_pos+n):null}dictionary(e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new bn).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(e,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new Yo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}childrenLength(){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Pe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,n){e.addFieldOffset(0,n,0)}static addNullable(e,n){e.addFieldInt8(1,+n,0)}static addTypeType(e,n){e.addFieldInt8(2,n,ge.NONE)}static addType(e,n){e.addFieldOffset(3,n,0)}static addDictionary(e,n){e.addFieldOffset(4,n,0)}static addChildren(e,n){e.addFieldOffset(5,n,0)}static createChildrenVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startChildrenVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(6,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endField(e){return e.endObject()}},en=class yn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsSchema(e,n){return(n||new yn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,n){return e.setPosition(e.position()+ce),(n||new yn).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ri.Little}fields(e,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new kt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}fieldsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Pe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+e*8):BigInt(0)}featuresLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,n){e.addFieldInt16(0,n,Ri.Little)}static addFields(e,n){e.addFieldOffset(1,n,0)}static createFieldsVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startFieldsVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(2,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static addFeatures(e,n){e.addFieldOffset(3,n,0)}static createFeaturesVector(e,n){e.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)e.addInt64(n[r]);return e.endVector()}static startFeaturesVector(e,n){e.startVector(8,n,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,n){e.finish(n)}static finishSizePrefixedSchemaBuffer(e,n){e.finish(n,void 0,!0)}static createSchema(e,n,r,i,s){return yn.startSchema(e),yn.addEndianness(e,n),yn.addFields(e,r),yn.addCustomMetadata(e,i),yn.addFeatures(e,s),yn.endSchema(e)}};var ae;(function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"})(ae||(ae={}));var y;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth",t[t.DurationSecond=-27]="DurationSecond",t[t.DurationMillisecond=-28]="DurationMillisecond",t[t.DurationMicrosecond=-29]="DurationMicrosecond",t[t.DurationNanosecond=-30]="DurationNanosecond"})(y||(y={}));var wn;(function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"})(wn||(wn={}));const Nx=void 0;function Us(t){if(t===null)return"null";if(t===Nx)return"undefined";switch(typeof t){case"number":return`${t}`;case"bigint":return`${t}`;case"string":return`"${t}"`}return typeof t[Symbol.toPrimitive]=="function"?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof BigInt64Array||t instanceof BigUint64Array?`[${[...t].map(e=>Us(e))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,(e,n)=>typeof n=="bigint"?`${n}`:n)}function ye(t){if(typeof t=="bigint"&&(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER))throw new TypeError(`${t} is not safe to convert to a number.`);return Number(t)}function Zm(t,e){return ye(t/e)+ye(t%e)/ye(e)}const Tx=Symbol.for("isArrowBigNum");function Kt(t,...e){return e.length===0?Object.setPrototypeOf(he(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...e),this.constructor.prototype)}Kt.prototype[Tx]=!0;Kt.prototype.toJSON=function(){return`"${$s(this)}"`};Kt.prototype.valueOf=function(t){return Xm(this,t)};Kt.prototype.toString=function(){return $s(this)};Kt.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return Xm(this);case"string":return $s(this);case"default":return Fx(this)}return $s(this)};function gi(...t){return Kt.apply(this,t)}function vi(...t){return Kt.apply(this,t)}function zs(...t){return Kt.apply(this,t)}Object.setPrototypeOf(gi.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(vi.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(zs.prototype,Object.create(Uint32Array.prototype));Object.assign(gi.prototype,Kt.prototype,{constructor:gi,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(vi.prototype,Kt.prototype,{constructor:vi,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(zs.prototype,Kt.prototype,{constructor:zs,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});const kx=BigInt(4294967296)*BigInt(4294967296),Ox=kx-BigInt(1);function Xm(t,e){const{buffer:n,byteOffset:r,byteLength:i,signed:s}=t,o=new BigUint64Array(n,r,i/8),a=s&&o.at(-1)&BigInt(1)<<BigInt(63);let l=BigInt(0),u=0;if(a){for(const d of o)l|=(d^Ox)*(BigInt(1)<<BigInt(64*u++));l*=BigInt(-1),l-=BigInt(1)}else for(const d of o)l|=d*(BigInt(1)<<BigInt(64*u++));if(typeof e=="number"){const d=BigInt(Math.pow(10,e)),h=l/d,g=l%d;return ye(h)+ye(g)/ye(d)}return ye(l)}function $s(t){if(t.byteLength===8)return`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`;if(!t.signed)return ru(t);let e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);if(new Int16Array([e.at(-1)])[0]>=0)return ru(t);e=e.slice();let r=1;for(let s=0;s<e.length;s++){const o=e[s],a=~o+r;e[s]=a,r&=o===0?1:0}return`-${ru(e)}`}function Fx(t){return t.byteLength===8?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:$s(t)}function ru(t){let e="";const n=new Uint32Array(2);let r=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,e=`${n[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e!=null?e:"0"}class Id{static new(e,n){switch(n){case!0:return new gi(e);case!1:return new vi(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new gi(e)}return e.byteLength===16?new zs(e):new vi(e)}static signed(e){return new gi(e)}static unsigned(e){return new vi(e)}static decimal(e){return new zs(e)}constructor(e,n){return Id.new(e,n)}}var eg,tg,ng,rg,ig,sg,og,ag,lg,ug,cg,dg,fg,hg,pg,yg,mg,gg,vg,wg,_g,Sg;class M{static isNull(e){return(e==null?void 0:e.typeId)===y.Null}static isInt(e){return(e==null?void 0:e.typeId)===y.Int}static isFloat(e){return(e==null?void 0:e.typeId)===y.Float}static isBinary(e){return(e==null?void 0:e.typeId)===y.Binary}static isLargeBinary(e){return(e==null?void 0:e.typeId)===y.LargeBinary}static isUtf8(e){return(e==null?void 0:e.typeId)===y.Utf8}static isLargeUtf8(e){return(e==null?void 0:e.typeId)===y.LargeUtf8}static isBool(e){return(e==null?void 0:e.typeId)===y.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===y.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===y.Date}static isTime(e){return(e==null?void 0:e.typeId)===y.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===y.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===y.Interval}static isDuration(e){return(e==null?void 0:e.typeId)===y.Duration}static isList(e){return(e==null?void 0:e.typeId)===y.List}static isStruct(e){return(e==null?void 0:e.typeId)===y.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===y.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===y.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===y.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===y.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===y.Dictionary}static isDenseUnion(e){return M.isUnion(e)&&e.mode===Je.Dense}static isSparseUnion(e){return M.isUnion(e)&&e.mode===Je.Sparse}constructor(e){this.typeId=e}}eg=Symbol.toStringTag;M[eg]=(t=>(t.children=null,t.ArrayType=Array,t.OffsetArrayType=Int32Array,t[Symbol.toStringTag]="DataType"))(M.prototype);class or extends M{constructor(){super(y.Null)}toString(){return"Null"}}tg=Symbol.toStringTag;or[tg]=(t=>t[Symbol.toStringTag]="Null")(or.prototype);class Rr extends M{constructor(e,n){super(y.Int),this.isSigned=e,this.bitWidth=n}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}ng=Symbol.toStringTag;Rr[ng]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(Rr.prototype);class Vs extends Rr{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(Vs.prototype,"ArrayType",{value:Int32Array});class Na extends M{constructor(e){super(y.Float),this.precision=e}get ArrayType(){switch(this.precision){case Ge.HALF:return Uint16Array;case Ge.SINGLE:return Float32Array;case Ge.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}rg=Symbol.toStringTag;Na[rg]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(Na.prototype);class Ta extends M{constructor(){super(y.Binary)}toString(){return"Binary"}}ig=Symbol.toStringTag;Ta[ig]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(Ta.prototype);class ka extends M{constructor(){super(y.LargeBinary)}toString(){return"LargeBinary"}}sg=Symbol.toStringTag;ka[sg]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeBinary"))(ka.prototype);class Oa extends M{constructor(){super(y.Utf8)}toString(){return"Utf8"}}og=Symbol.toStringTag;Oa[og]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(Oa.prototype);class Fa extends M{constructor(){super(y.LargeUtf8)}toString(){return"LargeUtf8"}}ag=Symbol.toStringTag;Fa[ag]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeUtf8"))(Fa.prototype);class Ra extends M{constructor(){super(y.Bool)}toString(){return"Bool"}}lg=Symbol.toStringTag;Ra[lg]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(Ra.prototype);class Ca extends M{constructor(e,n,r=128){super(y.Decimal),this.scale=e,this.precision=n,this.bitWidth=r}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}ug=Symbol.toStringTag;Ca[ug]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(Ca.prototype);class Aa extends M{constructor(e){super(y.Date),this.unit=e}toString(){return`Date${(this.unit+1)*32}<${Pt[this.unit]}>`}get ArrayType(){return this.unit===Pt.DAY?Int32Array:BigInt64Array}}cg=Symbol.toStringTag;Aa[cg]=(t=>(t.unit=null,t[Symbol.toStringTag]="Date"))(Aa.prototype);class Da extends M{constructor(e,n){super(y.Time),this.unit=e,this.bitWidth=n}toString(){return`Time${this.bitWidth}<${V[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}dg=Symbol.toStringTag;Da[dg]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(Da.prototype);class La extends M{constructor(e,n){super(y.Timestamp),this.unit=e,this.timezone=n}toString(){return`Timestamp<${V[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}fg=Symbol.toStringTag;La[fg]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Timestamp"))(La.prototype);class ja extends M{constructor(e){super(y.Interval),this.unit=e}toString(){return`Interval<${fn[this.unit]}>`}}hg=Symbol.toStringTag;ja[hg]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(ja.prototype);class Ma extends M{constructor(e){super(y.Duration),this.unit=e}toString(){return`Duration<${V[this.unit]}>`}}pg=Symbol.toStringTag;Ma[pg]=(t=>(t.unit=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Duration"))(Ma.prototype);class Ba extends M{constructor(e){super(y.List),this.children=[e]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}yg=Symbol.toStringTag;Ba[yg]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(Ba.prototype);class tt extends M{constructor(e){super(y.Struct),this.children=e}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}mg=Symbol.toStringTag;tt[mg]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(tt.prototype);class Pa extends M{constructor(e,n,r){super(y.Union),this.mode=e,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}gg=Symbol.toStringTag;Pa[gg]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(Pa.prototype);class Ua extends M{constructor(e){super(y.FixedSizeBinary),this.byteWidth=e}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}vg=Symbol.toStringTag;Ua[vg]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(Ua.prototype);class za extends M{constructor(e,n){super(y.FixedSizeList),this.listSize=e,this.children=[n]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}wg=Symbol.toStringTag;za[wg]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(za.prototype);class $a extends M{constructor(e,n=!1){var r,i,s;if(super(y.Map),this.children=[e],this.keysSorted=n,e&&(e.name="entries",!((r=e==null?void 0:e.type)===null||r===void 0)&&r.children)){const o=(i=e==null?void 0:e.type)===null||i===void 0?void 0:i.children[0];o&&(o.name="key");const a=(s=e==null?void 0:e.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}_g=Symbol.toStringTag;$a[_g]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))($a.prototype);const Rx=(t=>()=>++t)(-1);class Ci extends M{constructor(e,n,r,i){super(y.Dictionary),this.indices=n,this.dictionary=e,this.isOrdered=i||!1,this.id=r==null?Rx():ye(r)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Sg=Symbol.toStringTag;Ci[Sg]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(Ci.prototype);function _n(t){const e=t;switch(t.typeId){case y.Decimal:return t.bitWidth/32;case y.Interval:return 1+e.unit;case y.FixedSizeList:return e.listSize;case y.FixedSizeBinary:return e.byteWidth;default:return 1}}class ee{visitMany(e,...n){return e.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,n=!0){return Cx(this,e,n)}getVisitFnByTypeId(e,n=!0){return qr(this,e,n)}visitNull(e,...n){return null}visitBool(e,...n){return null}visitInt(e,...n){return null}visitFloat(e,...n){return null}visitUtf8(e,...n){return null}visitLargeUtf8(e,...n){return null}visitBinary(e,...n){return null}visitLargeBinary(e,...n){return null}visitFixedSizeBinary(e,...n){return null}visitDate(e,...n){return null}visitTimestamp(e,...n){return null}visitTime(e,...n){return null}visitDecimal(e,...n){return null}visitList(e,...n){return null}visitStruct(e,...n){return null}visitUnion(e,...n){return null}visitDictionary(e,...n){return null}visitInterval(e,...n){return null}visitDuration(e,...n){return null}visitFixedSizeList(e,...n){return null}visitMap(e,...n){return null}}function Cx(t,e,n=!0){return typeof e=="number"?qr(t,e,n):typeof e=="string"&&e in y?qr(t,y[e],n):e&&e instanceof M?qr(t,Mh(e),n):e!=null&&e.type&&e.type instanceof M?qr(t,Mh(e.type),n):qr(t,y.NONE,n)}function qr(t,e,n=!0){let r=null;switch(e){case y.Null:r=t.visitNull;break;case y.Bool:r=t.visitBool;break;case y.Int:r=t.visitInt;break;case y.Int8:r=t.visitInt8||t.visitInt;break;case y.Int16:r=t.visitInt16||t.visitInt;break;case y.Int32:r=t.visitInt32||t.visitInt;break;case y.Int64:r=t.visitInt64||t.visitInt;break;case y.Uint8:r=t.visitUint8||t.visitInt;break;case y.Uint16:r=t.visitUint16||t.visitInt;break;case y.Uint32:r=t.visitUint32||t.visitInt;break;case y.Uint64:r=t.visitUint64||t.visitInt;break;case y.Float:r=t.visitFloat;break;case y.Float16:r=t.visitFloat16||t.visitFloat;break;case y.Float32:r=t.visitFloat32||t.visitFloat;break;case y.Float64:r=t.visitFloat64||t.visitFloat;break;case y.Utf8:r=t.visitUtf8;break;case y.LargeUtf8:r=t.visitLargeUtf8;break;case y.Binary:r=t.visitBinary;break;case y.LargeBinary:r=t.visitLargeBinary;break;case y.FixedSizeBinary:r=t.visitFixedSizeBinary;break;case y.Date:r=t.visitDate;break;case y.DateDay:r=t.visitDateDay||t.visitDate;break;case y.DateMillisecond:r=t.visitDateMillisecond||t.visitDate;break;case y.Timestamp:r=t.visitTimestamp;break;case y.TimestampSecond:r=t.visitTimestampSecond||t.visitTimestamp;break;case y.TimestampMillisecond:r=t.visitTimestampMillisecond||t.visitTimestamp;break;case y.TimestampMicrosecond:r=t.visitTimestampMicrosecond||t.visitTimestamp;break;case y.TimestampNanosecond:r=t.visitTimestampNanosecond||t.visitTimestamp;break;case y.Time:r=t.visitTime;break;case y.TimeSecond:r=t.visitTimeSecond||t.visitTime;break;case y.TimeMillisecond:r=t.visitTimeMillisecond||t.visitTime;break;case y.TimeMicrosecond:r=t.visitTimeMicrosecond||t.visitTime;break;case y.TimeNanosecond:r=t.visitTimeNanosecond||t.visitTime;break;case y.Decimal:r=t.visitDecimal;break;case y.List:r=t.visitList;break;case y.Struct:r=t.visitStruct;break;case y.Union:r=t.visitUnion;break;case y.DenseUnion:r=t.visitDenseUnion||t.visitUnion;break;case y.SparseUnion:r=t.visitSparseUnion||t.visitUnion;break;case y.Dictionary:r=t.visitDictionary;break;case y.Interval:r=t.visitInterval;break;case y.IntervalDayTime:r=t.visitIntervalDayTime||t.visitInterval;break;case y.IntervalYearMonth:r=t.visitIntervalYearMonth||t.visitInterval;break;case y.Duration:r=t.visitDuration;break;case y.DurationSecond:r=t.visitDurationSecond||t.visitDuration;break;case y.DurationMillisecond:r=t.visitDurationMillisecond||t.visitDuration;break;case y.DurationMicrosecond:r=t.visitDurationMicrosecond||t.visitDuration;break;case y.DurationNanosecond:r=t.visitDurationNanosecond||t.visitDuration;break;case y.FixedSizeList:r=t.visitFixedSizeList;break;case y.Map:r=t.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${y[e]}'`)}function Mh(t){switch(t.typeId){case y.Null:return y.Null;case y.Int:{const{bitWidth:e,isSigned:n}=t;switch(e){case 8:return n?y.Int8:y.Uint8;case 16:return n?y.Int16:y.Uint16;case 32:return n?y.Int32:y.Uint32;case 64:return n?y.Int64:y.Uint64}return y.Int}case y.Float:switch(t.precision){case Ge.HALF:return y.Float16;case Ge.SINGLE:return y.Float32;case Ge.DOUBLE:return y.Float64}return y.Float;case y.Binary:return y.Binary;case y.LargeBinary:return y.LargeBinary;case y.Utf8:return y.Utf8;case y.LargeUtf8:return y.LargeUtf8;case y.Bool:return y.Bool;case y.Decimal:return y.Decimal;case y.Time:switch(t.unit){case V.SECOND:return y.TimeSecond;case V.MILLISECOND:return y.TimeMillisecond;case V.MICROSECOND:return y.TimeMicrosecond;case V.NANOSECOND:return y.TimeNanosecond}return y.Time;case y.Timestamp:switch(t.unit){case V.SECOND:return y.TimestampSecond;case V.MILLISECOND:return y.TimestampMillisecond;case V.MICROSECOND:return y.TimestampMicrosecond;case V.NANOSECOND:return y.TimestampNanosecond}return y.Timestamp;case y.Date:switch(t.unit){case Pt.DAY:return y.DateDay;case Pt.MILLISECOND:return y.DateMillisecond}return y.Date;case y.Interval:switch(t.unit){case fn.DAY_TIME:return y.IntervalDayTime;case fn.YEAR_MONTH:return y.IntervalYearMonth}return y.Interval;case y.Duration:switch(t.unit){case V.SECOND:return y.DurationSecond;case V.MILLISECOND:return y.DurationMillisecond;case V.MICROSECOND:return y.DurationMicrosecond;case V.NANOSECOND:return y.DurationNanosecond}return y.Duration;case y.Map:return y.Map;case y.List:return y.List;case y.Struct:return y.Struct;case y.Union:switch(t.mode){case Je.Dense:return y.DenseUnion;case Je.Sparse:return y.SparseUnion}return y.Union;case y.FixedSizeBinary:return y.FixedSizeBinary;case y.FixedSizeList:return y.FixedSizeList;case y.Dictionary:return y.Dictionary}throw new Error(`Unrecognized type '${y[t.typeId]}'`)}ee.prototype.visitInt8=null;ee.prototype.visitInt16=null;ee.prototype.visitInt32=null;ee.prototype.visitInt64=null;ee.prototype.visitUint8=null;ee.prototype.visitUint16=null;ee.prototype.visitUint32=null;ee.prototype.visitUint64=null;ee.prototype.visitFloat16=null;ee.prototype.visitFloat32=null;ee.prototype.visitFloat64=null;ee.prototype.visitDateDay=null;ee.prototype.visitDateMillisecond=null;ee.prototype.visitTimestampSecond=null;ee.prototype.visitTimestampMillisecond=null;ee.prototype.visitTimestampMicrosecond=null;ee.prototype.visitTimestampNanosecond=null;ee.prototype.visitTimeSecond=null;ee.prototype.visitTimeMillisecond=null;ee.prototype.visitTimeMicrosecond=null;ee.prototype.visitTimeNanosecond=null;ee.prototype.visitDenseUnion=null;ee.prototype.visitSparseUnion=null;ee.prototype.visitIntervalDayTime=null;ee.prototype.visitIntervalYearMonth=null;ee.prototype.visitDuration=null;ee.prototype.visitDurationSecond=null;ee.prototype.visitDurationMillisecond=null;ee.prototype.visitDurationMicrosecond=null;ee.prototype.visitDurationNanosecond=null;const xg=new Float64Array(1),Br=new Uint32Array(xg.buffer);function bg(t){const e=(t&31744)>>10,n=(t&1023)/1024,r=Math.pow(-1,(t&32768)>>15);switch(e){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,e-15)*(1+n)}function Ax(t){if(t!==t)return 32256;xg[0]=t;const e=(Br[1]&2147483648)>>16&65535;let n=Br[1]&2146435072,r=0;return n>=1089470464?Br[0]>0?n=31744:(n=(n&2080374784)>>16,r=(Br[1]&1048575)>>10):n<=1056964608?(r=1048576+(Br[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(Br[1]&1048575)+512>>10),e|n|r&65535}class W extends ee{}function Y(t){return(e,n,r)=>{if(e.setValid(n,r!=null))return t(e,n,r)}}const Dx=(t,e,n)=>{t[e]=Math.floor(n/864e5)},Ig=(t,e,n,r)=>{if(n+1<e.length){const i=ye(e[n]),s=ye(e[n+1]);t.set(r.subarray(0,s-i),i)}},Lx=({offset:t,values:e},n,r)=>{const i=t+n;r?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},Dn=({values:t},e,n)=>{t[e]=n},Ed=({values:t},e,n)=>{t[e]=n},Eg=({values:t},e,n)=>{t[e]=Ax(n)},jx=(t,e,n)=>{switch(t.type.precision){case Ge.HALF:return Eg(t,e,n);case Ge.SINGLE:case Ge.DOUBLE:return Ed(t,e,n)}},Ng=({values:t},e,n)=>{Dx(t,e,n.valueOf())},Tg=({values:t},e,n)=>{t[e]=BigInt(n)},Mx=({stride:t,values:e},n,r)=>{e.set(r.subarray(0,t),t*n)},kg=({values:t,valueOffsets:e},n,r)=>Ig(t,e,n,r),Og=({values:t,valueOffsets:e},n,r)=>Ig(t,e,n,Sd(r)),Bx=(t,e,n)=>{t.type.unit===Pt.DAY?Ng(t,e,n):Tg(t,e,n)},Fg=({values:t},e,n)=>{t[e]=BigInt(n/1e3)},Rg=({values:t},e,n)=>{t[e]=BigInt(n)},Cg=({values:t},e,n)=>{t[e]=BigInt(n*1e3)},Ag=({values:t},e,n)=>{t[e]=BigInt(n*1e6)},Px=(t,e,n)=>{switch(t.type.unit){case V.SECOND:return Fg(t,e,n);case V.MILLISECOND:return Rg(t,e,n);case V.MICROSECOND:return Cg(t,e,n);case V.NANOSECOND:return Ag(t,e,n)}},Dg=({values:t},e,n)=>{t[e]=n},Lg=({values:t},e,n)=>{t[e]=n},jg=({values:t},e,n)=>{t[e]=n},Mg=({values:t},e,n)=>{t[e]=n},Ux=(t,e,n)=>{switch(t.type.unit){case V.SECOND:return Dg(t,e,n);case V.MILLISECOND:return Lg(t,e,n);case V.MICROSECOND:return jg(t,e,n);case V.NANOSECOND:return Mg(t,e,n)}},zx=({values:t,stride:e},n,r)=>{t.set(r.subarray(0,e),e*n)},$x=(t,e,n)=>{const r=t.children[0],i=t.valueOffsets,s=Ut.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,n[++o]);else for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,n.get(++o))},Vx=(t,e,n)=>{const r=t.children[0],{valueOffsets:i}=t,s=Ut.getVisitFn(r);let{[e]:o,[e+1]:a}=i;const l=n instanceof Map?n.entries():Object.entries(n);for(const u of l)if(s(r,o,u),++o>=a)break},Wx=(t,e)=>(n,r,i,s)=>r&&n(r,t,e[s]),Hx=(t,e)=>(n,r,i,s)=>r&&n(r,t,e.get(s)),Qx=(t,e)=>(n,r,i,s)=>r&&n(r,t,e.get(i.name)),Yx=(t,e)=>(n,r,i,s)=>r&&n(r,t,e[i.name]),qx=(t,e,n)=>{const r=t.type.children.map(s=>Ut.getVisitFn(s.type)),i=n instanceof Map?Qx(e,n):n instanceof le?Hx(e,n):Array.isArray(n)?Wx(e,n):Yx(e,n);t.type.children.forEach((s,o)=>i(r[o],t.children[o],s,o))},Gx=(t,e,n)=>{t.type.mode===Je.Dense?Bg(t,e,n):Pg(t,e,n)},Bg=(t,e,n)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[r];Ut.visit(i,t.valueOffsets[e],n)},Pg=(t,e,n)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[r];Ut.visit(i,e,n)},Kx=(t,e,n)=>{var r;(r=t.dictionary)===null||r===void 0||r.set(t.values[e],n)},Jx=(t,e,n)=>{t.type.unit===fn.DAY_TIME?Ug(t,e,n):zg(t,e,n)},Ug=({values:t},e,n)=>{t.set(n.subarray(0,2),2*e)},zg=({values:t},e,n)=>{t[e]=n[0]*12+n[1]%12},$g=({values:t},e,n)=>{t[e]=n},Vg=({values:t},e,n)=>{t[e]=n},Wg=({values:t},e,n)=>{t[e]=n},Hg=({values:t},e,n)=>{t[e]=n},Zx=(t,e,n)=>{switch(t.type.unit){case V.SECOND:return $g(t,e,n);case V.MILLISECOND:return Vg(t,e,n);case V.MICROSECOND:return Wg(t,e,n);case V.NANOSECOND:return Hg(t,e,n)}},Xx=(t,e,n)=>{const{stride:r}=t,i=t.children[0],s=Ut.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=e*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=e*r;++o<r;)s(i,a+o,n.get(o))};W.prototype.visitBool=Y(Lx);W.prototype.visitInt=Y(Dn);W.prototype.visitInt8=Y(Dn);W.prototype.visitInt16=Y(Dn);W.prototype.visitInt32=Y(Dn);W.prototype.visitInt64=Y(Dn);W.prototype.visitUint8=Y(Dn);W.prototype.visitUint16=Y(Dn);W.prototype.visitUint32=Y(Dn);W.prototype.visitUint64=Y(Dn);W.prototype.visitFloat=Y(jx);W.prototype.visitFloat16=Y(Eg);W.prototype.visitFloat32=Y(Ed);W.prototype.visitFloat64=Y(Ed);W.prototype.visitUtf8=Y(Og);W.prototype.visitLargeUtf8=Y(Og);W.prototype.visitBinary=Y(kg);W.prototype.visitLargeBinary=Y(kg);W.prototype.visitFixedSizeBinary=Y(Mx);W.prototype.visitDate=Y(Bx);W.prototype.visitDateDay=Y(Ng);W.prototype.visitDateMillisecond=Y(Tg);W.prototype.visitTimestamp=Y(Px);W.prototype.visitTimestampSecond=Y(Fg);W.prototype.visitTimestampMillisecond=Y(Rg);W.prototype.visitTimestampMicrosecond=Y(Cg);W.prototype.visitTimestampNanosecond=Y(Ag);W.prototype.visitTime=Y(Ux);W.prototype.visitTimeSecond=Y(Dg);W.prototype.visitTimeMillisecond=Y(Lg);W.prototype.visitTimeMicrosecond=Y(jg);W.prototype.visitTimeNanosecond=Y(Mg);W.prototype.visitDecimal=Y(zx);W.prototype.visitList=Y($x);W.prototype.visitStruct=Y(qx);W.prototype.visitUnion=Y(Gx);W.prototype.visitDenseUnion=Y(Bg);W.prototype.visitSparseUnion=Y(Pg);W.prototype.visitDictionary=Y(Kx);W.prototype.visitInterval=Y(Jx);W.prototype.visitIntervalDayTime=Y(Ug);W.prototype.visitIntervalYearMonth=Y(zg);W.prototype.visitDuration=Y(Zx);W.prototype.visitDurationSecond=Y($g);W.prototype.visitDurationMillisecond=Y(Vg);W.prototype.visitDurationMicrosecond=Y(Wg);W.prototype.visitDurationNanosecond=Y(Hg);W.prototype.visitFixedSizeList=Y(Xx);W.prototype.visitMap=Y(Vx);const Ut=new W,Wt=Symbol.for("parent"),wi=Symbol.for("rowIndex");class Nd{constructor(e,n){return this[Wt]=e,this[wi]=n,new Proxy(this,new tb)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[wi],n=this[Wt],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=mt.visit(n.children[s],e);return i}toString(){return`{${[...this].map(([e,n])=>`${Us(e)}: ${Us(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new eb(this[Wt],this[wi])}}class eb{constructor(e,n){this.childIndex=0,this.children=e.children,this.rowIndex=n,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,mt.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(Nd.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Wt]:{writable:!0,enumerable:!1,configurable:!1,value:null},[wi]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class tb{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[Wt].type.children.map(n=>n.name)}has(e,n){return e[Wt].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(e,n){if(e[Wt].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const r=e[Wt].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=mt.visit(e[Wt].children[r],e[wi]);return Reflect.set(e,n,i),i}}set(e,n,r){const i=e[Wt].type.children.findIndex(s=>s.name===n);return i!==-1?(Ut.visit(e[Wt].children[i],e[wi],r),Reflect.set(e,n,r)):Reflect.has(e,n)||typeof n=="symbol"?Reflect.set(e,n,r):!1}}class P extends ee{}function H(t){return(e,n)=>e.getValid(n)?t(e,n):null}const nb=(t,e)=>864e5*t[e],rb=(t,e)=>null,Qg=(t,e,n)=>{if(n+1>=e.length)return null;const r=ye(e[n]),i=ye(e[n+1]);return t.subarray(r,i)},ib=({offset:t,values:e},n)=>{const r=t+n;return(e[r>>3]&1<<r%8)!==0},Yg=({values:t},e)=>nb(t,e),qg=({values:t},e)=>ye(t[e]),hr=({stride:t,values:e},n)=>e[t*n],sb=({stride:t,values:e},n)=>bg(e[t*n]),Gg=({values:t},e)=>t[e],ob=({stride:t,values:e},n)=>e.subarray(t*n,t*(n+1)),Kg=({values:t,valueOffsets:e},n)=>Qg(t,e,n),Jg=({values:t,valueOffsets:e},n)=>{const r=Qg(t,e,n);return r!==null?uc(r):null},ab=({values:t},e)=>t[e],lb=({type:t,values:e},n)=>t.precision!==Ge.HALF?e[n]:bg(e[n]),ub=(t,e)=>t.type.unit===Pt.DAY?Yg(t,e):qg(t,e),Zg=({values:t},e)=>1e3*ye(t[e]),Xg=({values:t},e)=>ye(t[e]),ev=({values:t},e)=>Zm(t[e],BigInt(1e3)),tv=({values:t},e)=>Zm(t[e],BigInt(1e6)),cb=(t,e)=>{switch(t.type.unit){case V.SECOND:return Zg(t,e);case V.MILLISECOND:return Xg(t,e);case V.MICROSECOND:return ev(t,e);case V.NANOSECOND:return tv(t,e)}},nv=({values:t},e)=>t[e],rv=({values:t},e)=>t[e],iv=({values:t},e)=>t[e],sv=({values:t},e)=>t[e],db=(t,e)=>{switch(t.type.unit){case V.SECOND:return nv(t,e);case V.MILLISECOND:return rv(t,e);case V.MICROSECOND:return iv(t,e);case V.NANOSECOND:return sv(t,e)}},fb=({values:t,stride:e},n)=>Id.decimal(t.subarray(e*n,e*(n+1))),hb=(t,e)=>{const{valueOffsets:n,stride:r,children:i}=t,{[e*r]:s,[e*r+1]:o}=n,l=i[0].slice(s,o-s);return new le([l])},pb=(t,e)=>{const{valueOffsets:n,children:r}=t,{[e]:i,[e+1]:s}=n,o=r[0];return new Td(o.slice(i,s-i))},yb=(t,e)=>new Nd(t,e),mb=(t,e)=>t.type.mode===Je.Dense?ov(t,e):av(t,e),ov=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];return mt.visit(r,t.valueOffsets[e])},av=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];return mt.visit(r,e)},gb=(t,e)=>{var n;return(n=t.dictionary)===null||n===void 0?void 0:n.get(t.values[e])},vb=(t,e)=>t.type.unit===fn.DAY_TIME?lv(t,e):uv(t,e),lv=({values:t},e)=>t.subarray(2*e,2*(e+1)),uv=({values:t},e)=>{const n=t[e],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},cv=({values:t},e)=>t[e],dv=({values:t},e)=>t[e],fv=({values:t},e)=>t[e],hv=({values:t},e)=>t[e],wb=(t,e)=>{switch(t.type.unit){case V.SECOND:return cv(t,e);case V.MILLISECOND:return dv(t,e);case V.MICROSECOND:return fv(t,e);case V.NANOSECOND:return hv(t,e)}},_b=(t,e)=>{const{stride:n,children:r}=t,s=r[0].slice(e*n,n);return new le([s])};P.prototype.visitNull=H(rb);P.prototype.visitBool=H(ib);P.prototype.visitInt=H(ab);P.prototype.visitInt8=H(hr);P.prototype.visitInt16=H(hr);P.prototype.visitInt32=H(hr);P.prototype.visitInt64=H(Gg);P.prototype.visitUint8=H(hr);P.prototype.visitUint16=H(hr);P.prototype.visitUint32=H(hr);P.prototype.visitUint64=H(Gg);P.prototype.visitFloat=H(lb);P.prototype.visitFloat16=H(sb);P.prototype.visitFloat32=H(hr);P.prototype.visitFloat64=H(hr);P.prototype.visitUtf8=H(Jg);P.prototype.visitLargeUtf8=H(Jg);P.prototype.visitBinary=H(Kg);P.prototype.visitLargeBinary=H(Kg);P.prototype.visitFixedSizeBinary=H(ob);P.prototype.visitDate=H(ub);P.prototype.visitDateDay=H(Yg);P.prototype.visitDateMillisecond=H(qg);P.prototype.visitTimestamp=H(cb);P.prototype.visitTimestampSecond=H(Zg);P.prototype.visitTimestampMillisecond=H(Xg);P.prototype.visitTimestampMicrosecond=H(ev);P.prototype.visitTimestampNanosecond=H(tv);P.prototype.visitTime=H(db);P.prototype.visitTimeSecond=H(nv);P.prototype.visitTimeMillisecond=H(rv);P.prototype.visitTimeMicrosecond=H(iv);P.prototype.visitTimeNanosecond=H(sv);P.prototype.visitDecimal=H(fb);P.prototype.visitList=H(hb);P.prototype.visitStruct=H(yb);P.prototype.visitUnion=H(mb);P.prototype.visitDenseUnion=H(ov);P.prototype.visitSparseUnion=H(av);P.prototype.visitDictionary=H(gb);P.prototype.visitInterval=H(vb);P.prototype.visitIntervalDayTime=H(lv);P.prototype.visitIntervalYearMonth=H(uv);P.prototype.visitDuration=H(wb);P.prototype.visitDurationSecond=H(cv);P.prototype.visitDurationMillisecond=H(dv);P.prototype.visitDurationMicrosecond=H(fv);P.prototype.visitDurationNanosecond=H(hv);P.prototype.visitFixedSizeList=H(_b);P.prototype.visitMap=H(pb);const mt=new P,Gr=Symbol.for("keys"),_i=Symbol.for("vals"),Kr=Symbol.for("kKeysAsStrings"),yc=Symbol.for("_kKeysAsStrings");class Td{constructor(e){return this[Gr]=new le([e.children[0]]).memoize(),this[_i]=e.children[1],new Proxy(this,new xb)}get[Kr](){return this[yc]||(this[yc]=Array.from(this[Gr].toArray(),String))}[Symbol.iterator](){return new Sb(this[Gr],this[_i])}get size(){return this[Gr].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[Gr],n=this[_i],r={};for(let i=-1,s=e.length;++i<s;)r[e.get(i)]=mt.visit(n,i);return r}toString(){return`{${[...this].map(([e,n])=>`${Us(e)}: ${Us(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class Sb{constructor(e,n){this.keys=e,this.vals=n,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),mt.visit(this.vals,e)]})}}class xb{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[Kr]}has(e,n){return e[Kr].includes(n)}getOwnPropertyDescriptor(e,n){if(e[Kr].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const r=e[Kr].indexOf(n);if(r!==-1){const i=mt.visit(Reflect.get(e,_i),r);return Reflect.set(e,n,i),i}}set(e,n,r){const i=e[Kr].indexOf(n);return i!==-1?(Ut.visit(Reflect.get(e,_i),i,r),Reflect.set(e,n,r)):Reflect.has(e,n)?Reflect.set(e,n,r):!1}}Object.defineProperties(Td.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Gr]:{writable:!0,enumerable:!1,configurable:!1,value:null},[_i]:{writable:!0,enumerable:!1,configurable:!1,value:null},[yc]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let Bh;function pv(t,e,n,r){const{length:i=0}=t;let s=typeof e!="number"?0:e,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(Bh=s,s=o,o=Bh),o>i&&(o=i),r?r(t,s,o):[s,o]}const kd=(t,e)=>t<0?e+t:t,Ph=t=>t!==t;function Pi(t){if(typeof t!=="object"||t===null)return Ph(t)?Ph:n=>n===t;if(t instanceof Date){const n=t.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(t)?n=>n?_x(t,n):!1:t instanceof Map?Ib(t):Array.isArray(t)?bb(t):t instanceof le?Eb(t):Nb(t,!0)}function bb(t){const e=[];for(let n=-1,r=t.length;++n<r;)e[n]=Pi(t[n]);return Sl(e)}function Ib(t){let e=-1;const n=[];for(const r of t.values())n[++e]=Pi(r);return Sl(n)}function Eb(t){const e=[];for(let n=-1,r=t.length;++n<r;)e[n]=Pi(t.get(n));return Sl(e)}function Nb(t,e=!1){const n=Object.keys(t);if(!e&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=Pi(t[n[i]]);return Sl(r,n)}function Sl(t,e){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return Tb(t,n);case Map:return Uh(t,n,n.keys());case Td:case Nd:case Object:case void 0:return Uh(t,n,e||Object.keys(n))}return n instanceof le?kb(t,n):!1}}function Tb(t,e){const n=t.length;if(e.length!==n)return!1;for(let r=-1;++r<n;)if(!t[r](e[r]))return!1;return!0}function kb(t,e){const n=t.length;if(e.length!==n)return!1;for(let r=-1;++r<n;)if(!t[r](e.get(r)))return!1;return!0}function Uh(t,e,n){const r=n[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let o=0;const a=t.length;let l=s.next(),u=r.next(),d=i.next();for(;o<a&&!u.done&&!d.done&&!l.done&&!(u.value!==d.value||!t[o](l.value));++o,u=r.next(),d=i.next(),l=s.next());return o===a&&u.done&&d.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function yv(t,e,n,r){return(n&1<<r)!==0}function Ob(t,e,n,r){return(n&1<<r)>>r}function Va(t,e,n){const r=n.byteLength+7&-8;if(t>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(t%8===0?n.subarray(t>>3):Wa(new Od(n,t,e,null,yv)).subarray(0,r)),i}return n}function Wa(t){const e=[];let n=0,r=0,i=0;for(const o of t)o&&(i|=1<<r),++r===8&&(e[n++]=i,i=r=0);(n===0||r>0)&&(e[n++]=i);const s=new Uint8Array(e.length+7&-8);return s.set(e),s}class Od{constructor(e,n,r,i,s){this.bytes=e,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function mc(t,e,n){if(n-e<=0)return 0;if(n-e<8){let s=0;for(const o of new Od(t,e,n-e,t,Ob))s+=o;return s}const r=n>>3<<3,i=e+(e%8===0?0:8-e%8);return mc(t,e,i)+mc(t,r,n)+Fb(t,i>>3,r-i>>3)}function Fb(t,e,n){let r=0,i=Math.trunc(e);const s=new DataView(t.buffer,t.byteOffset,t.byteLength),o=n===void 0?t.byteLength:i+n;for(;o-i>=4;)r+=iu(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=iu(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=iu(s.getUint8(i)),i+=1;return r}function iu(t){let e=Math.trunc(t);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}const Rb=-1;class de{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:e}=this;return M.isSparseUnion(e)?this.children.some(n=>n.nullable):M.isDenseUnion(e)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let e=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(e+=n.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,e)}get nullCount(){if(M.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let e=this._nullCount,n;return e<=Rb&&(n=this.nullBitmap)&&(this._nullCount=e=n.length===0?0:this.length-mc(n,this.offset,this.offset+this.length)),e}constructor(e,n,r,i,s,o=[],a){this.type=e,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;s instanceof de?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=_n(e),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l)))}getValid(e){const{type:n}=this;if(M.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[e]]],s=r.mode===Je.Dense?this.valueOffsets[e]:e;return i.getValid(s)}if(this.nullable&&this.nullCount>0){const r=this.offset+e;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(e,n){let r;const{type:i}=this;if(M.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[e]]],a=s.mode===Je.Dense?this.valueOffsets[e]:e;r=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,l=o+e,u=1<<l%8,d=l>>3;(!s||s.byteLength<=d)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0?(s.set(Va(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s})):Object.assign(this,{nullBitmap:s,_nullCount:0}));const h=s[d];r=(h&u)!==0,s[d]=n?h|u:h&~u}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(e=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new de(e,n,r,i,s,o,this.dictionary)}slice(e,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(e,n,r,i);return this.clone(this.type,this.offset+e,n,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*e,a*n))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===y.Null)return this.clone(this.type,0,e,0);const{length:n,nullCount:r}=this,i=new Uint8Array((e+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(Va(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[wn.VALIDITY]=i,this.clone(this.type,0,e,r+(e-n),s)}_sliceBuffers(e,n,r,i){let s;const{buffers:o}=this;return(s=o[wn.TYPE])&&(o[wn.TYPE]=s.subarray(e,e+n)),(s=o[wn.OFFSET])&&(o[wn.OFFSET]=s.subarray(e,e+n+1))||(s=o[wn.DATA])&&(o[wn.DATA]=i===6?s:s.subarray(r*e,r*(e+n))),o}_sliceChildren(e,n,r){return e.map(i=>i.slice(n,r))}}de.prototype.children=Object.freeze([]);class ws extends ee{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=e;return new de(n,r,i,i)}visitBool(e){const{["type"]:n,["offset"]:r=0}=e,i=re(e.nullBitmap),s=he(n.ArrayType,e.data),{["length"]:o=s.length>>3,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitInt(e){const{["type"]:n,["offset"]:r=0}=e,i=re(e.nullBitmap),s=he(n.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitFloat(e){const{["type"]:n,["offset"]:r=0}=e,i=re(e.nullBitmap),s=he(n.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitUtf8(e){const{["type"]:n,["offset"]:r=0}=e,i=re(e.data),s=re(e.nullBitmap),o=qi(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new de(n,r,a,l,[o,i,s])}visitLargeUtf8(e){const{["type"]:n,["offset"]:r=0}=e,i=re(e.data),s=re(e.nullBitmap),o=Th(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new de(n,r,a,l,[o,i,s])}visitBinary(e){const{["type"]:n,["offset"]:r=0}=e,i=re(e.data),s=re(e.nullBitmap),o=qi(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new de(n,r,a,l,[o,i,s])}visitLargeBinary(e){const{["type"]:n,["offset"]:r=0}=e,i=re(e.data),s=re(e.nullBitmap),o=Th(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new de(n,r,a,l,[o,i,s])}visitFixedSizeBinary(e){const{["type"]:n,["offset"]:r=0}=e,i=re(e.nullBitmap),s=he(n.ArrayType,e.data),{["length"]:o=s.length/_n(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitDate(e){const{["type"]:n,["offset"]:r=0}=e,i=re(e.nullBitmap),s=he(n.ArrayType,e.data),{["length"]:o=s.length/_n(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitTimestamp(e){const{["type"]:n,["offset"]:r=0}=e,i=re(e.nullBitmap),s=he(n.ArrayType,e.data),{["length"]:o=s.length/_n(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitTime(e){const{["type"]:n,["offset"]:r=0}=e,i=re(e.nullBitmap),s=he(n.ArrayType,e.data),{["length"]:o=s.length/_n(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitDecimal(e){const{["type"]:n,["offset"]:r=0}=e,i=re(e.nullBitmap),s=he(n.ArrayType,e.data),{["length"]:o=s.length/_n(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitList(e){const{["type"]:n,["offset"]:r=0,["child"]:i}=e,s=re(e.nullBitmap),o=qi(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new de(n,r,a,l,[o,void 0,s],[i])}visitStruct(e){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=e,s=re(e.nullBitmap),{length:o=i.reduce((l,{length:u})=>Math.max(l,u),0),nullCount:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,void 0,s],i)}visitUnion(e){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=e,s=he(n.ArrayType,e.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=e;if(M.isSparseUnion(n))return new de(n,r,o,a,[void 0,void 0,void 0,s],i);const l=qi(e.valueOffsets);return new de(n,r,o,a,[l,void 0,void 0,s],i)}visitDictionary(e){const{["type"]:n,["offset"]:r=0}=e,i=re(e.nullBitmap),s=he(n.indices.ArrayType,e.data),{["dictionary"]:o=new le([new ws().visit({type:n.dictionary})])}=e,{["length"]:a=s.length,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new de(n,r,a,l,[void 0,s,i],[],o)}visitInterval(e){const{["type"]:n,["offset"]:r=0}=e,i=re(e.nullBitmap),s=he(n.ArrayType,e.data),{["length"]:o=s.length/_n(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitDuration(e){const{["type"]:n,["offset"]:r=0}=e,i=re(e.nullBitmap),s=he(n.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,s,i])}visitFixedSizeList(e){const{["type"]:n,["offset"]:r=0,["child"]:i=new ws().visit({type:n.valueType})}=e,s=re(e.nullBitmap),{["length"]:o=i.length/_n(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new de(n,r,o,a,[void 0,void 0,s],[i])}visitMap(e){const{["type"]:n,["offset"]:r=0,["child"]:i=new ws().visit({type:n.childType})}=e,s=re(e.nullBitmap),o=qi(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new de(n,r,a,l,[o,void 0,s],[i])}}const Cb=new ws;function te(t){return Cb.visit(t)}class zh{constructor(e=0,n){this.numChunks=e,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function Ab(t){return t.some(e=>e.nullable)}function mv(t){return t.reduce((e,n)=>e+n.nullCount,0)}function gv(t){return t.reduce((e,n,r)=>(e[r+1]=e[r]+n.length,e),new Uint32Array(t.length+1))}function vv(t,e,n,r){const i=[];for(let s=-1,o=t.length;++s<o;){const a=t[s],l=e[s],{length:u}=a;if(l>=r)break;if(n>=l+u)continue;if(l>=n&&l+u<=r){i.push(a);continue}const d=Math.max(0,n-l),h=Math.min(r-l,u);i.push(a.slice(d,h-d))}return i.length===0&&i.push(t[0].slice(0,0)),i}function Fd(t,e,n,r){let i=0,s=0,o=e.length-1;do{if(i>=o-1)return n<e[o]?r(t,i,n-e[i]):null;s=i+Math.trunc((o-i)*.5),n<e[s]?o=s:i=s}while(i<o)}function Rd(t,e){return t.getValid(e)}function Ha(t){function e(n,r,i){return t(n[r],i)}return function(n){const r=this.data;return Fd(r,this._offsets,n,e)}}function wv(t){let e;function n(r,i,s){return t(r[i],s,e)}return function(r,i){const s=this.data;e=i;const o=Fd(s,this._offsets,r,n);return e=void 0,o}}function _v(t){let e;function n(r,i,s){let o=s,a=0,l=0;for(let u=i-1,d=r.length;++u<d;){const h=r[u];if(~(a=t(h,e,o)))return l+a;o=0,l+=h.length}return-1}return function(r,i){e=r;const s=this.data,o=typeof i!="number"?n(s,0,0):Fd(s,this._offsets,i,n);return e=void 0,o}}class U extends ee{}function Db(t,e){return e===null&&t.length>0?0:-1}function Lb(t,e){const{nullBitmap:n}=t;if(!n||t.nullCount<=0)return-1;let r=0;for(const i of new Od(n,t.offset+(e||0),t.length,n,yv)){if(!i)return r;++r}return-1}function K(t,e,n){if(e===void 0)return-1;if(e===null)switch(t.typeId){case y.Union:break;case y.Dictionary:break;default:return Lb(t,n)}const r=mt.getVisitFn(t),i=Pi(e);for(let s=(n||0)-1,o=t.length;++s<o;)if(i(r(t,s)))return s;return-1}function Sv(t,e,n){const r=mt.getVisitFn(t),i=Pi(e);for(let s=(n||0)-1,o=t.length;++s<o;)if(i(r(t,s)))return s;return-1}U.prototype.visitNull=Db;U.prototype.visitBool=K;U.prototype.visitInt=K;U.prototype.visitInt8=K;U.prototype.visitInt16=K;U.prototype.visitInt32=K;U.prototype.visitInt64=K;U.prototype.visitUint8=K;U.prototype.visitUint16=K;U.prototype.visitUint32=K;U.prototype.visitUint64=K;U.prototype.visitFloat=K;U.prototype.visitFloat16=K;U.prototype.visitFloat32=K;U.prototype.visitFloat64=K;U.prototype.visitUtf8=K;U.prototype.visitLargeUtf8=K;U.prototype.visitBinary=K;U.prototype.visitLargeBinary=K;U.prototype.visitFixedSizeBinary=K;U.prototype.visitDate=K;U.prototype.visitDateDay=K;U.prototype.visitDateMillisecond=K;U.prototype.visitTimestamp=K;U.prototype.visitTimestampSecond=K;U.prototype.visitTimestampMillisecond=K;U.prototype.visitTimestampMicrosecond=K;U.prototype.visitTimestampNanosecond=K;U.prototype.visitTime=K;U.prototype.visitTimeSecond=K;U.prototype.visitTimeMillisecond=K;U.prototype.visitTimeMicrosecond=K;U.prototype.visitTimeNanosecond=K;U.prototype.visitDecimal=K;U.prototype.visitList=K;U.prototype.visitStruct=K;U.prototype.visitUnion=K;U.prototype.visitDenseUnion=Sv;U.prototype.visitSparseUnion=Sv;U.prototype.visitDictionary=K;U.prototype.visitInterval=K;U.prototype.visitIntervalDayTime=K;U.prototype.visitIntervalYearMonth=K;U.prototype.visitDuration=K;U.prototype.visitDurationSecond=K;U.prototype.visitDurationMillisecond=K;U.prototype.visitDurationMicrosecond=K;U.prototype.visitDurationNanosecond=K;U.prototype.visitFixedSizeList=K;U.prototype.visitMap=K;const Qa=new U;class z extends ee{}function Q(t){const{type:e}=t;if(t.nullCount===0&&t.stride===1&&(M.isInt(e)&&e.bitWidth!==64||M.isTime(e)&&e.bitWidth!==64||M.isFloat(e)&&e.precision!==Ge.HALF))return new zh(t.data.length,r=>{const i=t.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new zh(t.data.length,r=>{const s=t.data[r].length,o=t.slice(n,n+s);return n+=s,new jb(o)})}class jb{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}z.prototype.visitNull=Q;z.prototype.visitBool=Q;z.prototype.visitInt=Q;z.prototype.visitInt8=Q;z.prototype.visitInt16=Q;z.prototype.visitInt32=Q;z.prototype.visitInt64=Q;z.prototype.visitUint8=Q;z.prototype.visitUint16=Q;z.prototype.visitUint32=Q;z.prototype.visitUint64=Q;z.prototype.visitFloat=Q;z.prototype.visitFloat16=Q;z.prototype.visitFloat32=Q;z.prototype.visitFloat64=Q;z.prototype.visitUtf8=Q;z.prototype.visitLargeUtf8=Q;z.prototype.visitBinary=Q;z.prototype.visitLargeBinary=Q;z.prototype.visitFixedSizeBinary=Q;z.prototype.visitDate=Q;z.prototype.visitDateDay=Q;z.prototype.visitDateMillisecond=Q;z.prototype.visitTimestamp=Q;z.prototype.visitTimestampSecond=Q;z.prototype.visitTimestampMillisecond=Q;z.prototype.visitTimestampMicrosecond=Q;z.prototype.visitTimestampNanosecond=Q;z.prototype.visitTime=Q;z.prototype.visitTimeSecond=Q;z.prototype.visitTimeMillisecond=Q;z.prototype.visitTimeMicrosecond=Q;z.prototype.visitTimeNanosecond=Q;z.prototype.visitDecimal=Q;z.prototype.visitList=Q;z.prototype.visitStruct=Q;z.prototype.visitUnion=Q;z.prototype.visitDenseUnion=Q;z.prototype.visitSparseUnion=Q;z.prototype.visitDictionary=Q;z.prototype.visitInterval=Q;z.prototype.visitIntervalDayTime=Q;z.prototype.visitIntervalYearMonth=Q;z.prototype.visitDuration=Q;z.prototype.visitDurationSecond=Q;z.prototype.visitDurationMillisecond=Q;z.prototype.visitDurationMicrosecond=Q;z.prototype.visitDurationNanosecond=Q;z.prototype.visitFixedSizeList=Q;z.prototype.visitMap=Q;const Cd=new z;var xv;const bv={},Iv={};class le{constructor(e){var n,r,i;const s=e[0]instanceof le?e.flatMap(a=>a.data):e;if(s.length===0||s.some(a=>!(a instanceof de)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:l,indexOf:u}=bv[o.typeId],d=s[0];this.isValid=h=>Rd(d,h),this.get=h=>a(d,h),this.set=(h,g)=>l(d,h,g),this.indexOf=h=>u(d,h),this._offsets=[0,d.length];break}default:Object.setPrototypeOf(this,Iv[o.typeId]),this._offsets=gv(s);break}this.data=s,this.type=o,this.stride=_n(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((e,n)=>e+n.byteLength,0)}get nullable(){return Ab(this.data)}get nullCount(){return mv(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${y[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}at(e){return this.get(kd(e,this.length))}set(e,n){}indexOf(e,n){return-1}includes(e,n){return this.indexOf(e,n)>-1}[Symbol.iterator](){return Cd.visit(this)}concat(...e){return new le(this.data.concat(e.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(e,n){return new le(pv(this,e,n,({data:r,_offsets:i},s,o)=>vv(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:e,data:n,length:r,stride:i,ArrayType:s}=this;switch(e.typeId){case y.Int:case y.Float:case y.Decimal:case y.Time:case y.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:l})=>(o.array.set(a.subarray(0,l*i),o.offset),o.offset+=l*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new le(this.data.map(({children:n})=>n[e])):null}get isMemoized(){return M.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(M.isDictionary(this.type)){const e=new Ya(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=e,i});return new le(n)}return new Ya(this)}unmemoize(){if(M.isDictionary(this.type)&&this.isMemoized){const e=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=e,i});return new le(n)}return this}}xv=Symbol.toStringTag;le[xv]=(t=>{t.type=M.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(y).map(n=>y[n]).filter(n=>typeof n=="number"&&n!==y.NONE);for(const n of e){const r=mt.getVisitFnByTypeId(n),i=Ut.getVisitFnByTypeId(n),s=Qa.getVisitFnByTypeId(n);bv[n]={get:r,set:i,indexOf:s},Iv[n]=Object.create(t,{isValid:{value:Ha(Rd)},get:{value:Ha(mt.getVisitFnByTypeId(n))},set:{value:wv(Ut.getVisitFnByTypeId(n))},indexOf:{value:_v(Qa.getVisitFnByTypeId(n))}})}return"Vector"})(le.prototype);class Ya extends le{constructor(e){super(e.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const l=n.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new Ya(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new le(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class gc{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,n,r,i){return e.prep(8,24),e.writeInt64(BigInt(i!=null?i:0)),e.pad(4),e.writeInt32(r),e.writeInt64(BigInt(n!=null?n:0)),e.offset()}}class gt{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFooter(e,n){return(n||new gt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,n){return e.setPosition(e.position()+ce),(n||new gt).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):De.V1}schema(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new en).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new gc).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}dictionariesLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new gc).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}recordBatchesLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Pe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,De.V1)}static addSchema(e,n){e.addFieldOffset(1,n,0)}static addDictionaries(e,n){e.addFieldOffset(2,n,0)}static startDictionariesVector(e,n){e.startVector(24,n,8)}static addRecordBatches(e,n){e.addFieldOffset(3,n,0)}static startRecordBatchesVector(e,n){e.startVector(24,n,8)}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,n){e.finish(n)}static finishSizePrefixedFooterBuffer(e,n){e.finish(n,void 0,!0)}}class ue{constructor(e=[],n,r,i=De.V5){this.fields=e||[],this.metadata=n||new Map,r||(r=vc(this.fields)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,n)=>`${n}: ${e}`).join(", ")} }>`}select(e){const n=new Set(e),r=this.fields.filter(i=>n.has(i.name));return new ue(r,this.metadata)}selectAt(e){const n=e.map(r=>this.fields[r]).filter(Boolean);return new ue(n,this.metadata)}assign(...e){const n=e[0]instanceof ue?e[0]:Array.isArray(e[0])?new ue(e[0]):new ue(e),r=[...this.fields],i=Eo(Eo(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const l=r.findIndex(u=>u.name===a.name);return~l?(r[l]=a.clone({metadata:Eo(Eo(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=vc(s,new Map);return new ue([...r,...s],i,new Map([...this.dictionaries,...o]))}}ue.prototype.fields=null;ue.prototype.metadata=null;ue.prototype.dictionaries=null;class xe{static new(...e){let[n,r,i,s]=e;return e[0]&&typeof e[0]=="object"&&({name:n}=e[0],r===void 0&&(r=e[0].type),i===void 0&&(i=e[0].nullable),s===void 0&&(s=e[0].metadata)),new xe(`${n}`,r,i,s)}constructor(e,n,r=!1,i){this.name=e,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[n,r,i,s]=e;return!e[0]||typeof e[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=e:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=e[0],xe.new(n,r,i,s)}}xe.prototype.type=null;xe.prototype.name=null;xe.prototype.nullable=null;xe.prototype.metadata=null;function Eo(t,e){return new Map([...t||new Map,...e||new Map])}function vc(t,e=new Map){for(let n=-1,r=t.length;++n<r;){const s=t[n].type;if(M.isDictionary(s)){if(!e.has(s.id))e.set(s.id,s.dictionary);else if(e.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&vc(s.children,e)}return e}var Mb=qm,Bb=Fi;class Ws{static decode(e){e=new Bb(re(e));const n=gt.getRootAsFooter(e),r=ue.decode(n.schema(),new Map,n.version());return new Pb(r,n)}static encode(e){const n=new Mb,r=ue.encode(n,e.schema);gt.startRecordBatchesVector(n,e.numRecordBatches);for(const o of[...e.recordBatches()].slice().reverse())ar.encode(n,o);const i=n.endVector();gt.startDictionariesVector(n,e.numDictionaries);for(const o of[...e.dictionaryBatches()].slice().reverse())ar.encode(n,o);const s=n.endVector();return gt.startFooter(n),gt.addSchema(n,r),gt.addVersion(n,De.V5),gt.addRecordBatches(n,i),gt.addDictionaries(n,s),gt.finishFooterBuffer(n,gt.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(e,n=De.V5,r,i){this.schema=e,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let e,n=-1,r=this.numRecordBatches;++n<r;)(e=this.getRecordBatch(n))&&(yield e)}*dictionaryBatches(){for(let e,n=-1,r=this.numDictionaries;++n<r;)(e=this.getDictionaryBatch(n))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}class Pb extends Ws{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(e,n){super(e,n.version()),this._footer=n}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){const n=this._footer.recordBatches(e);if(n)return ar.decode(n)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){const n=this._footer.dictionaries(e);if(n)return ar.decode(n)}return null}}class ar{static decode(e){return new ar(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return gc.createBlock(e,i,r,s)}constructor(e,n,r){this.metaDataLength=e,this.offset=ye(r),this.bodyLength=ye(n)}}const Te=Object.freeze({done:!0,value:void 0});class $h{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class Ad{tee(){return this._getDOMStream().tee()}pipe(e,n){return this._getNodeStream().pipe(e,n)}pipeTo(e,n){return this._getDOMStream().pipeTo(e,n)}pipeThrough(e,n){return this._getDOMStream().pipeThrough(e,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Ub extends Ad{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return J(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){const{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(Te);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return Ot.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return Ot.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return J(this,void 0,void 0,function*(){return yield this.abort(e),Te})}return(e){return J(this,void 0,void 0,function*(){return yield this.close(),Te})}read(e){return J(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return J(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(Te)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class qo extends Ub{write(e){if((e=re(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?uc(this.toUint8Array(!0)):this.toUint8Array(!1).then(uc)}toUint8Array(e=!1){return e?dn(this._values)[0]:J(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var l=!0,u=Ir(this),d;d=yield u.next(),n=d.done,!n;l=!0){s=d.value,l=!1;const h=s;o.push(h),a+=h.byteLength}}catch(h){r={error:h}}finally{try{!l&&!n&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}return dn(o,a)[0]})}}class qa{constructor(e){e&&(this.source=new zb(Ot.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class Ai{constructor(e){e instanceof Ai?this.source=e.source:e instanceof qo?this.source=new pr(Ot.fromAsyncIterable(e)):Wm(e)?this.source=new pr(Ot.fromNodeStream(e)):xd(e)?this.source=new pr(Ot.fromDOMStream(e)):Vm(e)?this.source=new pr(Ot.fromDOMStream(e.body)):Zs(e)?this.source=new pr(Ot.fromIterable(e)):Fr(e)?this.source=new pr(Ot.fromAsyncIterable(e)):Bi(e)&&(this.source=new pr(Ot.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class zb{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,n="read"){return this.source.next({cmd:n,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||Te)}return(e){return Object.create(this.source.return&&this.source.return(e)||Te)}}class pr{constructor(e){this.source=e,this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}cancel(e){return J(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return J(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return J(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e){return J(this,arguments,void 0,function*(n,r="read"){return yield this.source.next({cmd:r,size:n})})}throw(e){return J(this,void 0,void 0,function*(){const n=this.source.throw&&(yield this.source.throw(e))||Te;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}return(e){return J(this,void 0,void 0,function*(){const n=this.source.return&&(yield this.source.return(e))||Te;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}}class Vh extends qa{constructor(e,n){super(),this.position=0,this.buffer=re(e),this.size=n===void 0?this.buffer.byteLength:n}readInt32(e){const{buffer:n,byteOffset:r}=this.readAt(e,4);return new DataView(n,r).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){const{buffer:n,size:r,position:i}=this;return n&&i<r?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,e)),n.subarray(i,this.position)):null}readAt(e,n){const r=this.buffer,i=Math.min(this.size,e+n);return r?r.subarray(e,i):new Uint8Array(n)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}}class Ga extends Ai{constructor(e,n){super(),this.position=0,this._handle=e,typeof n=="number"?this.size=n:this._pending=J(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending})}readInt32(e){return J(this,void 0,void 0,function*(){const{buffer:n,byteOffset:r}=yield this.readAt(e,4);return new DataView(n,r).getInt32(0,!0)})}seek(e){return J(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return J(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:r,position:i}=this;if(n&&i<r){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let s=i,o=0,a=0;const l=Math.min(r,s+Math.min(r-s,e)),u=new Uint8Array(Math.max(0,(this.position=l)-s));for(;(s+=a)<l&&(o+=a)<u.byteLength;)({bytesRead:a}=yield n.read(u,o,u.byteLength-o,s));return u}return null})}readAt(e,n){return J(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:r,size:i}=this;if(r&&e+n<i){const s=Math.min(i,e+n),o=new Uint8Array(s-e);return(yield r.read(o,0,n,e)).buffer}return new Uint8Array(n)})}close(){return J(this,void 0,void 0,function*(){const e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return J(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return J(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}}const $b=65536;function ci(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const Di=8,Dd=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class Ev{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){const n=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]);let i=n[3]*r[3];this.buffer[0]=i&65535;let s=i>>>16;return i=n[2]*r[3],s+=i,i=n[3]*r[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?$b:0,this.buffer[1]+=s>>>16,this.buffer[1]+=n[1]*r[3]+n[2]*r[2]+n[3]*r[1],this.buffer[1]+=n[0]*r[3]+n[1]*r[2]+n[2]*r[1]+n[3]*r[0]<<16,this}_plus(e){const n=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],n<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=n}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${ci(this.buffer[1])} ${ci(this.buffer[0])}`}}class fe extends Ev{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,n=new Uint32Array(2)){return fe.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(2)){return fe.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(2)){const r=e.length,i=new fe(n);for(let s=0;s<r;){const o=Di<r-s?Di:r-s,a=new fe(new Uint32Array([Number.parseInt(e.slice(s,s+o),10),0])),l=new fe(new Uint32Array([Dd[o],0]));i.times(l),i.plus(a),s+=o}return i}static convertArray(e){const n=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)fe.from(e[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(e,n){return new fe(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new fe(new Uint32Array(e.buffer)).plus(n)}}class at extends Ev{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){const n=this.buffer[1]<<0,r=e.buffer[1]<<0;return n<r||n===r&&this.buffer[0]<e.buffer[0]}static from(e,n=new Uint32Array(2)){return at.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(2)){return at.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(2)){const r=e.startsWith("-"),i=e.length,s=new at(n);for(let o=r?1:0;o<i;){const a=Di<i-o?Di:i-o,l=new at(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0])),u=new at(new Uint32Array([Dd[a],0]));s.times(u),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){const n=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)at.from(e[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(e,n){return new at(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new at(new Uint32Array(e.buffer)).plus(n)}}class tn{constructor(e){this.buffer=e}high(){return new at(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new at(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){const n=new fe(new Uint32Array([this.buffer[3],0])),r=new fe(new Uint32Array([this.buffer[2],0])),i=new fe(new Uint32Array([this.buffer[1],0])),s=new fe(new Uint32Array([this.buffer[0],0])),o=new fe(new Uint32Array([e.buffer[3],0])),a=new fe(new Uint32Array([e.buffer[2],0])),l=new fe(new Uint32Array([e.buffer[1],0])),u=new fe(new Uint32Array([e.buffer[0],0]));let d=fe.multiply(s,u);this.buffer[0]=d.low();const h=new fe(new Uint32Array([d.high(),0]));return d=fe.multiply(i,u),h.plus(d),d=fe.multiply(s,l),h.plus(d),this.buffer[1]=h.low(),this.buffer[3]=h.lessThan(d)?1:0,this.buffer[2]=h.high(),new fe(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(fe.multiply(r,u)).plus(fe.multiply(i,l)).plus(fe.multiply(s,a)),this.buffer[3]+=fe.multiply(n,u).plus(fe.multiply(r,l)).plus(fe.multiply(i,a)).plus(fe.multiply(s,o)).low(),this}plus(e){const n=new Uint32Array(4);return n[3]=this.buffer[3]+e.buffer[3]>>>0,n[2]=this.buffer[2]+e.buffer[2]>>>0,n[1]=this.buffer[1]+e.buffer[1]>>>0,n[0]=this.buffer[0]+e.buffer[0]>>>0,n[0]<this.buffer[0]>>>0&&++n[1],n[1]<this.buffer[1]>>>0&&++n[2],n[2]<this.buffer[2]>>>0&&++n[3],this.buffer[3]=n[3],this.buffer[2]=n[2],this.buffer[1]=n[1],this.buffer[0]=n[0],this}hex(){return`${ci(this.buffer[3])} ${ci(this.buffer[2])} ${ci(this.buffer[1])} ${ci(this.buffer[0])}`}static multiply(e,n){return new tn(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new tn(new Uint32Array(e.buffer)).plus(n)}static from(e,n=new Uint32Array(4)){return tn.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(4)){return tn.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(4)){const r=e.startsWith("-"),i=e.length,s=new tn(n);for(let o=r?1:0;o<i;){const a=Di<i-o?Di:i-o,l=new tn(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0,0,0])),u=new tn(new Uint32Array([Dd[a],0,0,0]));s.times(u),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){const n=new Uint32Array(e.length*4);for(let r=-1,i=e.length;++r<i;)tn.from(e[r],new Uint32Array(n.buffer,n.byteOffset+4*4*r,4));return n}}class Nv extends ee{constructor(e,n,r,i,s=De.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=n,this.buffers=r,this.dictionaries=i,this.metadataVersion=s}visit(e){return super.visit(e instanceof xe?e.type:e)}visitNull(e,{length:n}=this.nextFieldNode()){return te({type:e,length:n})}visitBool(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitInt(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFloat(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitUtf8(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeUtf8(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeBinary(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDate(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTimestamp(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTime(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDecimal(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitList(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),children:this.visitMany(e.children)})}visitUnion(e,{length:n,nullCount:r}=this.nextFieldNode()){return this.metadataVersion<De.V5&&this.readNullBitmap(e,r),e.mode===Je.Sparse?this.visitSparseUnion(e,{length:n,nullCount:r}):this.visitDenseUnion(e,{length:n,nullCount:r})}visitDenseUnion(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDuration(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFixedSizeList(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),child:this.visit(e.children[0])})}visitMap(e,{length:n,nullCount:r}=this.nextFieldNode()){return te({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,n,r=this.nextBufferRange()){return n>0&&this.readData(e,r)||new Uint8Array(0)}readOffsets(e,n){return this.readData(e,n)}readTypeIds(e,n){return this.readData(e,n)}readData(e,{length:n,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+n)}readDictionary(e){return this.dictionaries.get(e.id)}}class Vb extends Nv{constructor(e,n,r,i,s){super(new Uint8Array(0),n,r,i,s),this.sources=e}readNullBitmap(e,n,{offset:r}=this.nextBufferRange()){return n<=0?new Uint8Array(0):Wa(this.sources[r])}readOffsets(e,{offset:n}=this.nextBufferRange()){return he(Uint8Array,he(e.OffsetArrayType,this.sources[n]))}readTypeIds(e,{offset:n}=this.nextBufferRange()){return he(Uint8Array,he(e.ArrayType,this.sources[n]))}readData(e,{offset:n}=this.nextBufferRange()){const{sources:r}=this;return M.isTimestamp(e)||(M.isInt(e)||M.isTime(e))&&e.bitWidth===64||M.isDuration(e)||M.isDate(e)&&e.unit===Pt.MILLISECOND?he(Uint8Array,at.convertArray(r[n])):M.isDecimal(e)?he(Uint8Array,tn.convertArray(r[n])):M.isBinary(e)||M.isLargeBinary(e)||M.isFixedSizeBinary(e)?Wb(r[n]):M.isBool(e)?Wa(r[n]):M.isUtf8(e)||M.isLargeUtf8(e)?Sd(r[n].join("")):he(Uint8Array,he(e.ArrayType,r[n].map(i=>+i)))}}function Wb(t){const e=t.join(""),n=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)n[r>>1]=Number.parseInt(e.slice(r,r+2),16);return n}class $ extends ee{compareSchemas(e,n){return e===n||n instanceof e.constructor&&this.compareManyFields(e.fields,n.fields)}compareManyFields(e,n){return e===n||Array.isArray(e)&&Array.isArray(n)&&e.length===n.length&&e.every((r,i)=>this.compareFields(r,n[i]))}compareFields(e,n){return e===n||n instanceof e.constructor&&e.name===n.name&&e.nullable===n.nullable&&this.visit(e.type,n.type)}}function ot(t,e){return e instanceof t.constructor}function Dr(t,e){return t===e||ot(t,e)}function Ln(t,e){return t===e||ot(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function xl(t,e){return t===e||ot(t,e)&&t.precision===e.precision}function Hb(t,e){return t===e||ot(t,e)&&t.byteWidth===e.byteWidth}function Ld(t,e){return t===e||ot(t,e)&&t.unit===e.unit}function Xs(t,e){return t===e||ot(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function eo(t,e){return t===e||ot(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function Qb(t,e){return t===e||ot(t,e)&&t.children.length===e.children.length&&lr.compareManyFields(t.children,e.children)}function Yb(t,e){return t===e||ot(t,e)&&t.children.length===e.children.length&&lr.compareManyFields(t.children,e.children)}function jd(t,e){return t===e||ot(t,e)&&t.mode===e.mode&&t.typeIds.every((n,r)=>n===e.typeIds[r])&&lr.compareManyFields(t.children,e.children)}function qb(t,e){return t===e||ot(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&lr.visit(t.indices,e.indices)&&lr.visit(t.dictionary,e.dictionary)}function Md(t,e){return t===e||ot(t,e)&&t.unit===e.unit}function to(t,e){return t===e||ot(t,e)&&t.unit===e.unit}function Gb(t,e){return t===e||ot(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&lr.compareManyFields(t.children,e.children)}function Kb(t,e){return t===e||ot(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&lr.compareManyFields(t.children,e.children)}$.prototype.visitNull=Dr;$.prototype.visitBool=Dr;$.prototype.visitInt=Ln;$.prototype.visitInt8=Ln;$.prototype.visitInt16=Ln;$.prototype.visitInt32=Ln;$.prototype.visitInt64=Ln;$.prototype.visitUint8=Ln;$.prototype.visitUint16=Ln;$.prototype.visitUint32=Ln;$.prototype.visitUint64=Ln;$.prototype.visitFloat=xl;$.prototype.visitFloat16=xl;$.prototype.visitFloat32=xl;$.prototype.visitFloat64=xl;$.prototype.visitUtf8=Dr;$.prototype.visitLargeUtf8=Dr;$.prototype.visitBinary=Dr;$.prototype.visitLargeBinary=Dr;$.prototype.visitFixedSizeBinary=Hb;$.prototype.visitDate=Ld;$.prototype.visitDateDay=Ld;$.prototype.visitDateMillisecond=Ld;$.prototype.visitTimestamp=Xs;$.prototype.visitTimestampSecond=Xs;$.prototype.visitTimestampMillisecond=Xs;$.prototype.visitTimestampMicrosecond=Xs;$.prototype.visitTimestampNanosecond=Xs;$.prototype.visitTime=eo;$.prototype.visitTimeSecond=eo;$.prototype.visitTimeMillisecond=eo;$.prototype.visitTimeMicrosecond=eo;$.prototype.visitTimeNanosecond=eo;$.prototype.visitDecimal=Dr;$.prototype.visitList=Qb;$.prototype.visitStruct=Yb;$.prototype.visitUnion=jd;$.prototype.visitDenseUnion=jd;$.prototype.visitSparseUnion=jd;$.prototype.visitDictionary=qb;$.prototype.visitInterval=Md;$.prototype.visitIntervalDayTime=Md;$.prototype.visitIntervalYearMonth=Md;$.prototype.visitDuration=to;$.prototype.visitDurationSecond=to;$.prototype.visitDurationMillisecond=to;$.prototype.visitDurationMicrosecond=to;$.prototype.visitDurationNanosecond=to;$.prototype.visitFixedSizeList=Gb;$.prototype.visitMap=Kb;const lr=new $;function wc(t,e){return lr.compareSchemas(t,e)}function su(t,e){return Jb(t,e.map(n=>n.data.concat()))}function Jb(t,e){const n=[...t.fields],r=[],i={numBatches:e.reduce((h,g)=>Math.max(h,g.length),0)};let s=0,o=0,a=-1;const l=e.length;let u,d=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)d[a]=u=e[a].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(d=Zb(n,o,d,e,i),o>0&&(r[s++]=te({type:new tt(n),length:o,nullCount:0,children:d.slice()})))}return[t=t.assign(n),r.map(h=>new ct(t,h))]}function Zb(t,e,n,r,i){var s;const o=(e+63&-64)>>3;for(let a=-1,l=r.length;++a<l;){const u=n[a],d=u==null?void 0:u.length;if(d>=e)d===e?n[a]=u:(n[a]=u.slice(0,e),i.numBatches=Math.max(i.numBatches,r[a].unshift(u.slice(e,d-e))));else{const h=t[a];t[a]=h.clone({nullable:!0}),n[a]=(s=u==null?void 0:u._changeLengthAndBackfillNullBitmap(e))!==null&&s!==void 0?s:te({type:h.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return n}var Tv;class et{constructor(...e){var n,r;if(e.length===0)return this.batches=[],this.schema=new ue([]),this._offsets=[0],this;let i,s;e[0]instanceof ue&&(i=e.shift()),e.at(-1)instanceof Uint32Array&&(s=e.pop());const o=l=>{if(l){if(l instanceof ct)return[l];if(l instanceof et)return l.batches;if(l instanceof de){if(l.type instanceof tt)return[new ct(new ue(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(u=>o(u));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(u=>o(u));if(typeof l=="object"){const u=Object.keys(l),d=u.map(v=>new le([l[v]])),h=i!=null?i:new ue(u.map((v,w)=>new xe(String(v),d[w].type,d[w].nullable))),[,g]=su(h,d);return g.length===0?[new ct(l)]:g}}}return[]},a=e.flatMap(l=>o(l));if(i=(r=i!=null?i:(n=a[0])===null||n===void 0?void 0:n.schema)!==null&&r!==void 0?r:new ue([]),!(i instanceof ue))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of a){if(!(l instanceof ct))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!wc(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s!=null?s:gv(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,n)=>e+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=mv(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}at(e){return this.get(kd(e,this.numRows))}set(e,n){}indexOf(e,n){return-1}[Symbol.iterator](){return this.batches.length>0?Cd.visit(new le(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){const n=this.schema,r=this.data.concat(e.flatMap(({data:i})=>i));return new et(n,r.map(i=>new ct(n,i)))}slice(e,n){const r=this.schema;[e,n]=pv({length:this.numRows},e,n);const i=vv(this.data,this._offsets,e,n);return new et(r,i.map(s=>new ct(r,s)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){const n=this.data.map(r=>r.children[e]);if(n.length===0){const{type:r}=this.schema.fields[e],i=te({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new le(n)}return null}setChild(e,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),n)}setChildAt(e,n){let r=this.schema,i=[...this.batches];if(e>-1&&e<this.numCols){n||(n=new le([te({type:new or,length:this.numRows})]));const s=r.fields.slice(),o=s[e].clone({type:n.type}),a=this.schema.fields.map((l,u)=>this.getChildAt(u));[s[e],a[e]]=[o,n],[r,i]=su(r,a)}return new et(r,i)}select(e){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(e.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(e){const n=this.schema.selectAt(e),r=this.batches.map(i=>i.selectAt(e));return new et(n,r)}assign(e){const n=this.schema.fields,[r,i]=e.schema.fields.reduce((a,l,u)=>{const[d,h]=a,g=n.findIndex(v=>v.name===l.name);return~g?h[g]=u:d.push(u),a},[[],[]]),s=this.schema.assign(e.schema),o=[...n.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):e.getChildAt(l)),...r.map(a=>e.getChildAt(a))].filter(Boolean);return new et(...su(s,o))}}Tv=Symbol.toStringTag;et[Tv]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=Ha(Rd),t.get=Ha(mt.getVisitFn(y.Struct)),t.set=wv(Ut.getVisitFn(y.Struct)),t.indexOf=_v(Qa.getVisitFn(y.Struct)),"Table"))(et.prototype);var kv;let ct=class as{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof ue))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=te({nullCount:0,type:new tt(this.schema.fields),children:this.schema.fields.map(n=>te({type:n.type,nullCount:0}))})]=e,!(this.data instanceof de))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=Wh(this.schema,this.data.children);break}case 1:{const[n]=e,{fields:r,children:i,length:s}=Object.keys(n).reduce((l,u,d)=>(l.children[d]=n[u],l.length=Math.max(l.length,n[u].length),l.fields[d]=xe.new({name:u,type:n[u].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new ue(r),a=te({type:new tt(r),length:s,children:i,nullCount:0});[this.schema,this.data]=Wh(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Ov(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return mt.visit(this.data,e)}at(e){return this.get(kd(e,this.numRows))}set(e,n){return Ut.visit(this.data,e,n)}indexOf(e,n){return Qa.visit(this.data,e,n)}[Symbol.iterator](){return Cd.visit(new le([this.data]))}toArray(){return[...this]}concat(...e){return new et(this.schema,[this,...e])}slice(e,n){const[r]=new le([this.data]).slice(e,n).data;return new as(this.schema,r)}getChild(e){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new le([this.data.children[e]]):null}setChild(e,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),n)}setChildAt(e,n){let r=this.schema,i=this.data;if(e>-1&&e<this.numCols){n||(n=new le([te({type:new or,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[e].clone({type:n.type});[s[e],o[e]]=[a,n.data[0]],r=new ue(s,new Map(this.schema.metadata)),i=te({type:new tt(s),children:o})}return new as(r,i)}select(e){const n=this.schema.select(e),r=new tt(n.fields),i=[];for(const s of e){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new as(n,te({type:r,length:this.numRows,children:i}))}selectAt(e){const n=this.schema.selectAt(e),r=e.map(s=>this.data.children[s]).filter(Boolean),i=te({type:new tt(n.fields),length:this.numRows,children:r});return new as(n,i)}};kv=Symbol.toStringTag;ct[kv]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(ct.prototype);function Wh(t,e,n=e.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...t.fields],s=[...e],o=(n+63&-64)>>3;for(const[a,l]of t.fields.entries()){const u=e[a];(!u||u.length!==n)&&(i[a]=l.clone({nullable:!0}),s[a]=(r=u==null?void 0:u._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:te({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[t.assign(i),te({type:new tt(i),length:n,children:s})]}function Ov(t,e,n=new Map){var r,i;if(((r=t==null?void 0:t.length)!==null&&r!==void 0?r:0)>0&&(t==null?void 0:t.length)===(e==null?void 0:e.length))for(let s=-1,o=t.length;++s<o;){const{type:a}=t[s],l=e[s];for(const u of[l,...((i=l==null?void 0:l.dictionary)===null||i===void 0?void 0:i.data)||[]])Ov(a.children,u==null?void 0:u.children,n);if(M.isDictionary(a)){const{id:u}=a;if(!n.has(u))l!=null&&l.dictionary&&n.set(u,l.dictionary);else if(n.get(u)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class Bd extends ct{constructor(e){const n=e.fields.map(i=>te({type:i.type})),r=te({type:new tt(e.fields),nullCount:0,children:n});super(e,r)}}let Bn=class Zt{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMessage(e,n){return(n||new Zt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,n){return e.setPosition(e.position()+ce),(n||new Zt).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):De.V1}headerType(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):ae.NONE}header(e){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(e,this.bb_pos+n):null}bodyLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Pe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,De.V1)}static addHeaderType(e,n){e.addFieldInt8(1,n,ae.NONE)}static addHeader(e,n){e.addFieldOffset(2,n,0)}static addBodyLength(e,n){e.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,n){e.finish(n)}static finishSizePrefixedMessageBuffer(e,n){e.finish(n,void 0,!0)}static createMessage(e,n,r,i,s,o){return Zt.startMessage(e),Zt.addVersion(e,n),Zt.addHeaderType(e,r),Zt.addHeader(e,i),Zt.addBodyLength(e,s),Zt.addCustomMetadata(e,o),Zt.endMessage(e)}};class Xb extends ee{visit(e,n){return e==null||n==null?void 0:super.visit(e,n)}visitNull(e,n){return Lh.startNull(n),Lh.endNull(n)}visitInt(e,n){return _t.startInt(n),_t.addBitWidth(n,e.bitWidth),_t.addIsSigned(n,e.isSigned),_t.endInt(n)}visitFloat(e,n){return sn.startFloatingPoint(n),sn.addPrecision(n,e.precision),sn.endFloatingPoint(n)}visitBinary(e,n){return Fh.startBinary(n),Fh.endBinary(n)}visitLargeBinary(e,n){return Ch.startLargeBinary(n),Ch.endLargeBinary(n)}visitBool(e,n){return Rh.startBool(n),Rh.endBool(n)}visitUtf8(e,n){return jh.startUtf8(n),jh.endUtf8(n)}visitLargeUtf8(e,n){return Ah.startLargeUtf8(n),Ah.endLargeUtf8(n)}visitDecimal(e,n){return Vr.startDecimal(n),Vr.addScale(n,e.scale),Vr.addPrecision(n,e.precision),Vr.addBitWidth(n,e.bitWidth),Vr.endDecimal(n)}visitDate(e,n){return $o.startDate(n),$o.addUnit(n,e.unit),$o.endDate(n)}visitTime(e,n){return Ct.startTime(n),Ct.addUnit(n,e.unit),Ct.addBitWidth(n,e.bitWidth),Ct.endTime(n)}visitTimestamp(e,n){const r=e.timezone&&n.createString(e.timezone)||void 0;return At.startTimestamp(n),At.addUnit(n,e.unit),r!==void 0&&At.addTimezone(n,r),At.endTimestamp(n)}visitInterval(e,n){return on.startInterval(n),on.addUnit(n,e.unit),on.endInterval(n)}visitDuration(e,n){return Vo.startDuration(n),Vo.addUnit(n,e.unit),Vo.endDuration(n)}visitList(e,n){return Dh.startList(n),Dh.endList(n)}visitStruct(e,n){return Sr.startStruct_(n),Sr.endStruct_(n)}visitUnion(e,n){ut.startTypeIdsVector(n,e.typeIds.length);const r=ut.createTypeIdsVector(n,e.typeIds);return ut.startUnion(n),ut.addMode(n,e.mode),ut.addTypeIds(n,r),ut.endUnion(n)}visitDictionary(e,n){const r=this.visit(e.indices,n);return bn.startDictionaryEncoding(n),bn.addId(n,BigInt(e.id)),bn.addIsOrdered(n,e.isOrdered),r!==void 0&&bn.addIndexType(n,r),bn.endDictionaryEncoding(n)}visitFixedSizeBinary(e,n){return Wo.startFixedSizeBinary(n),Wo.addByteWidth(n,e.byteWidth),Wo.endFixedSizeBinary(n)}visitFixedSizeList(e,n){return Ho.startFixedSizeList(n),Ho.addListSize(n,e.listSize),Ho.endFixedSizeList(n)}visitMap(e,n){return Qo.startMap(n),Qo.addKeysSorted(n,e.keysSorted),Qo.endMap(n)}}const ou=new Xb;function e2(t,e=new Map){return new ue(n2(t,e),Go(t.metadata),e)}function Fv(t){return new It(t.count,Rv(t.columns),Cv(t.columns))}function t2(t){return new hn(Fv(t.data),t.id,t.isDelta)}function n2(t,e){return(t.fields||[]).filter(Boolean).map(n=>xe.fromJSON(n,e))}function Hh(t,e){return(t.children||[]).filter(Boolean).map(n=>xe.fromJSON(n,e))}function Rv(t){return(t||[]).reduce((e,n)=>[...e,new ur(n.count,r2(n.VALIDITY)),...Rv(n.children)],[])}function Cv(t,e=[]){for(let n=-1,r=(t||[]).length;++n<r;){const i=t[n];i.VALIDITY&&e.push(new ln(e.length,i.VALIDITY.length)),i.TYPE_ID&&e.push(new ln(e.length,i.TYPE_ID.length)),i.OFFSET&&e.push(new ln(e.length,i.OFFSET.length)),i.DATA&&e.push(new ln(e.length,i.DATA.length)),e=Cv(i.children,e)}return e}function r2(t){return(t||[]).reduce((e,n)=>e+ +(n===0),0)}function i2(t,e){let n,r,i,s,o,a;return!e||!(s=t.dictionary)?(o=Yh(t,Hh(t,e)),i=new xe(t.name,o,t.nullable,Go(t.metadata))):e.has(n=s.id)?(r=(r=s.indexType)?Qh(r):new Vs,a=new Ci(e.get(n),r,n,s.isOrdered),i=new xe(t.name,a,t.nullable,Go(t.metadata))):(r=(r=s.indexType)?Qh(r):new Vs,e.set(n,o=Yh(t,Hh(t,e))),a=new Ci(o,r,n,s.isOrdered),i=new xe(t.name,a,t.nullable,Go(t.metadata))),i||null}function Go(t=[]){return new Map(t.map(({key:e,value:n})=>[e,n]))}function Qh(t){return new Rr(t.isSigned,t.bitWidth)}function Yh(t,e){const n=t.type.name;switch(n){case"NONE":return new or;case"null":return new or;case"binary":return new Ta;case"largebinary":return new ka;case"utf8":return new Oa;case"largeutf8":return new Fa;case"bool":return new Ra;case"list":return new Ba((e||[])[0]);case"struct":return new tt(e||[]);case"struct_":return new tt(e||[])}switch(n){case"int":{const r=t.type;return new Rr(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=t.type;return new Na(Ge[r.precision])}case"decimal":{const r=t.type;return new Ca(r.scale,r.precision,r.bitWidth)}case"date":{const r=t.type;return new Aa(Pt[r.unit])}case"time":{const r=t.type;return new Da(V[r.unit],r.bitWidth)}case"timestamp":{const r=t.type;return new La(V[r.unit],r.timezone)}case"interval":{const r=t.type;return new ja(fn[r.unit])}case"duration":{const r=t.type;return new Ma(V[r.unit])}case"union":{const r=t.type,[i,...s]=(r.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("");return new Pa(Je[o],r.typeIds||[],e||[])}case"fixedsizebinary":{const r=t.type;return new Ua(r.byteWidth)}case"fixedsizelist":{const r=t.type;return new za(r.listSize,(e||[])[0])}case"map":{const r=t.type;return new $a((e||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var s2=qm,o2=Fi;class nt{static fromJSON(e,n){const r=new nt(0,De.V5,n);return r._createHeader=a2(e,n),r}static decode(e){e=new o2(re(e));const n=Bn.getRootAsMessage(e),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new nt(r,i,s);return o._createHeader=l2(n,s),o}static encode(e){const n=new s2;let r=-1;return e.isSchema()?r=ue.encode(n,e.header()):e.isRecordBatch()?r=It.encode(n,e.header()):e.isDictionaryBatch()&&(r=hn.encode(n,e.header())),Bn.startMessage(n),Bn.addVersion(n,De.V5),Bn.addHeader(n,r),Bn.addHeaderType(n,e.headerType),Bn.addBodyLength(n,BigInt(e.bodyLength)),Bn.finishMessageBuffer(n,Bn.endMessage(n)),n.asUint8Array()}static from(e,n=0){if(e instanceof ue)return new nt(0,De.V5,ae.Schema,e);if(e instanceof It)return new nt(n,De.V5,ae.RecordBatch,e);if(e instanceof hn)return new nt(n,De.V5,ae.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===ae.Schema}isRecordBatch(){return this.headerType===ae.RecordBatch}isDictionaryBatch(){return this.headerType===ae.DictionaryBatch}constructor(e,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=ye(e)}}class It{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(e,n,r){this._nodes=n,this._buffers=r,this._length=ye(e)}}class hn{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(e,n,r=!1){this._data=e,this._isDelta=r,this._id=ye(n)}}class ln{constructor(e,n){this.offset=ye(e),this.length=ye(n)}}class ur{constructor(e,n){this.length=ye(e),this.nullCount=ye(n)}}function a2(t,e){return()=>{switch(e){case ae.Schema:return ue.fromJSON(t);case ae.RecordBatch:return It.fromJSON(t);case ae.DictionaryBatch:return hn.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${ae[e]}, type: ${e} }`)}}function l2(t,e){return()=>{switch(e){case ae.Schema:return ue.decode(t.header(new en),new Map,t.version());case ae.RecordBatch:return It.decode(t.header(new vn),t.version());case ae.DictionaryBatch:return hn.decode(t.header(new zr),t.version())}throw new Error(`Unrecognized Message type: { name: ${ae[e]}, type: ${e} }`)}}xe.encode=w2;xe.decode=g2;xe.fromJSON=i2;ue.encode=v2;ue.decode=u2;ue.fromJSON=e2;It.encode=_2;It.decode=c2;It.fromJSON=Fv;hn.encode=S2;hn.decode=d2;hn.fromJSON=t2;ur.encode=x2;ur.decode=h2;ln.encode=b2;ln.decode=f2;function u2(t,e=new Map,n=De.V5){const r=m2(t,e);return new ue(r,Ko(t),e,n)}function c2(t,e=De.V5){if(t.compression()!==null)throw new Error("Record batch compression not implemented");return new It(t.length(),p2(t),y2(t,e))}function d2(t,e=De.V5){return new hn(It.decode(t.data(),e),t.id(),t.isDelta())}function f2(t){return new ln(t.offset(),t.length())}function h2(t){return new ur(t.length(),t.nullCount())}function p2(t){const e=[];for(let n,r=-1,i=-1,s=t.nodesLength();++r<s;)(n=t.nodes(r))&&(e[++i]=ur.decode(n));return e}function y2(t,e){const n=[];for(let r,i=-1,s=-1,o=t.buffersLength();++i<o;)(r=t.buffers(i))&&(e<De.V4&&(r.bb_pos+=8*(i+1)),n[++s]=ln.decode(r));return n}function m2(t,e){const n=[];for(let r,i=-1,s=-1,o=t.fieldsLength();++i<o;)(r=t.fields(i))&&(n[++s]=xe.decode(r,e));return n}function qh(t,e){const n=[];for(let r,i=-1,s=-1,o=t.childrenLength();++i<o;)(r=t.children(i))&&(n[++s]=xe.decode(r,e));return n}function g2(t,e){let n,r,i,s,o,a;return!e||!(a=t.dictionary())?(i=Kh(t,qh(t,e)),r=new xe(t.name(),i,t.nullable(),Ko(t))):e.has(n=ye(a.id()))?(s=(s=a.indexType())?Gh(s):new Vs,o=new Ci(e.get(n),s,n,a.isOrdered()),r=new xe(t.name(),o,t.nullable(),Ko(t))):(s=(s=a.indexType())?Gh(s):new Vs,e.set(n,i=Kh(t,qh(t,e))),o=new Ci(i,s,n,a.isOrdered()),r=new xe(t.name(),o,t.nullable(),Ko(t))),r||null}function Ko(t){const e=new Map;if(t)for(let n,r,i=-1,s=Math.trunc(t.customMetadataLength());++i<s;)(n=t.customMetadata(i))&&(r=n.key())!=null&&e.set(r,n.value());return e}function Gh(t){return new Rr(t.isSigned(),t.bitWidth())}function Kh(t,e){const n=t.typeType();switch(n){case ge.NONE:return new or;case ge.Null:return new or;case ge.Binary:return new Ta;case ge.LargeBinary:return new ka;case ge.Utf8:return new Oa;case ge.LargeUtf8:return new Fa;case ge.Bool:return new Ra;case ge.List:return new Ba((e||[])[0]);case ge.Struct_:return new tt(e||[])}switch(n){case ge.Int:{const r=t.type(new _t);return new Rr(r.isSigned(),r.bitWidth())}case ge.FloatingPoint:{const r=t.type(new sn);return new Na(r.precision())}case ge.Decimal:{const r=t.type(new Vr);return new Ca(r.scale(),r.precision(),r.bitWidth())}case ge.Date:{const r=t.type(new $o);return new Aa(r.unit())}case ge.Time:{const r=t.type(new Ct);return new Da(r.unit(),r.bitWidth())}case ge.Timestamp:{const r=t.type(new At);return new La(r.unit(),r.timezone())}case ge.Interval:{const r=t.type(new on);return new ja(r.unit())}case ge.Duration:{const r=t.type(new Vo);return new Ma(r.unit())}case ge.Union:{const r=t.type(new ut);return new Pa(r.mode(),r.typeIdsArray()||[],e||[])}case ge.FixedSizeBinary:{const r=t.type(new Wo);return new Ua(r.byteWidth())}case ge.FixedSizeList:{const r=t.type(new Ho);return new za(r.listSize(),(e||[])[0])}case ge.Map:{const r=t.type(new Qo);return new $a((e||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${ge[n]}" (${n})`)}function v2(t,e){const n=e.fields.map(s=>xe.encode(t,s));en.startFieldsVector(t,n.length);const r=en.createFieldsVector(t,n),i=e.metadata&&e.metadata.size>0?en.createCustomMetadataVector(t,[...e.metadata].map(([s,o])=>{const a=t.createString(`${s}`),l=t.createString(`${o}`);return Pe.startKeyValue(t),Pe.addKey(t,a),Pe.addValue(t,l),Pe.endKeyValue(t)})):-1;return en.startSchema(t),en.addFields(t,r),en.addEndianness(t,I2?Ri.Little:Ri.Big),i!==-1&&en.addCustomMetadata(t,i),en.endSchema(t)}function w2(t,e){let n=-1,r=-1,i=-1;const s=e.type;let o=e.typeId;M.isDictionary(s)?(o=s.dictionary.typeId,i=ou.visit(s,t),r=ou.visit(s.dictionary,t)):r=ou.visit(s,t);const a=(s.children||[]).map(d=>xe.encode(t,d)),l=kt.createChildrenVector(t,a),u=e.metadata&&e.metadata.size>0?kt.createCustomMetadataVector(t,[...e.metadata].map(([d,h])=>{const g=t.createString(`${d}`),v=t.createString(`${h}`);return Pe.startKeyValue(t),Pe.addKey(t,g),Pe.addValue(t,v),Pe.endKeyValue(t)})):-1;return e.name&&(n=t.createString(e.name)),kt.startField(t),kt.addType(t,r),kt.addTypeType(t,o),kt.addChildren(t,l),kt.addNullable(t,!!e.nullable),n!==-1&&kt.addName(t,n),i!==-1&&kt.addDictionary(t,i),u!==-1&&kt.addCustomMetadata(t,u),kt.endField(t)}function _2(t,e){const n=e.nodes||[],r=e.buffers||[];vn.startNodesVector(t,n.length);for(const o of n.slice().reverse())ur.encode(t,o);const i=t.endVector();vn.startBuffersVector(t,r.length);for(const o of r.slice().reverse())ln.encode(t,o);const s=t.endVector();return vn.startRecordBatch(t),vn.addLength(t,BigInt(e.length)),vn.addNodes(t,i),vn.addBuffers(t,s),vn.endRecordBatch(t)}function S2(t,e){const n=It.encode(t,e.data);return zr.startDictionaryBatch(t),zr.addId(t,BigInt(e.id)),zr.addIsDelta(t,e.isDelta),zr.addData(t,n),zr.endDictionaryBatch(t)}function x2(t,e){return Jm.createFieldNode(t,BigInt(e.length),BigInt(e.nullCount))}function b2(t,e){return Km.createBuffer(t,BigInt(e.offset),BigInt(e.length))}const I2=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),new Int16Array(t)[0]===256})(),Pd=t=>`Expected ${ae[t]} Message in stream, but was null or length 0.`,Ud=t=>`Header pointer of flatbuffer-encoded ${ae[t]} Message is null or length 0.`,Av=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,Dv=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class Lv{constructor(e){this.source=e instanceof qa?e:new qa(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?Te:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let n;if((n=this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(Pd(e));return n.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);const n=re(this.source.read(e));if(n.byteLength<e)throw new Error(Dv(e,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()}readSchema(e=!1){const n=ae.Schema,r=this.readMessage(n),i=r==null?void 0:r.header();if(e&&!i)throw new Error(Ud(n));return i}readMetadataLength(){const e=this.source.read(bl),n=e&&new Fi(e),r=(n==null?void 0:n.readInt32(0))||0;return{done:r===0,value:r}}readMetadata(e){const n=this.source.read(e);if(!n)return Te;if(n.byteLength<e)throw new Error(Av(e,n.byteLength));return{done:!1,value:nt.decode(n)}}}class E2{constructor(e,n){this.source=e instanceof Ai?e:$m(e)?new Ga(e,n):new Ai(e)}[Symbol.asyncIterator](){return this}next(){return J(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?Te:e})}throw(e){return J(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return J(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return J(this,void 0,void 0,function*(){let n;if((n=yield this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(Pd(e));return n.value})}readMessageBody(e){return J(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);const n=re(yield this.source.read(e));if(n.byteLength<e)throw new Error(Dv(e,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()})}readSchema(){return J(this,arguments,void 0,function*(e=!1){const n=ae.Schema,r=yield this.readMessage(n),i=r==null?void 0:r.header();if(e&&!i)throw new Error(Ud(n));return i})}readMetadataLength(){return J(this,void 0,void 0,function*(){const e=yield this.source.read(bl),n=e&&new Fi(e),r=(n==null?void 0:n.readInt32(0))||0;return{done:r===0,value:r}})}readMetadata(e){return J(this,void 0,void 0,function*(){const n=yield this.source.read(e);if(!n)return Te;if(n.byteLength<e)throw new Error(Av(e,n.byteLength));return{done:!1,value:nt.decode(n)}})}}class N2 extends Lv{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof $h?e:new $h(e)}next(){const{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:nt.fromJSON(e.schema,ae.Schema)};if(this._dictionaryIndex<e.dictionaries.length){const n=e.dictionaries[this._dictionaryIndex++];return this._body=n.data.columns,{done:!1,value:nt.fromJSON(n,ae.DictionaryBatch)}}if(this._batchIndex<e.batches.length){const n=e.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:nt.fromJSON(n,ae.RecordBatch)}}return this._body=[],Te}readMessageBody(e){return n(this._body);function n(r){return(r||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE_ID&&[s.TYPE_ID]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...n(s.children)],[])}}readMessage(e){let n;if((n=this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(Pd(e));return n.value}readSchema(){const e=ae.Schema,n=this.readMessage(e),r=n==null?void 0:n.header();if(!n||!r)throw new Error(Ud(e));return r}}const bl=4,_c="ARROW1",Hs=new Uint8Array(_c.length);for(let t=0;t<_c.length;t+=1)Hs[t]=_c.codePointAt(t);function zd(t,e=0){for(let n=-1,r=Hs.length;++n<r;)if(Hs[n]!==t[e+n])return!1;return!0}const no=Hs.length,jv=no+bl,T2=no*2+bl;class jt extends Ad{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){const n=this._impl.open(e);return Fr(n)?n.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Ot.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Ot.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof jt?e:cc(e)?R2(e):$m(e)?D2(e):Fr(e)?J(this,void 0,void 0,function*(){return yield jt.from(yield e)}):Vm(e)||xd(e)||Wm(e)||Bi(e)?A2(new Ai(e)):C2(new qa(e))}static readAll(e){return e instanceof jt?e.isSync()?Jh(e):Zh(e):cc(e)||ArrayBuffer.isView(e)||Zs(e)||zm(e)?Jh(e):Zh(e)}}class Ka extends jt{constructor(e){super(e),this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return an(this,arguments,function*(){yield Z(yield*zo(Ir(this[Symbol.iterator]())))})}}class Ja extends jt{constructor(e){super(e),this._impl=e}readAll(){return J(this,void 0,void 0,function*(){var e,n,r,i;const s=new Array;try{for(var o=!0,a=Ir(this),l;l=yield a.next(),e=l.done,!e;o=!0){i=l.value,o=!1;const u=i;s.push(u)}}catch(u){n={error:u}}finally{try{!o&&!e&&(r=a.return)&&(yield r.call(a))}finally{if(n)throw n.error}}return s})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class Mv extends Ka{constructor(e){super(e),this._impl=e}}class k2 extends Ja{constructor(e){super(e),this._impl=e}}class Bv{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,n){const r=this._loadVectors(e,n,this.schema.fields),i=te({type:new tt(this.schema.fields),length:e.length,children:r});return new ct(this.schema,i)}_loadDictionaryBatch(e,n){const{id:r,isDelta:i}=e,{dictionaries:s,schema:o}=this,a=s.get(r),l=o.dictionaries.get(r),u=this._loadVectors(e.data,n,[l]);return(a&&i?a.concat(new le(u)):new le(u)).memoize()}_loadVectors(e,n,r){return new Nv(n,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}}class Za extends Bv{constructor(e,n){super(n),this._reader=cc(e)?new N2(this._handle=e):new Lv(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=Uv(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):Te}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):Te}next(){if(this.closed)return Te;let e;const{_reader:n}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const r=e.header(),i=n.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const r=e.header(),i=n.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Bd(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}}class Xa extends Bv{constructor(e,n){super(n),this._reader=new E2(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return J(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return J(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=Uv(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return J(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):Te})}return(e){return J(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):Te})}next(){return J(this,void 0,void 0,function*(){if(this.closed)return Te;let e;const{_reader:n}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const r=e.header(),i=yield n.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const r=e.header(),i=yield n.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Bd(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return J(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}}class Pv extends Za{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,n){super(e instanceof Vh?e:new Vh(e),n)}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var n;if(this.closed)return null;this._footer||this.open();const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(e);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(ae.RecordBatch);if(i!=null&&i.isRecordBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(e){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(e);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(ae.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}}_readFooter(){const{_handle:e}=this,n=e.size-jv,r=e.readInt32(n),i=e.readAt(n-r,r);return Ws.decode(i)}_readNextMessageAndValidate(e){var n;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(e)}return null}}class O2 extends Xa{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,...n){const r=typeof n[0]!="number"?n.shift():void 0,i=n[0]instanceof Map?n.shift():void 0;super(e instanceof Ga?e:new Ga(e,r),i)}isFile(){return!0}isAsync(){return!0}open(e){const n=Object.create(null,{open:{get:()=>super.open}});return J(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,e)})}readRecordBatch(e){return J(this,void 0,void 0,function*(){var n;if(this.closed)return null;this._footer||(yield this.open());const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(e);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(ae.RecordBatch);if(i!=null&&i.isRecordBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(e){return J(this,void 0,void 0,function*(){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(e);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(ae.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}})}_readFooter(){return J(this,void 0,void 0,function*(){const{_handle:e}=this;e._pending&&(yield e._pending);const n=e.size-jv,r=yield e.readInt32(n),i=yield e.readAt(n-r,r);return Ws.decode(i)})}_readNextMessageAndValidate(e){return J(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=this._footer.getRecordBatch(this._recordBatchIndex);if(n&&(yield this._handle.seek(n.offset)))return yield this._reader.readMessage(e)}return null})}}class F2 extends Za{constructor(e,n){super(e,n)}_loadVectors(e,n,r){return new Vb(n,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}}function Uv(t,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:t.autoDestroy}function*Jh(t){const e=jt.from(t);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function Zh(t){return an(this,arguments,function*(){const n=yield Z(jt.from(t));try{if(!(yield Z(n.open({autoDestroy:!1}))).closed)do yield yield Z(n);while(!(yield Z(n.reset().open())).closed)}finally{yield Z(n.cancel())}})}function R2(t){return new Ka(new F2(t))}function C2(t){const e=t.peek(no+7&-8);return e&&e.byteLength>=4?zd(e)?new Mv(new Pv(t.read())):new Ka(new Za(t)):new Ka(new Za(function*(){}()))}function A2(t){return J(this,void 0,void 0,function*(){const e=yield t.peek(no+7&-8);return e&&e.byteLength>=4?zd(e)?new Mv(new Pv(yield t.read())):new Ja(new Xa(t)):new Ja(new Xa(function(){return an(this,arguments,function*(){})}()))})}function D2(t){return J(this,void 0,void 0,function*(){const{size:e}=yield t.stat(),n=new Ga(t,e);return e>=T2&&zd(yield n.readAt(0,no+7&-8))?new k2(new O2(n)):new Ja(new Xa(n))})}class Fe extends ee{static assemble(...e){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof ct?s.data.children:s.data),r=new Fe;return r.visitMany(n(e)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(e){if(e instanceof le)return this.visitMany(e.data),this;const{type:n}=e;if(!M.isDictionary(n)){const{length:r}=e;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(M.isUnion(n))this.nodes.push(new ur(r,0));else{const{nullCount:i}=e;M.isNull(n)||qt.call(this,i<=0?new Uint8Array(0):Va(e.offset,r,e.nullBitmap)),this.nodes.push(new ur(r,i))}}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function qt(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new ln(this._byteLength,e)),this._byteLength+=e,this}function L2(t){var e;const{type:n,length:r,typeIds:i,valueOffsets:s}=t;if(qt.call(this,i),n.mode===Je.Sparse)return Sc.call(this,t);if(n.mode===Je.Dense){if(t.offset<=0)return qt.call(this,s),Sc.call(this,t);{const o=new Int32Array(r),a=Object.create(null),l=Object.create(null);for(let u,d,h=-1;++h<r;)(u=i[h])!==void 0&&((d=a[u])===void 0&&(d=a[u]=s[h]),o[h]=s[h]-d,l[u]=((e=l[u])!==null&&e!==void 0?e:0)+1);qt.call(this,o),this.visitMany(t.children.map((u,d)=>{const h=n.typeIds[d],g=a[h],v=l[h];return u.slice(g,Math.min(r,v))}))}}return this}function j2(t){let e;return t.nullCount>=t.length?qt.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?qt.call(this,Va(t.offset,t.length,e)):qt.call(this,Wa(t.values))}function jn(t){return qt.call(this,t.values.subarray(0,t.length*t.stride))}function Il(t){const{length:e,values:n,valueOffsets:r}=t,i=ye(r[0]),s=ye(r[e]),o=Math.min(s-i,n.byteLength-i);return qt.call(this,Qm(-i,e+1,r)),qt.call(this,n.subarray(i,i+o)),this}function $d(t){const{length:e,valueOffsets:n}=t;if(n){const{[0]:r,[e]:i}=n;return qt.call(this,Qm(-r,e+1,n)),this.visit(t.children[0].slice(r,i-r))}return this.visit(t.children[0])}function Sc(t){return this.visitMany(t.type.children.map((e,n)=>t.children[n]).filter(Boolean))[0]}Fe.prototype.visitBool=j2;Fe.prototype.visitInt=jn;Fe.prototype.visitFloat=jn;Fe.prototype.visitUtf8=Il;Fe.prototype.visitLargeUtf8=Il;Fe.prototype.visitBinary=Il;Fe.prototype.visitLargeBinary=Il;Fe.prototype.visitFixedSizeBinary=jn;Fe.prototype.visitDate=jn;Fe.prototype.visitTimestamp=jn;Fe.prototype.visitTime=jn;Fe.prototype.visitDecimal=jn;Fe.prototype.visitList=$d;Fe.prototype.visitStruct=Sc;Fe.prototype.visitUnion=L2;Fe.prototype.visitInterval=jn;Fe.prototype.visitDuration=jn;Fe.prototype.visitFixedSizeList=$d;Fe.prototype.visitMap=$d;class zv extends Ad{static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}constructor(e){super(),this._position=0,this._started=!1,this._sink=new qo,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,yt(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return Fr(e)?e.then(n=>this.writeAll(n)):Bi(e)?Qd(this,e):Hd(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,n=null){return e===this._sink||e instanceof qo?this._sink=e:(this._sink=new qo,e&&hx(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&px(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(!n||!wc(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(e){let n=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof et&&!(n=e.schema))return this.finish()&&void 0;if(e instanceof ct&&!(n=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!wc(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}e instanceof ct?e instanceof Bd||this._writeRecordBatch(e):e instanceof et?this.writeAll(e.batches):Zs(e)&&this.writeAll(e)}_writeMessage(e,n=8){const r=n-1,i=nt.encode(e),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,l=a-s-o;return e.headerType===ae.RecordBatch?this._recordBatchBlocks.push(new ar(a,e.bodyLength,this._position)):e.headerType===ae.DictionaryBatch&&this._dictionaryBlocks.push(new ar(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(l)}_write(e){if(this._started){const n=re(e);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(e){return this._writeMessage(nt.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Hs)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Fe.assemble(e),o=new It(e.numRows,r,i),a=nt.from(o,n);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(e,n,r=!1){const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Fe.assemble(new le([e])),l=new It(e.length,s,o),u=new hn(l,n,r),d=nt.from(u,i);return this._writeMessage(d)._writeBodyBuffers(a)}_writeBodyBuffers(e){let n,r,i;for(let s=-1,o=e.length;++s<o;)(n=e[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(e){var n,r;for(const[i,s]of e.dictionaries){const o=(n=s==null?void 0:s.data)!==null&&n!==void 0?n:[],a=this._seenDictionaries.get(i),l=(r=this._dictionaryDeltaOffsets.get(i))!==null&&r!==void 0?r:0;if(!a||a.data[0]!==o[0])for(const[u,d]of o.entries())this._writeDictionaryBatch(d,i,u>0);else if(l<o.length)for(const u of o.slice(l))this._writeDictionaryBatch(u,i,!0);this._seenDictionaries.set(i,s),this._dictionaryDeltaOffsets.set(i,o.length)}return this}}class Vd extends zv{static writeAll(e,n){const r=new Vd(n);return Fr(e)?e.then(i=>r.writeAll(i)):Bi(e)?Qd(r,e):Hd(r,e)}}class Wd extends zv{static writeAll(e){const n=new Wd;return Fr(e)?e.then(r=>n.writeAll(r)):Bi(e)?Qd(n,e):Hd(n,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(e,n,r=!1){if(!r&&this._seenDictionaries.has(n))throw new Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch(e,n,r)}_writeFooter(e){const n=Ws.encode(new Ws(e,De.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function Hd(t,e){let n=e;e instanceof et&&(n=e.batches,t.reset(void 0,e.schema));for(const r of n)t.write(r);return t.finish()}function Qd(t,e){return J(this,void 0,void 0,function*(){var n,r,i,s,o,a,l;try{for(n=!0,r=Ir(e);i=yield r.next(),s=i.done,!s;n=!0){l=i.value,n=!1;const u=l;t.write(u)}}catch(u){o={error:u}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return t.finish()})}function M2(t,e="stream"){return(e==="stream"?Vd:Wd).writeAll(t).toUint8Array(!0)}var B2=Object.create,$v=Object.defineProperty,P2=Object.getOwnPropertyDescriptor,U2=Object.getOwnPropertyNames,z2=Object.getPrototypeOf,$2=Object.prototype.hasOwnProperty,V2=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),W2=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of U2(e))!$2.call(t,i)&&i!==n&&$v(t,i,{get:()=>e[i],enumerable:!(r=P2(e,i))||r.enumerable});return t},H2=(t,e,n)=>(n=t!=null?B2(z2(t)):{},W2(!t||!t.__esModule?$v(n,"default",{value:t,enumerable:!0}):n,t)),Q2=V2((t,e)=>{e.exports=Worker}),Y2=(t=>(t[t.UNDEFINED=0]="UNDEFINED",t[t.AUTOMATIC=1]="AUTOMATIC",t[t.READ_ONLY=2]="READ_ONLY",t[t.READ_WRITE=3]="READ_WRITE",t))(Y2||{}),q2=(t=>(t[t.IDENTIFIER=0]="IDENTIFIER",t[t.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",t[t.STRING_CONSTANT=2]="STRING_CONSTANT",t[t.OPERATOR=3]="OPERATOR",t[t.KEYWORD=4]="KEYWORD",t[t.COMMENT=5]="COMMENT",t))(q2||{}),G2=(t=>(t[t.NONE=0]="NONE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARNING=3]="WARNING",t[t.ERROR=4]="ERROR",t))(G2||{}),K2=(t=>(t[t.NONE=0]="NONE",t[t.CONNECT=1]="CONNECT",t[t.DISCONNECT=2]="DISCONNECT",t[t.OPEN=3]="OPEN",t[t.QUERY=4]="QUERY",t[t.INSTANTIATE=5]="INSTANTIATE",t))(K2||{}),J2=(t=>(t[t.NONE=0]="NONE",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR",t[t.START=3]="START",t[t.RUN=4]="RUN",t[t.CAPTURE=5]="CAPTURE",t))(J2||{}),Z2=(t=>(t[t.NONE=0]="NONE",t[t.WEB_WORKER=1]="WEB_WORKER",t[t.NODE_WORKER=2]="NODE_WORKER",t[t.BINDINGS=3]="BINDINGS",t[t.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",t))(Z2||{}),X2=class{constructor(t=2){this.level=t}log(t){t.level>=this.level&&console.log(t)}},eI=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.MAX_ARROW_ERROR=255]="MAX_ARROW_ERROR",t[t.DUCKDB_WASM_RETRY=256]="DUCKDB_WASM_RETRY",t))(eI||{}),tI=class{constructor(t,e){this._bindings=t,this._conn=e}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(t){return t(this._bindings,this._conn)}async query(t){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let e=await this._bindings.runQuery(this._conn,t),n=jt.from(e);return console.assert(n.isSync(),"Reader is not sync"),console.assert(n.isFile(),"Reader is not file"),new et(n)}async send(t,e=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let n=await this._bindings.startPendingQuery(this._conn,t,e);for(;n==null;){if(this._bindings.isDetached()){console.error("cannot send a message since the worker is not set!");return}n=await this._bindings.pollPendingQuery(this._conn)}let r=new Vv(this._bindings,this._conn,n),i=await jt.from(r);return console.assert(i.isAsync()),console.assert(i.isStream()),i}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(t){return await this._bindings.getTableNames(this._conn,t)}async prepare(t){let e=await this._bindings.createPrepared(this._conn,t);return new nI(this._bindings,this._conn,e)}async insertArrowTable(t,e){let n=M2(t,"stream");await this.insertArrowFromIPCStream(n,e)}async insertArrowFromIPCStream(t,e){await this._bindings.insertArrowFromIPCStream(this._conn,t,e)}async insertCSVFromPath(t,e){await this._bindings.insertCSVFromPath(this._conn,t,e)}async insertJSONFromPath(t,e){await this._bindings.insertJSONFromPath(this._conn,t,e)}},Vv=class{constructor(t,e,n){this.db=t,this.conn=e,this.header=n,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let t=null;for(this._inFlight!=null&&(t=await this._inFlight,this._inFlight=null);t==null;)t=await this.db.fetchQueryResults(this.conn);return this._depleted=t.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:t}}[Symbol.asyncIterator](){return this}},nI=class{constructor(t,e,n){this.bindings=t,this.connectionId=e,this.statementId=n}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...t){let e=await this.bindings.runPrepared(this.connectionId,this.statementId,t),n=jt.from(e);return console.assert(n.isSync()),console.assert(n.isFile()),new et(n)}async send(...t){let e=await this.bindings.sendPrepared(this.connectionId,this.statementId,t),n=new Vv(this.bindings,this.connectionId,e),r=await jt.from(n);return console.assert(r.isAsync()),console.assert(r.isStream()),r}},rI=(t=>(t.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",t.CLOSE_PREPARED="CLOSE_PREPARED",t.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",t.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",t.CONNECT="CONNECT",t.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",t.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",t.CREATE_PREPARED="CREATE_PREPARED",t.DISCONNECT="DISCONNECT",t.DROP_FILE="DROP_FILE",t.DROP_FILES="DROP_FILES",t.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",t.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",t.FLUSH_FILES="FLUSH_FILES",t.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",t.GET_TABLE_NAMES="GET_TABLE_NAMES",t.GET_VERSION="GET_VERSION",t.GLOB_FILE_INFOS="GLOB_FILE_INFOS",t.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",t.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",t.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",t.INSTANTIATE="INSTANTIATE",t.OPEN="OPEN",t.PING="PING",t.POLL_PENDING_QUERY="POLL_PENDING_QUERY",t.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",t.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",t.REGISTER_FILE_URL="REGISTER_FILE_URL",t.RESET="RESET",t.RUN_PREPARED="RUN_PREPARED",t.RUN_QUERY="RUN_QUERY",t.SEND_PREPARED="SEND_PREPARED",t.START_PENDING_QUERY="START_PENDING_QUERY",t.TOKENIZE="TOKENIZE",t))(rI||{}),iI=(t=>(t.CONNECTION_INFO="CONNECTION_INFO",t.ERROR="ERROR",t.FEATURE_FLAGS="FEATURE_FLAGS",t.FILE_BUFFER="FILE_BUFFER",t.FILE_INFOS="FILE_INFOS",t.FILE_SIZE="FILE_SIZE",t.FILE_STATISTICS="FILE_STATISTICS",t.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",t.LOG="LOG",t.PROGRESS_UPDATE="PROGRESS_UPDATE",t.OK="OK",t.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",t.QUERY_PLAN="QUERY_PLAN",t.QUERY_RESULT="QUERY_RESULT",t.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",t.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",t.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",t.REGISTERED_FILE="REGISTERED_FILE",t.SCRIPT_TOKENS="SCRIPT_TOKENS",t.SUCCESS="SUCCESS",t.TABLE_NAMES="TABLE_NAMES",t.VERSION_STRING="VERSION_STRING",t))(iI||{}),se=class{constructor(t,e){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=t,this.data=e,this.promise=new Promise((n,r)=>{this.promiseResolver=n,this.promiseRejecter=r})}};function Jo(t){switch(t.typeId){case y.Binary:return{sqlType:"binary"};case y.Bool:return{sqlType:"bool"};case y.Date:return{sqlType:"date"};case y.DateDay:return{sqlType:"date32[d]"};case y.DateMillisecond:return{sqlType:"date64[ms]"};case y.Decimal:{let e=t;return{sqlType:"decimal",precision:e.precision,scale:e.scale}}case y.Float:return{sqlType:"float"};case y.Float16:return{sqlType:"float16"};case y.Float32:return{sqlType:"float32"};case y.Float64:return{sqlType:"float64"};case y.Int:return{sqlType:"int32"};case y.Int16:return{sqlType:"int16"};case y.Int32:return{sqlType:"int32"};case y.Int64:return{sqlType:"int64"};case y.Uint16:return{sqlType:"uint16"};case y.Uint32:return{sqlType:"uint32"};case y.Uint64:return{sqlType:"uint64"};case y.Uint8:return{sqlType:"uint8"};case y.IntervalDayTime:return{sqlType:"interval[dt]"};case y.IntervalYearMonth:return{sqlType:"interval[m]"};case y.List:return{sqlType:"list",valueType:Jo(t.valueType)};case y.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:t.byteWidth};case y.Null:return{sqlType:"null"};case y.Utf8:return{sqlType:"utf8"};case y.Struct:return{sqlType:"struct",fields:t.children.map(e=>xc(e.name,e.type))};case y.Map:{let e=t;return{sqlType:"map",keyType:Jo(e.keyType),valueType:Jo(e.valueType)}}case y.Time:return{sqlType:"time[s]"};case y.TimeMicrosecond:return{sqlType:"time[us]"};case y.TimeMillisecond:return{sqlType:"time[ms]"};case y.TimeNanosecond:return{sqlType:"time[ns]"};case y.TimeSecond:return{sqlType:"time[s]"};case y.Timestamp:return{sqlType:"timestamp",timezone:t.timezone||void 0};case y.TimestampSecond:return{sqlType:"timestamp[s]",timezone:t.timezone||void 0};case y.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:t.timezone||void 0};case y.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:t.timezone||void 0};case y.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:t.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(t.toString()))}function xc(t,e){let n=Jo(e);return n.name=t,n}var sI=/'(opfs:\/\/\S*?)'/g,oI=/(opfs:\/\/\S*?)/g;function aI(t){return t.search(oI)>-1}function lI(t){return[...t.matchAll(sI)].map(e=>e[1])}var uI=new TextEncoder,cI=class{constructor(t,e=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._config={},this._logger=t,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),e!=null&&this.attach(e)}get logger(){return this._logger}get config(){return this._config}attach(t){this._worker=t,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((e,n)=>{this._workerShutdownResolver=e})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(t,e=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!:"+t.type+","+t.data);return}let n=this._nextMessageId++;return this._pendingRequests.set(n,t),this._worker.postMessage({messageId:n,type:t.type,data:t.data},e),await t.promise}onMessage(t){var e;let n=t.data;switch(n.type){case"PROGRESS_UPDATE":{for(let i of this._onExecutionProgress)i(n.data);return}case"LOG":{this._logger.log(n.data);return}case"INSTANTIATE_PROGRESS":{for(let i of this._onInstantiationProgress)i(n.data);return}}let r=this._pendingRequests.get(n.requestId);if(!r){console.warn("unassociated response: [".concat(n.requestId,", ").concat(n.type.toString(),"]"));return}if(this._pendingRequests.delete(n.requestId),n.type=="ERROR"){let i=new Error(n.data.message);i.name=n.data.name,(e=Object.getOwnPropertyDescriptor(i,"stack"))!=null&&e.writable&&(i.stack=n.data.stack),r.promiseRejecter(i);return}switch(r.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"REGISTER_OPFS_FILE_NAME":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(n.type=="OK"){r.promiseResolver(n.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],n.type=="OK"){r.promiseResolver(n.data);return}break;case"GLOB_FILE_INFOS":if(n.type=="FILE_INFOS"){r.promiseResolver(n.data);return}break;case"GET_VERSION":if(n.type=="VERSION_STRING"){r.promiseResolver(n.data);return}break;case"GET_FEATURE_FLAGS":if(n.type=="FEATURE_FLAGS"){r.promiseResolver(n.data);return}break;case"GET_TABLE_NAMES":if(n.type=="TABLE_NAMES"){r.promiseResolver(n.data);return}break;case"TOKENIZE":if(n.type=="SCRIPT_TOKENS"){r.promiseResolver(n.data);return}break;case"COPY_FILE_TO_BUFFER":if(n.type=="FILE_BUFFER"){r.promiseResolver(n.data);return}break;case"EXPORT_FILE_STATISTICS":if(n.type=="FILE_STATISTICS"){r.promiseResolver(n.data);return}break;case"CONNECT":if(n.type=="CONNECTION_INFO"){r.promiseResolver(n.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(n.type=="QUERY_RESULT"){r.promiseResolver(n.data);return}break;case"SEND_PREPARED":if(n.type=="QUERY_RESULT_HEADER"){r.promiseResolver(n.data);return}break;case"START_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){r.promiseResolver(n.data);return}break;case"POLL_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){r.promiseResolver(n.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],n.type=="SUCCESS"){r.promiseResolver(n.data);return}break;case"FETCH_QUERY_RESULTS":if(n.type=="QUERY_RESULT_CHUNK"){r.promiseResolver(n.data);return}break;case"CREATE_PREPARED":if(n.type=="PREPARED_STATEMENT_ID"){r.promiseResolver(n.data);return}break}r.promiseRejecter(new Error("unexpected response type: ".concat(n.type.toString())))}onError(t){console.error(t),console.error("error in duckdb worker: ".concat(t.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}isDetached(){return!this._worker}async reset(){let t=new se("RESET",null);return await this.postTask(t)}async ping(){let t=new se("PING",null);await this.postTask(t)}async dropFile(t){let e=new se("DROP_FILE",t);return await this.postTask(e)}async dropFiles(t){let e=new se("DROP_FILES",t);return await this.postTask(e)}async flushFiles(){let t=new se("FLUSH_FILES",null);return await this.postTask(t)}async instantiate(t,e=null,n=r=>{}){this._onInstantiationProgress.push(n);let r=new se("INSTANTIATE",[t,e]);return await this.postTask(r)}async getVersion(){let t=new se("GET_VERSION",null);return await this.postTask(t)}async getFeatureFlags(){let t=new se("GET_FEATURE_FLAGS",null);return await this.postTask(t)}async open(t){this._config=t;let e=new se("OPEN",t);await this.postTask(e)}async tokenize(t){let e=new se("TOKENIZE",t);return await this.postTask(e)}async connectInternal(){let t=new se("CONNECT",null);return await this.postTask(t)}async connect(){let t=await this.connectInternal();return new tI(this,t)}async disconnect(t){let e=new se("DISCONNECT",t);await this.postTask(e)}async runQuery(t,e){if(this.shouldOPFSFileHandling()){let n=await this.registerOPFSFileFromSQL(e);try{return await this._runQueryAsync(t,e)}finally{n.length>0&&await this.dropFiles(n)}}else return await this._runQueryAsync(t,e)}async _runQueryAsync(t,e){let n=new se("RUN_QUERY",[t,e]);return await this.postTask(n)}async startPendingQuery(t,e,n=!1){if(this.shouldOPFSFileHandling()){let r=await this.registerOPFSFileFromSQL(e);try{return await this._startPendingQueryAsync(t,e,n)}finally{r.length>0&&await this.dropFiles(r)}}else return await this._startPendingQueryAsync(t,e,n)}async _startPendingQueryAsync(t,e,n=!1){let r=new se("START_PENDING_QUERY",[t,e,n]);return await this.postTask(r)}async pollPendingQuery(t){let e=new se("POLL_PENDING_QUERY",t);return await this.postTask(e)}async cancelPendingQuery(t){let e=new se("CANCEL_PENDING_QUERY",t);return await this.postTask(e)}async fetchQueryResults(t){let e=new se("FETCH_QUERY_RESULTS",t);return await this.postTask(e)}async getTableNames(t,e){let n=new se("GET_TABLE_NAMES",[t,e]);return await this.postTask(n)}async createPrepared(t,e){let n=new se("CREATE_PREPARED",[t,e]);return await this.postTask(n)}async closePrepared(t,e){let n=new se("CLOSE_PREPARED",[t,e]);await this.postTask(n)}async runPrepared(t,e,n){let r=new se("RUN_PREPARED",[t,e,n]);return await this.postTask(r)}async sendPrepared(t,e,n){let r=new se("SEND_PREPARED",[t,e,n]);return await this.postTask(r)}async globFiles(t){let e=new se("GLOB_FILE_INFOS",t);return await this.postTask(e)}async registerFileText(t,e){let n=uI.encode(e);await this.registerFileBuffer(t,n)}async registerFileURL(t,e,n,r){e===void 0&&(e=t);let i=new se("REGISTER_FILE_URL",[t,e,n,r]);await this.postTask(i)}async registerEmptyFileBuffer(t){}async registerFileBuffer(t,e){let n=new se("REGISTER_FILE_BUFFER",[t,e]);await this.postTask(n,[e.buffer])}async registerFileHandle(t,e,n,r){let i=new se("REGISTER_FILE_HANDLE",[t,e,n,r]);await this.postTask(i,[])}async registerOPFSFileName(t){let e=new se("REGISTER_OPFS_FILE_NAME",[t]);await this.postTask(e,[])}async collectFileStatistics(t,e){let n=new se("COLLECT_FILE_STATISTICS",[t,e]);await this.postTask(n,[])}async exportFileStatistics(t){let e=new se("EXPORT_FILE_STATISTICS",t);return await this.postTask(e,[])}async copyFileToBuffer(t){let e=new se("COPY_FILE_TO_BUFFER",t);return await this.postTask(e)}async copyFileToPath(t,e){let n=new se("COPY_FILE_TO_PATH",[t,e]);await this.postTask(n)}async insertArrowFromIPCStream(t,e,n){if(e.length==0)return;let r=new se("INSERT_ARROW_FROM_IPC_STREAM",[t,e,n]);await this.postTask(r,[e.buffer])}async insertCSVFromPath(t,e,n){if(n.columns!==void 0){let i=[];for(let s in n.columns){let o=n.columns[s];i.push(xc(s,o))}n.columnsFlat=i,delete n.columns}let r=new se("IMPORT_CSV_FROM_PATH",[t,e,n]);await this.postTask(r)}async insertJSONFromPath(t,e,n){if(n.columns!==void 0){let i=[];for(let s in n.columns){let o=n.columns[s];i.push(xc(s,o))}n.columnsFlat=i,delete n.columns}let r=new se("IMPORT_JSON_FROM_PATH",[t,e,n]);await this.postTask(r)}shouldOPFSFileHandling(){var t,e;return aI((t=this.config.path)!=null?t:"")?((e=this.config.opfs)==null?void 0:e.fileHandling)=="auto":!1}async registerOPFSFileFromSQL(t){let e=lI(t),n=[];for(let r of e)try{await this.registerOPFSFileName(r),n.push(r)}catch(i){throw console.error(i),new Error("File Not found:"+r)}return n}};function dI(){let t=new TextDecoder;return e=>(typeof SharedArrayBuffer<"u"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode(e))}dI();var fI=(t=>(t[t.BUFFER=0]="BUFFER",t[t.NODE_FS=1]="NODE_FS",t[t.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",t[t.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",t[t.HTTP=4]="HTTP",t[t.S3=5]="S3",t))(fI||{}),hI=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),pI=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),yI=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),mI=()=>(async t=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),Yd={name:"@duckdb/duckdb-wasm",version:"1.33.1-dev18.0"},gI=Yd.name,vI=Yd.version,qd=Yd.version.split(".");qd[0];qd[1];qd[2];var wI=()=>typeof navigator>"u";function _I(){let t="https://cdn.jsdelivr.net/npm/".concat(gI,"@").concat(vI,"/dist/");return{mvp:{mainModule:"".concat(t,"duckdb-mvp.wasm"),mainWorker:"".concat(t,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(t,"duckdb-eh.wasm"),mainWorker:"".concat(t,"duckdb-browser-eh.worker.js")}}}var au=null,lu=null,uu=null,cu=null,du=null;async function SI(){return au==null&&(au=typeof BigInt64Array<"u"),lu==null&&(lu=await pI()),uu==null&&(uu=await mI()),cu==null&&(cu=await yI()),du==null&&(du=await hI()),{bigInt64Array:au,crossOriginIsolated:wI()||globalThis.crossOriginIsolated||!1,wasmExceptions:lu,wasmSIMD:cu,wasmThreads:uu,wasmBulkMemory:du}}async function xI(t){let e=await SI();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&t.coi)return{mainModule:t.coi.mainModule,mainWorker:t.coi.mainWorker,pthreadWorker:t.coi.pthreadWorker};if(t.eh)return{mainModule:t.eh.mainModule,mainWorker:t.eh.mainWorker,pthreadWorker:null}}return{mainModule:t.mvp.mainModule,mainWorker:t.mvp.mainWorker,pthreadWorker:null}}H2(Q2());let fu=null,Pr=null;const bI=async()=>{if(Pr)return Pr;try{const t=_I(),e=await xI(t),n=URL.createObjectURL(new Blob([`importScripts("${e.mainWorker}");`],{type:"text/javascript"})),r=new Worker(n),i=new X2;return fu=new cI(i,r),await fu.instantiate(e.mainModule,e.pthreadWorker),Pr=await fu.connect(),await Pr.query("INSTALL json;"),await Pr.query("LOAD json;"),Pr}catch(t){throw console.error("Failed to initialize DuckDB:",t),t}},Wv=t=>{var e;return((e=t.split(".").pop())==null?void 0:e.toLowerCase())||""},II=async(t,e,n)=>{const r=Wv(e),i=`data_${Date.now()}`;try{switch(r){case"csv":case"tsv":await t.query(`
          CREATE TEMP TABLE ${i} AS 
          SELECT * FROM read_csv_auto('data:text/csv;base64,${btoa(n)}')
        `);break;case"json":case"jsonl":try{const o=JSON.parse(n);if(Array.isArray(o)){if(o.length>0){const a=Object.keys(o[0]).map(l=>`"${l}" VARCHAR`).join(", ");await t.query(`CREATE TEMP TABLE ${i} (${a})`);for(const l of o.slice(0,1e4)){const u=Object.keys(l).map(h=>`"${h}"`).join(", "),d=Object.values(l).map(h=>typeof h=="string"?`'${h.replace(/'/g,"''")}'`:h===null?"NULL":String(h)).join(", ");await t.query(`INSERT INTO ${i} (${u}) VALUES (${d})`)}}}else if(typeof o=="object"&&o!==null){const a=Object.keys(o).map(d=>`"${d}" VARCHAR`).join(", ");await t.query(`CREATE TEMP TABLE ${i} (${a})`);const l=Object.keys(o).map(d=>`"${d}"`).join(", "),u=Object.values(o).map(d=>typeof d=="string"?`'${d.replace(/'/g,"''")}'`:d===null?"NULL":String(d)).join(", ");await t.query(`INSERT INTO ${i} (${l}) VALUES (${u})`)}}catch{await t.query(`CREATE TEMP TABLE ${i} (content VARCHAR)`),await t.query(`INSERT INTO ${i} VALUES ('${n.replace(/'/g,"''")}')`)}break;case"parquet":await t.query(`
          CREATE TEMP TABLE ${i} AS 
          SELECT * FROM parquet_scan('data:application/octet-stream;base64,${btoa(n)}')
        `);break;default:await t.query(`CREATE TEMP TABLE ${i} (content VARCHAR)`);const s=n.split(`
`);for(const o of s.slice(0,1e4))await t.query(`INSERT INTO ${i} VALUES ('${o.replace(/'/g,"''")}')`)}return i}catch(s){console.error("Error creating temp table:",s),await t.query(`CREATE TEMP TABLE ${i} (content VARCHAR)`);const o=n.split(`
`).slice(0,1e3);for(const a of o)await t.query(`INSERT INTO ${i} VALUES ('${a.replace(/'/g,"''")}')`);return i}},EI=async(t,e,n)=>{const r=performance.now();try{const i=await bI(),s=await II(i,e,n);let o=t.replace(/FROM\s+['"]data\.\w+['"]/gi,`FROM ${s}`).replace(/FROM\s+['"][^'"]+\.\w+['"]/gi,`FROM ${s}`).replace(/FROM\s+data/gi,`FROM ${s}`).replace(/DESCRIBE\s+['"][^'"]+['"]/gi,`DESCRIBE ${s}`);o.toLowerCase().includes("from")||(o=`SELECT * FROM ${s}`);const a=await i.query(o),l=a.toArray(),u=a.schema.fields.map(h=>h.name);await i.query(`DROP TABLE IF EXISTS ${s}`);const d=performance.now()-r;return{success:!0,data:l.map(h=>{const g={};return u.forEach(v=>{g[v]=h[v]}),g}),columns:u,executionTime:d}}catch(i){const s=performance.now()-r;return{success:!1,error:i instanceof Error?i.message:String(i),executionTime:s}}},NI=t=>{switch(Wv(t)){case"csv":case"tsv":return`-- Query CSV data
SELECT * FROM 'data.csv' LIMIT 100;

-- Count rows
-- SELECT COUNT(*) FROM 'data.csv';

-- Describe schema
-- DESCRIBE 'data.csv';`;case"json":case"jsonl":return`-- Query JSON data
SELECT * FROM 'data.json';

-- Get specific fields
-- SELECT key, value FROM 'data.json';`;case"parquet":return`-- Query Parquet data
SELECT * FROM 'data.parquet' LIMIT 100;

-- Describe schema
-- DESCRIBE 'data.parquet';`;default:return`-- Write your SQL query here
SELECT * FROM data;`}},TI=(t,e)=>{if(!t.length)return"";const n=e.join(","),r=t.map(i=>e.map(s=>{const o=i[s];if(o==null)return"";const a=String(o);return a.includes(",")||a.includes('"')||a.includes(`
`)?`"${a.replace(/"/g,'""')}"`:a}).join(","));return[n,...r].join(`
`)},kI=t=>JSON.stringify(t,null,2),OI=({results:t})=>{const[e,n]=O.useState("table"),[r,i]=O.useState(null),[s,o]=O.useState("asc"),[a,l]=O.useState(""),[u,d]=O.useState(1),h=100;if(!t)return c.jsx("div",{className:"flex items-center justify-center h-full text-text-secondary text-sm",children:c.jsxs("div",{className:"text-center",children:[c.jsx(gh,{size:32,className:"mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"Run a query to see results"})]})});if(t.error)return c.jsxs("div",{className:"flex flex-col h-full p-4",children:[c.jsxs("div",{className:"bg-red-500 bg-opacity-10 border border-red-500 rounded-lg p-4",children:[c.jsxs("h3",{className:"text-red-500 font-medium mb-2 flex items-center gap-2",children:[c.jsx(vl,{size:16}),"Error"]}),c.jsx("pre",{className:"text-red-400 text-sm whitespace-pre-wrap font-mono",children:t.error})]}),c.jsxs("div",{className:"text-text-secondary text-xs mt-2 text-right",children:["Execution time: ",(t.executionTime/1e3).toFixed(3),"s"]})]});const g=O.useMemo(()=>t.type==="python"?t.plot?"plot":t.output?"text":Array.isArray(t.result)&&t.result.length>0?"json":"text":e,[t,e]),v=_=>{r===_?o(s==="asc"?"desc":"asc"):(i(_),o("asc"))},w=O.useMemo(()=>{let _=t.data||t.result||[];if(Array.isArray(_)||(_=[_]),a){const N=a.toLowerCase();_=_.filter(T=>Object.values(T).some(R=>String(R).toLowerCase().includes(N)))}return r&&t.columns&&(_=[..._].sort((N,T)=>{const R=N[r],b=T[r];return R<b?s==="asc"?-1:1:R>b?s==="asc"?1:-1:0})),_},[t,a,r,s]),S=Math.ceil(w.length/h),k=w.slice((u-1)*h,u*h),p=()=>{if(t.columns&&t.data){const _=TI(t.data,t.columns);m(_,"results.csv","text/csv")}},f=()=>{const _=t.data||t.result;if(_){const N=kI(Array.isArray(_)?_:[_]);m(N,"results.json","application/json")}},m=(_,N,T)=>{const R=new Blob([_],{type:T}),b=URL.createObjectURL(R),L=document.createElement("a");L.href=b,L.download=N,document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(b)},x=t.columns||(w.length>0?Object.keys(w[0]):[]),E=w.length;return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-border-color bg-secondary",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[t.type==="sql"&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>n("table"),className:`flex items-center gap-1.5 px-2 py-1 rounded text-xs transition-colors ${e==="table"?"bg-accent text-white":"hover:bg-tertiary"}`,children:[c.jsx(D_,{size:14}),"Table"]}),c.jsxs("button",{onClick:()=>n("json"),className:`flex items-center gap-1.5 px-2 py-1 rounded text-xs transition-colors ${e==="json"?"bg-accent text-white":"hover:bg-tertiary"}`,children:[c.jsx(Nm,{size:14}),"JSON"]})]}),(t.type==="python"||t.output)&&c.jsxs("button",{onClick:()=>n("text"),className:`flex items-center gap-1.5 px-2 py-1 rounded text-xs transition-colors ${e==="text"?"bg-accent text-white":"hover:bg-tertiary"}`,children:[c.jsx(gh,{size:14}),"Output"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[e==="table"&&c.jsxs("div",{className:"relative",children:[c.jsx(gl,{size:14,className:"absolute left-2 top-1/2 -translate-y-1/2 text-text-secondary"}),c.jsx("input",{type:"text",placeholder:"Filter...",value:a,onChange:_=>l(_.target.value),className:"pl-7 pr-3 py-1 text-xs bg-tertiary rounded border-none outline-none focus:ring-1 focus:ring-accent w-32"})]}),c.jsxs("button",{onClick:p,className:"flex items-center gap-1.5 px-2 py-1 rounded text-xs hover:bg-tertiary transition-colors",title:"Export as CSV",children:[c.jsx(fh,{size:14}),"CSV"]}),c.jsxs("button",{onClick:f,className:"flex items-center gap-1.5 px-2 py-1 rounded text-xs hover:bg-tertiary transition-colors",title:"Export as JSON",children:[c.jsx(fh,{size:14}),"JSON"]})]})]}),c.jsx("div",{className:"flex-1 overflow-auto",children:g==="table"&&x.length>0?c.jsxs("table",{className:"w-full text-xs",children:[c.jsx("thead",{className:"bg-tertiary sticky top-0",children:c.jsx("tr",{children:x.map(_=>c.jsx("th",{onClick:()=>v(_),className:"text-left px-3 py-2 font-medium text-text-secondary cursor-pointer hover:bg-active select-none whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center gap-1",children:[_,r===_&&(s==="asc"?c.jsx(m_,{size:12}):c.jsx(wd,{size:12}))]})},_))})}),c.jsx("tbody",{children:k.map((_,N)=>c.jsx("tr",{className:N%2===0?"bg-primary":"bg-secondary",children:x.map(T=>c.jsx("td",{className:"px-3 py-2 border-t border-border-color whitespace-nowrap overflow-hidden text-ellipsis max-w-[200px]",title:String(_[T]),children:_[T]===null||_[T]===void 0?c.jsx("span",{className:"text-text-secondary italic",children:"null"}):String(_[T])},T))},N))})]}):g==="plot"&&t.plot?c.jsx("div",{className:"flex items-center justify-center h-full p-4",children:c.jsx("img",{src:`data:image/png;base64,${t.plot}`,alt:"Plot",className:"max-w-full max-h-full"})}):g==="json"?c.jsx("pre",{className:"p-4 text-xs font-mono whitespace-pre-wrap",children:JSON.stringify(t.result||t.data,null,2)}):c.jsx("pre",{className:"p-4 text-xs font-mono whitespace-pre-wrap",children:t.output||(t.result!==void 0?String(t.result):"No output")})}),c.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 border-t border-border-color bg-secondary text-xs text-text-secondary",children:[c.jsx("div",{children:E>0&&c.jsxs("span",{children:[E," ",E===1?"row":"rows",S>1&&`  Page ${u} of ${S}`]})}),c.jsxs("div",{className:"flex items-center gap-3",children:[S>1&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:()=>d(_=>Math.max(1,_-1)),disabled:u===1,className:"px-2 py-0.5 rounded hover:bg-tertiary disabled:opacity-30",children:""}),c.jsx("span",{className:"px-2",children:u}),c.jsx("button",{onClick:()=>d(_=>Math.min(S,_+1)),disabled:u===S,className:"px-2 py-0.5 rounded hover:bg-tertiary disabled:opacity-30",children:""})]}),c.jsxs("span",{children:[(t.executionTime/1e3).toFixed(3),"s"]})]})]})]})};let gr=null,hu=!1,No=null;const bc=async()=>gr||No||(hu=!0,No=new Promise(async(t,e)=>{try{const{loadPyodide:n}=await ki(async()=>{const{loadPyodide:i}=await import("./pyodide-CVb9Dgnh.js");return{loadPyodide:i}},[]);gr=await n({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.25.0/full/",stdout:i=>console.log("[Python]",i),stderr:i=>console.error("[Python]",i)}),await gr.loadPackage(["pandas","numpy","micropip"]),await gr.runPythonAsync(`
        import micropip
        await micropip.install(['pyyaml'])
      `),hu=!1,t(gr)}catch(n){hu=!1,console.error("Failed to initialize Pyodide:",n),e(n)}}),No),Hv=t=>{var e;return((e=t.split(".").pop())==null?void 0:e.toLowerCase())||""},FI=async(t,e,n,r)=>{const i=Hv(e);t.globals.set("__raw_content__",n),t.globals.set("__file_path__",e),t.globals.set("__file_extension__",i),t.globals.set("load_json",s=>{const o=s||t.globals.get("__raw_content__");try{return JSON.parse(o)}catch(a){throw new Error(`Invalid JSON: ${a}`)}}),t.globals.set("load_csv",s=>{t.runPythonAsync(`
      import pandas as pd
      import io
      
      csv_content = __raw_content__ if not ${s?`'${s}'`:"None"} else '${s}'
      df = pd.read_csv(io.StringIO(csv_content))
      df
    `)}),t.globals.set("save",s=>{if(r){let o;typeof s=="string"?o=s:o=JSON.stringify(s,null,2),r(o)}}),t.globals.set("load_yaml",s=>{const o=s||t.globals.get("__raw_content__");return t.runPythonAsync(`
      import yaml
      yaml.safe_load('''${o.replace(/'/g,"'\\''")}''')
    `)}),t.globals.set("load_xml",s=>{const o=s||t.globals.get("__raw_content__");return t.runPythonAsync(`
      import xml.etree.ElementTree as ET
      root = ET.fromstring('''${o.replace(/'/g,"'\\''")}''')
      root
    `)}),await t.runPythonAsync(`
# Set up the environment
import json
import re
import sys
from io import StringIO

# Capture output
_output_buffer = StringIO()
_original_stdout = sys.stdout
sys.stdout = _output_buffer

# Content variable
content = __raw_content__
file_path = __file_path__
file_ext = __file_extension__

# Auto-load based on file extension
if file_ext == 'json':
    try:
        data = json.loads(content)
    except:
        data = None
elif file_ext in ['csv', 'tsv']:
    try:
        import pandas as pd
        from io import StringIO as _StringIO
        data = pd.read_csv(_StringIO(content))
    except:
        data = None
else:
    data = content
`)},RI=async(t,e,n,r)=>{const i=performance.now();try{const s=await bc();await FI(s,e,n,r),await s.runPythonAsync(`
_output_buffer.truncate(0)
_output_buffer.seek(0)
`);let o=await s.runPythonAsync(t);const a=await s.runPythonAsync("_output_buffer.getvalue()");let l=null,u=null;if(o!=null){const h=await s.runPythonAsync(`
import matplotlib
result_type = type(result).__name__
module_name = type(result).__module__ if hasattr(type(result), '__module__') else ''
is_figure = 'matplotlib' in module_name and 'Figure' in result_type
is_axes = 'matplotlib' in module_name and 'Axes' in result_type
result_type, is_figure, is_axes
`);if(h&&(h[1]||h[2]))u=await s.runPythonAsync(`
import matplotlib.pyplot as plt
import io
import base64

# Get the current figure
if 'Axes' in str(type(result)):
    fig = result.figure
else:
    fig = result

# Save to buffer
buf = io.BytesIO()
fig.savefig(buf, format='png', bbox_inches='tight', dpi=100)
buf.seek(0)
img_base64 = base64.b64encode(buf.read()).decode('utf-8')
plt.close(fig)
img_base64
`);else try{l=await s.runPythonAsync(`
import pandas as pd
import json

if isinstance(result, pd.DataFrame):
    result.to_dict('records')
elif isinstance(result, (list, dict, str, int, float, bool)):
    result
else:
    str(result)
`)}catch{l=String(o)}}const d=performance.now()-i;return{success:!0,result:l,output:a||void 0,executionTime:d,plot:u||void 0}}catch(s){const o=performance.now()-i;return{success:!1,error:s instanceof Error?s.message:String(s),executionTime:o}}},CI=t=>{switch(Hv(t)){case"json":return`# Python script for JSON data
import json

# 'content' contains the raw file content
# 'data' is auto-loaded for JSON files

print(f"Type: {type(data)}")
if isinstance(data, dict):
    print(f"Keys: {list(data.keys())}")
    print(f"Items: {len(data)}")
elif isinstance(data, list):
    print(f"Items: {len(data)}")
    print(f"\\nFirst {min(5, len(data))} items:")
    for item in data[:5]:
        print(item)

# Access the raw content if needed
# parsed = json.loads(content)

# Save changes back to file
# save(data)`;case"csv":case"tsv":return`# Python script for CSV data
import pandas as pd

# 'data' is auto-loaded as a pandas DataFrame
print(f"Shape: {data.shape}")
print(f"\\nColumns: {list(data.columns)}")
print(f"\\nFirst 5 rows:")
print(data.head())

# Filter data
# filtered = data[data['column_name'] > 100]

# Save changes back
# save(data.to_csv(index=False))`;case"yaml":case"yml":return`# Python script for YAML data
import yaml

# Parse YAML content
data = yaml.safe_load(content)

print(f"Type: {type(data)}")
if isinstance(data, dict):
    print(f"Keys: {list(data.keys())}")
    
# Save changes back
# save(yaml.dump(data, default_flow_style=False))`;case"xml":return`# Python script for XML data
import xml.etree.ElementTree as ET

# Parse XML
root = ET.fromstring(content)

print(f"Root tag: {root.tag}")
print(f"Root attributes: {root.attrib}")

# Iterate over elements
for child in root[:5]:
    print(f"  {child.tag}: {child.attrib}")`;case"txt":case"log":return`# Python script for text/log files
import re

# 'content' contains the raw text
lines = content.split('\\n')
print(f"Total lines: {len(lines)}")

# Example: Search for patterns
# matches = re.findall(r'ERROR.*', content)
# print(f"Errors found: {len(matches)}")

# Example: Count words
words = content.split()
print(f"Total words: {len(words)}")

# Example: Filter lines
# filtered = [line for line in lines if 'keyword' in line]`;default:return`# Python script
# 'content' contains the raw file content
# 'file_path' contains the full file path
# 'file_ext' contains the file extension

print(f"File: {file_path}")
print(f"Content length: {len(content)} characters")

# Write your code here
`}},Xh=()=>gr!==null,AI=()=>{var q;const{activeTabId:t,tabs:e,queryPanelOpen:n,queryLanguage:r,queryPanelHeight:i,toggleQueryPanel:s,setQueryLanguage:o,setQueryPanelHeight:a}=Se(),[l,u]=O.useState(""),[d,h]=O.useState(null),[g,v]=O.useState(!1),[w,S]=O.useState([]),[k,p]=O.useState([]),[f,m]=O.useState(!1),[x,E]=O.useState(!1),[_,N]=O.useState(!1),T=O.useRef(null),R=O.useRef(null),b=O.useRef(null),L=e.find(I=>I.id===t);O.useEffect(()=>{r==="python"&&!Xh()&&!_&&(N(!0),bc().then(()=>{N(!1)}).catch(I=>{console.error("Failed to load Pyodide:",I),N(!1)}))},[r,_]),O.useEffect(()=>{if(L&&n){const I=r==="sql"?NI(L.path):CI(L.path);u(I),h(null)}},[t,r,n]),O.useEffect(()=>{var Ee;const I=Re=>{if(!b.current||!R.current)return;const pn=window.innerHeight-Re.clientY,Lr=Math.max(150,Math.min(600,pn));a(Lr)},D=()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",D)},ie=()=>{document.addEventListener("mousemove",I),document.addEventListener("mouseup",D)};return(Ee=b.current)==null||Ee.addEventListener("mousedown",ie),()=>{var Re;(Re=b.current)==null||Re.removeEventListener("mousedown",ie)}},[a]),O.useEffect(()=>{const I=D=>{(D.ctrlKey||D.metaKey)&&D.shiftKey&&D.key==="Q"&&(D.preventDefault(),s()),(D.ctrlKey||D.metaKey)&&D.key==="Enter"&&n&&(D.preventDefault(),Ie())};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[n,s,l,L,r]);const Ie=async()=>{var I;if(!(!L||!l.trim()||g)){v(!0),h(null);try{let D;if(r==="sql"){const ie=await EI(l,L.path,L.content);D={type:"sql",...ie,rowCount:(I=ie.data)==null?void 0:I.length}}else!Xh()&&!_&&(N(!0),await bc(),N(!1)),D={type:"python",...await RI(l,L.path,L.content,Ee=>{const{updateTabContent:Re}=Se.getState();Re(L.id,Ee)})};h(D),D.success&&je(l,r,L.path)}catch(D){h({type:r,success:!1,error:D instanceof Error?D.message:"Unknown error",executionTime:0})}finally{v(!1)}}},je=(I,D,ie)=>{const Ee={id:Date.now().toString(),query:I,language:D,timestamp:Date.now(),filePath:ie};S(Re=>[Ee,...Re].slice(0,50))},Tt=()=>{if(!l.trim())return;const I=prompt("Enter a name for this query:");if(I){const D={id:Date.now().toString(),name:I,query:l,language:r};p(ie=>[...ie,D])}},G=I=>{p(D=>D.filter(ie=>ie.id!==I))},A=I=>{u(I.query),o(I.language),m(!1)},me=I=>{u(I.query),o(I.language),E(!1)},C=()=>{confirm("Clear all query history?")&&S([])};if(!n)return null;const B=L&&(r==="sql"?["csv","tsv","json","jsonl","parquet"].includes(((q=L.path.split(".").pop())==null?void 0:q.toLowerCase())||""):!0);return c.jsxs("div",{ref:R,className:"border-t border-border-color bg-primary flex flex-col",style:{height:i},children:[c.jsx("div",{ref:b,className:"h-1 cursor-row-resize hover:bg-accent transition-colors flex items-center justify-center",children:c.jsx("div",{className:"w-8 h-0.5 bg-border-color rounded-full"})}),c.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[c.jsxs("div",{className:"w-1/2 min-w-[300px] flex flex-col border-r border-border-color",children:[c.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-border-color bg-secondary",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:r,onChange:I=>o(I.target.value),className:"appearance-none bg-tertiary text-xs px-3 py-1.5 pr-8 rounded cursor-pointer outline-none focus:ring-1 focus:ring-accent",children:[c.jsx("option",{value:"sql",children:"SQL (DuckDB)"}),c.jsx("option",{value:"python",children:"Python"})]}),c.jsx(wd,{size:12,className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-text-secondary"})]}),c.jsxs("button",{onClick:()=>m(!f),className:`p-1.5 rounded transition-colors relative ${f?"bg-accent text-white":"hover:bg-tertiary"}`,title:"Query History",children:[c.jsx(E_,{size:14}),w.length>0&&c.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[10px] flex items-center justify-center",children:w.length})]}),c.jsxs("button",{onClick:()=>E(!x),className:`p-1.5 rounded transition-colors relative ${x?"bg-accent text-white":"hover:bg-tertiary"}`,title:"Saved Queries",children:[c.jsx(p_,{size:14}),k.length>0&&c.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-accent rounded-full text-[10px] flex items-center justify-center",children:k.length})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:Tt,disabled:!l.trim(),className:"flex items-center gap-1 px-2 py-1 text-xs rounded hover:bg-tertiary disabled:opacity-30 transition-colors",title:"Save Query",children:c.jsx(Fm,{size:12})}),c.jsxs("button",{onClick:Ie,disabled:!B||g,className:"flex items-center gap-1.5 px-3 py-1.5 bg-accent hover:bg-accent/90 disabled:opacity-50 text-white text-xs rounded transition-colors",children:[g?c.jsx(ph,{size:14,className:"animate-spin"}):c.jsx(R_,{size:14}),"Run",c.jsx("span",{className:"text-white/70",children:""})]})]})]}),c.jsxs("div",{className:"flex-1 relative",children:[_&&c.jsx("div",{className:"absolute inset-0 bg-primary/90 z-10 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(ph,{size:24,className:"animate-spin mx-auto mb-2 text-accent"}),c.jsx("p",{className:"text-sm text-text-secondary",children:"Loading Python environment..."})]})}),c.jsx(_d,{height:"100%",language:r==="sql"?"sql":"python",value:l,onChange:I=>u(I||""),theme:Se.getState().theme==="light"?"light":"vs-dark",options:{minimap:{enabled:!1},lineNumbers:"on",fontSize:13,wordWrap:"on",automaticLayout:!0,scrollBeyondLastLine:!1,suggestOnTriggerCharacters:!0,quickSuggestions:!0},onMount:I=>{var D,ie,Ee,Re;T.current=I,I.addCommand(((ie=(D=window.monaco)==null?void 0:D.KeyMod)==null?void 0:ie.CtrlCmd)|((Re=(Ee=window.monaco)==null?void 0:Ee.KeyCode)==null?void 0:Re.Enter),Ie)}})]}),(f||x)&&c.jsxs("div",{className:"absolute left-0 top-[41px] w-80 max-h-96 bg-secondary border border-border-color rounded-lg shadow-lg z-20 overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-border-color",children:[c.jsx("span",{className:"text-sm font-medium",children:f?"Query History":"Saved Queries"}),c.jsx("button",{onClick:()=>f?m(!1):E(!1),className:"p-1 hover:bg-tertiary rounded",children:c.jsx(vl,{size:14})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:f?w.length===0?c.jsx("div",{className:"p-4 text-center text-text-secondary text-sm",children:"No queries yet"}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex justify-end p-2",children:c.jsxs("button",{onClick:C,className:"text-xs text-red-400 hover:text-red-300 flex items-center gap-1",children:[c.jsx(vh,{size:12}),"Clear All"]})}),w.map(I=>c.jsxs("button",{onClick:()=>A(I),className:"w-full text-left p-2 hover:bg-tertiary border-b border-border-color last:border-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:`text-[10px] px-1.5 rounded ${I.language==="sql"?"bg-blue-500/20 text-blue-400":"bg-yellow-500/20 text-yellow-400"}`,children:I.language.toUpperCase()}),c.jsx("span",{className:"text-xs text-text-secondary",children:new Date(I.timestamp).toLocaleString()})]}),c.jsx("pre",{className:"text-xs truncate font-mono",children:I.query})]},I.id))]}):k.length===0?c.jsx("div",{className:"p-4 text-center text-text-secondary text-sm",children:"No saved queries"}):k.map(I=>c.jsxs("div",{className:"p-2 hover:bg-tertiary border-b border-border-color last:border-0 group",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("button",{onClick:()=>me(I),className:"flex-1 text-left font-medium text-sm",children:I.name}),c.jsx("button",{onClick:()=>G(I.id),className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-red-500/20 rounded text-red-400 transition-opacity",children:c.jsx(vh,{size:12})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`text-[10px] px-1.5 rounded ${I.language==="sql"?"bg-blue-500/20 text-blue-400":"bg-yellow-500/20 text-yellow-400"}`,children:I.language.toUpperCase()}),c.jsx("pre",{className:"text-xs truncate font-mono text-text-secondary",children:I.query})]})]},I.id))})]})]}),c.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:c.jsx(OI,{results:d})})]})]})};function DI(){const{isSidebarOpen:t,isZenMode:e,isSettingsOpen:n,queryPanelOpen:r,toggleSidebar:i,openCommandPalette:s,toggleSettings:o,toggleQueryPanel:a,addTab:l,tabs:u}=Se(),{openFile:d,openFolder:h,getFileLanguage:g}=Cn();return Mr("mod+o",async()=>{const v=await d();v&&l({path:v.path,name:v.name,content:v.content,isDirty:!1,language:g(v.path)})}),Mr("mod+shift+o",h),Mr("mod+b",i),Mr("mod+shift+p",s),Mr("mod+,",o),Mr("mod+shift+q",a),O.useEffect(()=>{const v=Se.getState().theme;if(document.documentElement.classList.remove("dark","light"),v==="system"){const w=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.add(w?"dark":"light")}else document.documentElement.classList.add(v)},[]),c.jsxs("div",{className:`flex h-screen w-screen overflow-hidden ${e?"zen-mode":""}`,children:[!e&&t&&c.jsx(U_,{}),c.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[!e&&c.jsx(H_,{}),c.jsx("div",{className:`relative ${r?"flex-1 min-h-0":"flex-1"}`,children:u.length===0?c.jsx(LI,{onOpenFile:d,onOpenFolder:h}):c.jsx(ex,{})}),r&&!e&&c.jsx(AI,{}),!e&&c.jsx(nx,{})]}),c.jsx(rx,{}),n&&c.jsx(ix,{onClose:o})]})}function LI({onOpenFile:t,onOpenFolder:e}){const{addTab:n}=Se(),{getFileLanguage:r}=Cn(),{recentFiles:i}=Se(),s=async()=>{const o=await t();o&&n({path:o.path,name:o.name,content:o.content,isDirty:!1,language:r(o.path)})};return c.jsx("div",{className:"flex flex-col items-center justify-center h-full bg-primary",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-5xl font-light mb-4 text-accent",children:"OpenText"}),c.jsx("p",{className:"text-text-secondary mb-8 text-lg",children:"A modern, fast text editor"}),c.jsxs("div",{className:"flex gap-4 mb-12",children:[c.jsxs("button",{onClick:s,className:"px-6 py-3 bg-tertiary hover:bg-active rounded-lg transition-colors flex items-center gap-2",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Open File"}),c.jsx("span",{className:"text-text-secondary text-sm ml-2",children:"O"})]}),c.jsxs("button",{onClick:e,className:"px-6 py-3 bg-tertiary hover:bg-active rounded-lg transition-colors flex items-center gap-2",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Open Folder"}),c.jsx("span",{className:"text-text-secondary text-sm ml-2",children:"O"})]})]}),i.length>0&&c.jsxs("div",{className:"text-left",children:[c.jsx("h3",{className:"text-text-secondary text-sm uppercase tracking-wider mb-3",children:"Recent Files"}),c.jsx("div",{className:"space-y-1",children:i.slice(0,5).map(o=>c.jsx("button",{onClick:async()=>{const{readTextFile:a}=await ki(async()=>{const{readTextFile:h}=await Promise.resolve().then(()=>vd);return{readTextFile:h}},void 0),{basename:l}=await ki(async()=>{const{basename:h}=await Promise.resolve().then(()=>a_);return{basename:h}},void 0),u=await a(o),d=await l(o);n({path:o,name:d,content:u,isDirty:!1,language:r(o)})},className:"block w-full text-left px-3 py-2 rounded hover:bg-tertiary text-sm text-text-secondary hover:text-text-primary transition-colors truncate max-w-md",title:o,children:o},o))})]}),c.jsx("div",{className:"mt-12 text-text-secondary text-sm",children:c.jsxs("div",{className:"flex gap-6 justify-center flex-wrap",children:[c.jsx("span",{children:"P Command Palette"}),c.jsx("span",{children:"B Toggle Sidebar"}),c.jsx("span",{children:", Settings"}),c.jsx("span",{children:"Q Query Panel"})]})})]})})}pu.createRoot(document.getElementById("root")).render(c.jsx(qn.StrictMode,{children:c.jsx(DI,{})}));export{ki as _};
